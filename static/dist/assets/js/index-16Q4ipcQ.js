import{d as Pe,G as K,ag as T,o as F,aw as Tn,r as k,X as ae,m as Be,S as et,c as G,P as s,H as a,O as ve,a as h,J as xe,D as me,I as de,u as z,M as q,ax as Fn,Q as An,L as R,ay as po,a4 as Pt,b as On,p as Tt,aq as yt,n as Ft,a6 as Oe,V as Xt,az as Un,aA as Dn,at as $n,aB as Vn}from"./vue-core-grCPbCnX.js";import{m as In,c as xt,d as Zt,s as lt,u as At,a as Bn,b as Qt,E as S,l as Nn,r as Ln,e as ze,f as qn,i as jn}from"./element-plus-BgKziJp-.js";import{u as mo,E as yo,i as go,a as zn,b as bo,c as ho,d as wo,e as Mn,f as Gn}from"./echarts-ECTwgUBz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(r){if(r.ep)return;r.ep=!0;const u=o(r);fetch(r.href,u)}})();const Hn=Pe({__name:"App",setup(e){return(t,o)=>{const n=T("router-view");return F(),K(n)}}});function vo(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jn}=Object.prototype,{getPrototypeOf:Bt}=Object,gt=(e=>t=>{const o=Jn.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),ge=e=>(e=e.toLowerCase(),t=>gt(t)===e),bt=e=>t=>typeof t===e,{isArray:Ge}=Array,Ye=bt("undefined");function Kn(e){return e!==null&&!Ye(e)&&e.constructor!==null&&!Ye(e.constructor)&&le(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _o=ge("ArrayBuffer");function Wn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_o(e.buffer),t}const Xn=bt("string"),le=bt("function"),Eo=bt("number"),ht=e=>e!==null&&typeof e=="object",Zn=e=>e===!0||e===!1,dt=e=>{if(gt(e)!=="object")return!1;const t=Bt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qn=ge("Date"),Yn=ge("File"),es=ge("Blob"),ts=ge("FileList"),os=e=>ht(e)&&le(e.pipe),ns=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||le(e.append)&&((t=gt(e))==="formdata"||t==="object"&&le(e.toString)&&e.toString()==="[object FormData]"))},ss=ge("URLSearchParams"),[rs,as,ls,is]=["ReadableStream","Request","Response","Headers"].map(ge),us=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tt(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),Ge(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const u=o?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let d;for(n=0;n<l;n++)d=u[n],t.call(null,e[d],d,e)}}function So(e,t){t=t.toLowerCase();const o=Object.keys(e);let n=o.length,r;for(;n-- >0;)if(r=o[n],t===r.toLowerCase())return r;return null}const De=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xo=e=>!Ye(e)&&e!==De;function Ot(){const{caseless:e}=xo(this)&&this||{},t={},o=(n,r)=>{const u=e&&So(t,r)||r;dt(t[u])&&dt(n)?t[u]=Ot(t[u],n):dt(n)?t[u]=Ot({},n):Ge(n)?t[u]=n.slice():t[u]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&tt(arguments[n],o);return t}const ds=(e,t,o,{allOwnKeys:n}={})=>(tt(t,(r,u)=>{o&&le(r)?e[u]=vo(r,o):e[u]=r},{allOwnKeys:n}),e),cs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fs=(e,t,o,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},ps=(e,t,o,n)=>{let r,u,l;const d={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),u=r.length;u-- >0;)l=r[u],(!n||n(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=o!==!1&&Bt(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},ms=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const n=e.indexOf(t,o);return n!==-1&&n===o},ys=e=>{if(!e)return null;if(Ge(e))return e;let t=e.length;if(!Eo(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},gs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Bt(Uint8Array)),bs=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const u=r.value;t.call(e,u[0],u[1])}},hs=(e,t)=>{let o;const n=[];for(;(o=e.exec(t))!==null;)n.push(o);return n},ws=ge("HTMLFormElement"),vs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,n,r){return n.toUpperCase()+r}),Yt=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),_s=ge("RegExp"),ko=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),n={};tt(o,(r,u)=>{let l;(l=t(r,u,e))!==!1&&(n[u]=l||r)}),Object.defineProperties(e,n)},Es=e=>{ko(e,(t,o)=>{if(le(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const n=e[o];if(le(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Ss=(e,t)=>{const o={},n=r=>{r.forEach(u=>{o[u]=!0})};return Ge(e)?n(e):n(String(e).split(t)),o},xs=()=>{},ks=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rs(e){return!!(e&&le(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Cs=e=>{const t=new Array(10),o=(n,r)=>{if(ht(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const u=Ge(n)?[]:{};return tt(n,(l,d)=>{const b=o(l,r+1);!Ye(b)&&(u[d]=b)}),t[r]=void 0,u}}return n};return o(e,0)},Ps=ge("AsyncFunction"),Ts=e=>e&&(ht(e)||le(e))&&le(e.then)&&le(e.catch),Ro=((e,t)=>e?setImmediate:t?((o,n)=>(De.addEventListener("message",({source:r,data:u})=>{r===De&&u===o&&n.length&&n.shift()()},!1),r=>{n.push(r),De.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",le(De.postMessage)),Fs=typeof queueMicrotask<"u"?queueMicrotask.bind(De):typeof process<"u"&&process.nextTick||Ro,p={isArray:Ge,isArrayBuffer:_o,isBuffer:Kn,isFormData:ns,isArrayBufferView:Wn,isString:Xn,isNumber:Eo,isBoolean:Zn,isObject:ht,isPlainObject:dt,isReadableStream:rs,isRequest:as,isResponse:ls,isHeaders:is,isUndefined:Ye,isDate:Qn,isFile:Yn,isBlob:es,isRegExp:_s,isFunction:le,isStream:os,isURLSearchParams:ss,isTypedArray:gs,isFileList:ts,forEach:tt,merge:Ot,extend:ds,trim:us,stripBOM:cs,inherits:fs,toFlatObject:ps,kindOf:gt,kindOfTest:ge,endsWith:ms,toArray:ys,forEachEntry:bs,matchAll:hs,isHTMLForm:ws,hasOwnProperty:Yt,hasOwnProp:Yt,reduceDescriptors:ko,freezeMethods:Es,toObjectSet:Ss,toCamelCase:vs,noop:xs,toFiniteNumber:ks,findKey:So,global:De,isContextDefined:xo,isSpecCompliantForm:Rs,toJSONObject:Cs,isAsyncFn:Ps,isThenable:Ts,setImmediate:Ro,asap:Fs};function B(e,t,o,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}p.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.status}}});const Co=B.prototype,Po={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Po[e]={value:e}});Object.defineProperties(B,Po);Object.defineProperty(Co,"isAxiosError",{value:!0});B.from=(e,t,o,n,r,u)=>{const l=Object.create(Co);return p.toFlatObject(e,l,function(b){return b!==Error.prototype},d=>d!=="isAxiosError"),B.call(l,e.message,t,o,n,r),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const As=null;function Ut(e){return p.isPlainObject(e)||p.isArray(e)}function To(e){return p.endsWith(e,"[]")?e.slice(0,-2):e}function eo(e,t,o){return e?e.concat(t).map(function(r,u){return r=To(r),!o&&u?"["+r+"]":r}).join(o?".":""):t}function Os(e){return p.isArray(e)&&!e.some(Ut)}const Us=p.toFlatObject(p,{},null,function(t){return/^is[A-Z]/.test(t)});function wt(e,t,o){if(!p.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,o=p.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,E){return!p.isUndefined(E[C])});const n=o.metaTokens,r=o.visitor||y,u=o.dots,l=o.indexes,b=(o.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(t);if(!p.isFunction(r))throw new TypeError("visitor must be a function");function m(x){if(x===null)return"";if(p.isDate(x))return x.toISOString();if(!b&&p.isBlob(x))throw new B("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(x)||p.isTypedArray(x)?b&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function y(x,C,E){let D=x;if(x&&!E&&typeof x=="object"){if(p.endsWith(C,"{}"))C=n?C:C.slice(0,-2),x=JSON.stringify(x);else if(p.isArray(x)&&Os(x)||(p.isFileList(x)||p.endsWith(C,"[]"))&&(D=p.toArray(x)))return C=To(C),D.forEach(function(_,P){!(p.isUndefined(_)||_===null)&&t.append(l===!0?eo([C],P,u):l===null?C:C+"[]",m(_))}),!1}return Ut(x)?!0:(t.append(eo(E,C,u),m(x)),!1)}const w=[],A=Object.assign(Us,{defaultVisitor:y,convertValue:m,isVisitable:Ut});function N(x,C){if(!p.isUndefined(x)){if(w.indexOf(x)!==-1)throw Error("Circular reference detected in "+C.join("."));w.push(x),p.forEach(x,function(D,c){(!(p.isUndefined(D)||D===null)&&r.call(t,D,p.isString(c)?c.trim():c,C,A))===!0&&N(D,C?C.concat(c):[c])}),w.pop()}}if(!p.isObject(e))throw new TypeError("data must be an object");return N(e),t}function to(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Nt(e,t){this._pairs=[],e&&wt(e,this,t)}const Fo=Nt.prototype;Fo.append=function(t,o){this._pairs.push([t,o])};Fo.toString=function(t){const o=t?function(n){return t.call(this,n,to)}:to;return this._pairs.map(function(r){return o(r[0])+"="+o(r[1])},"").join("&")};function Ds(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ao(e,t,o){if(!t)return e;const n=o&&o.encode||Ds;p.isFunction(o)&&(o={serialize:o});const r=o&&o.serialize;let u;if(r?u=r(t,o):u=p.isURLSearchParams(t)?t.toString():new Nt(t,o).toString(n),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class oo{constructor(){this.handlers=[]}use(t,o,n){return this.handlers.push({fulfilled:t,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){p.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Oo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$s=typeof URLSearchParams<"u"?URLSearchParams:Nt,Vs=typeof FormData<"u"?FormData:null,Is=typeof Blob<"u"?Blob:null,Bs={isBrowser:!0,classes:{URLSearchParams:$s,FormData:Vs,Blob:Is},protocols:["http","https","file","blob","url","data"]},Lt=typeof window<"u"&&typeof document<"u",Dt=typeof navigator=="object"&&navigator||void 0,Ns=Lt&&(!Dt||["ReactNative","NativeScript","NS"].indexOf(Dt.product)<0),Ls=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qs=Lt&&window.location.href||"http://localhost",js=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lt,hasStandardBrowserEnv:Ns,hasStandardBrowserWebWorkerEnv:Ls,navigator:Dt,origin:qs},Symbol.toStringTag,{value:"Module"})),te={...js,...Bs};function zs(e,t){return wt(e,new te.classes.URLSearchParams,Object.assign({visitor:function(o,n,r,u){return te.isNode&&p.isBuffer(o)?(this.append(n,o.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function Ms(e){return p.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gs(e){const t={},o=Object.keys(e);let n;const r=o.length;let u;for(n=0;n<r;n++)u=o[n],t[u]=e[u];return t}function Uo(e){function t(o,n,r,u){let l=o[u++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),b=u>=o.length;return l=!l&&p.isArray(r)?r.length:l,b?(p.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!d):((!r[l]||!p.isObject(r[l]))&&(r[l]=[]),t(o,n,r[l],u)&&p.isArray(r[l])&&(r[l]=Gs(r[l])),!d)}if(p.isFormData(e)&&p.isFunction(e.entries)){const o={};return p.forEachEntry(e,(n,r)=>{t(Ms(n),r,o,0)}),o}return null}function Hs(e,t,o){if(p.isString(e))try{return(t||JSON.parse)(e),p.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(o||JSON.stringify)(e)}const ot={transitional:Oo,adapter:["xhr","http","fetch"],transformRequest:[function(t,o){const n=o.getContentType()||"",r=n.indexOf("application/json")>-1,u=p.isObject(t);if(u&&p.isHTMLForm(t)&&(t=new FormData(t)),p.isFormData(t))return r?JSON.stringify(Uo(t)):t;if(p.isArrayBuffer(t)||p.isBuffer(t)||p.isStream(t)||p.isFile(t)||p.isBlob(t)||p.isReadableStream(t))return t;if(p.isArrayBufferView(t))return t.buffer;if(p.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zs(t,this.formSerializer).toString();if((d=p.isFileList(t))||n.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return wt(d?{"files[]":t}:t,b&&new b,this.formSerializer)}}return u||r?(o.setContentType("application/json",!1),Hs(t)):t}],transformResponse:[function(t){const o=this.transitional||ot.transitional,n=o&&o.forcedJSONParsing,r=this.responseType==="json";if(p.isResponse(t)||p.isReadableStream(t))return t;if(t&&p.isString(t)&&(n&&!this.responseType||r)){const l=!(o&&o.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?B.from(d,B.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:te.classes.FormData,Blob:te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],e=>{ot.headers[e]={}});const Js=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ks=e=>{const t={};let o,n,r;return e&&e.split(`
`).forEach(function(l){r=l.indexOf(":"),o=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!o||t[o]&&Js[o])&&(o==="set-cookie"?t[o]?t[o].push(n):t[o]=[n]:t[o]=t[o]?t[o]+", "+n:n)}),t},no=Symbol("internals");function Qe(e){return e&&String(e).trim().toLowerCase()}function ct(e){return e===!1||e==null?e:p.isArray(e)?e.map(ct):String(e)}function Ws(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=o.exec(e);)t[n[1]]=n[2];return t}const Xs=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kt(e,t,o,n,r){if(p.isFunction(n))return n.call(this,t,o);if(r&&(t=o),!!p.isString(t)){if(p.isString(n))return t.indexOf(n)!==-1;if(p.isRegExp(n))return n.test(t)}}function Zs(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,n)=>o.toUpperCase()+n)}function Qs(e,t){const o=p.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+o,{value:function(r,u,l){return this[n].call(this,t,r,u,l)},configurable:!0})})}let ne=class{constructor(t){t&&this.set(t)}set(t,o,n){const r=this;function u(d,b,m){const y=Qe(b);if(!y)throw new Error("header name must be a non-empty string");const w=p.findKey(r,y);(!w||r[w]===void 0||m===!0||m===void 0&&r[w]!==!1)&&(r[w||b]=ct(d))}const l=(d,b)=>p.forEach(d,(m,y)=>u(m,y,b));if(p.isPlainObject(t)||t instanceof this.constructor)l(t,o);else if(p.isString(t)&&(t=t.trim())&&!Xs(t))l(Ks(t),o);else if(p.isHeaders(t))for(const[d,b]of t.entries())u(b,d,n);else t!=null&&u(o,t,n);return this}get(t,o){if(t=Qe(t),t){const n=p.findKey(this,t);if(n){const r=this[n];if(!o)return r;if(o===!0)return Ws(r);if(p.isFunction(o))return o.call(this,r,n);if(p.isRegExp(o))return o.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=Qe(t),t){const n=p.findKey(this,t);return!!(n&&this[n]!==void 0&&(!o||kt(this,this[n],n,o)))}return!1}delete(t,o){const n=this;let r=!1;function u(l){if(l=Qe(l),l){const d=p.findKey(n,l);d&&(!o||kt(n,n[d],d,o))&&(delete n[d],r=!0)}}return p.isArray(t)?t.forEach(u):u(t),r}clear(t){const o=Object.keys(this);let n=o.length,r=!1;for(;n--;){const u=o[n];(!t||kt(this,this[u],u,t,!0))&&(delete this[u],r=!0)}return r}normalize(t){const o=this,n={};return p.forEach(this,(r,u)=>{const l=p.findKey(n,u);if(l){o[l]=ct(r),delete o[u];return}const d=t?Zs(u):String(u).trim();d!==u&&delete o[u],o[d]=ct(r),n[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return p.forEach(this,(n,r)=>{n!=null&&n!==!1&&(o[r]=t&&p.isArray(n)?n.join(", "):n)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const n=new this(t);return o.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[no]=this[no]={accessors:{}}).accessors,r=this.prototype;function u(l){const d=Qe(l);n[d]||(Qs(r,l),n[d]=!0)}return p.isArray(t)?t.forEach(u):u(t),this}};ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(ne.prototype,({value:e},t)=>{let o=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[o]=n}}});p.freezeMethods(ne);function Rt(e,t){const o=this||ot,n=t||o,r=ne.from(n.headers);let u=n.data;return p.forEach(e,function(d){u=d.call(o,u,r.normalize(),t?t.status:void 0)}),r.normalize(),u}function Do(e){return!!(e&&e.__CANCEL__)}function He(e,t,o){B.call(this,e??"canceled",B.ERR_CANCELED,t,o),this.name="CanceledError"}p.inherits(He,B,{__CANCEL__:!0});function $o(e,t,o){const n=o.config.validateStatus;!o.status||!n||n(o.status)?e(o):t(new B("Request failed with status code "+o.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Ys(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function er(e,t){e=e||10;const o=new Array(e),n=new Array(e);let r=0,u=0,l;return t=t!==void 0?t:1e3,function(b){const m=Date.now(),y=n[u];l||(l=m),o[r]=b,n[r]=m;let w=u,A=0;for(;w!==r;)A+=o[w++],w=w%e;if(r=(r+1)%e,r===u&&(u=(u+1)%e),m-l<t)return;const N=y&&m-y;return N?Math.round(A*1e3/N):void 0}}function tr(e,t){let o=0,n=1e3/t,r,u;const l=(m,y=Date.now())=>{o=y,r=null,u&&(clearTimeout(u),u=null),e.apply(null,m)};return[(...m)=>{const y=Date.now(),w=y-o;w>=n?l(m,y):(r=m,u||(u=setTimeout(()=>{u=null,l(r)},n-w)))},()=>r&&l(r)]}const pt=(e,t,o=3)=>{let n=0;const r=er(50,250);return tr(u=>{const l=u.loaded,d=u.lengthComputable?u.total:void 0,b=l-n,m=r(b),y=l<=d;n=l;const w={loaded:l,total:d,progress:d?l/d:void 0,bytes:b,rate:m||void 0,estimated:m&&d&&y?(d-l)/m:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(w)},o)},so=(e,t)=>{const o=e!=null;return[n=>t[0]({lengthComputable:o,total:e,loaded:n}),t[1]]},ro=e=>(...t)=>p.asap(()=>e(...t)),or=te.hasStandardBrowserEnv?((e,t)=>o=>(o=new URL(o,te.origin),e.protocol===o.protocol&&e.host===o.host&&(t||e.port===o.port)))(new URL(te.origin),te.navigator&&/(msie|trident)/i.test(te.navigator.userAgent)):()=>!0,nr=te.hasStandardBrowserEnv?{write(e,t,o,n,r,u){const l=[e+"="+encodeURIComponent(t)];p.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),p.isString(n)&&l.push("path="+n),p.isString(r)&&l.push("domain="+r),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vo(e,t,o){let n=!sr(t);return e&&(n||o==!1)?rr(e,t):t}const ao=e=>e instanceof ne?{...e}:e;function Ie(e,t){t=t||{};const o={};function n(m,y,w,A){return p.isPlainObject(m)&&p.isPlainObject(y)?p.merge.call({caseless:A},m,y):p.isPlainObject(y)?p.merge({},y):p.isArray(y)?y.slice():y}function r(m,y,w,A){if(p.isUndefined(y)){if(!p.isUndefined(m))return n(void 0,m,w,A)}else return n(m,y,w,A)}function u(m,y){if(!p.isUndefined(y))return n(void 0,y)}function l(m,y){if(p.isUndefined(y)){if(!p.isUndefined(m))return n(void 0,m)}else return n(void 0,y)}function d(m,y,w){if(w in t)return n(m,y);if(w in e)return n(void 0,m)}const b={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(m,y,w)=>r(ao(m),ao(y),w,!0)};return p.forEach(Object.keys(Object.assign({},e,t)),function(y){const w=b[y]||r,A=w(e[y],t[y],y);p.isUndefined(A)&&w!==d||(o[y]=A)}),o}const Io=e=>{const t=Ie({},e);let{data:o,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:u,headers:l,auth:d}=t;t.headers=l=ne.from(l),t.url=Ao(Vo(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let b;if(p.isFormData(o)){if(te.hasStandardBrowserEnv||te.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((b=l.getContentType())!==!1){const[m,...y]=b?b.split(";").map(w=>w.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...y].join("; "))}}if(te.hasStandardBrowserEnv&&(n&&p.isFunction(n)&&(n=n(t)),n||n!==!1&&or(t.url))){const m=r&&u&&nr.read(u);m&&l.set(r,m)}return t},ar=typeof XMLHttpRequest<"u",lr=ar&&function(e){return new Promise(function(o,n){const r=Io(e);let u=r.data;const l=ne.from(r.headers).normalize();let{responseType:d,onUploadProgress:b,onDownloadProgress:m}=r,y,w,A,N,x;function C(){N&&N(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(y),r.signal&&r.signal.removeEventListener("abort",y)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function D(){if(!E)return;const _=ne.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),v={data:!d||d==="text"||d==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:_,config:e,request:E};$o(function(L){o(L),C()},function(L){n(L),C()},v),E=null}"onloadend"in E?E.onloadend=D:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(D)},E.onabort=function(){E&&(n(new B("Request aborted",B.ECONNABORTED,e,E)),E=null)},E.onerror=function(){n(new B("Network Error",B.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let P=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const v=r.transitional||Oo;r.timeoutErrorMessage&&(P=r.timeoutErrorMessage),n(new B(P,v.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,e,E)),E=null},u===void 0&&l.setContentType(null),"setRequestHeader"in E&&p.forEach(l.toJSON(),function(P,v){E.setRequestHeader(v,P)}),p.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),d&&d!=="json"&&(E.responseType=r.responseType),m&&([A,x]=pt(m,!0),E.addEventListener("progress",A)),b&&E.upload&&([w,N]=pt(b),E.upload.addEventListener("progress",w),E.upload.addEventListener("loadend",N)),(r.cancelToken||r.signal)&&(y=_=>{E&&(n(!_||_.type?new He(null,e,E):_),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(y),r.signal&&(r.signal.aborted?y():r.signal.addEventListener("abort",y)));const c=Ys(r.url);if(c&&te.protocols.indexOf(c)===-1){n(new B("Unsupported protocol "+c+":",B.ERR_BAD_REQUEST,e));return}E.send(u||null)})},ir=(e,t)=>{const{length:o}=e=e?e.filter(Boolean):[];if(t||o){let n=new AbortController,r;const u=function(m){if(!r){r=!0,d();const y=m instanceof Error?m:this.reason;n.abort(y instanceof B?y:new He(y instanceof Error?y.message:y))}};let l=t&&setTimeout(()=>{l=null,u(new B(`timeout ${t} of ms exceeded`,B.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),e=null)};e.forEach(m=>m.addEventListener("abort",u));const{signal:b}=n;return b.unsubscribe=()=>p.asap(d),b}},ur=function*(e,t){let o=e.byteLength;if(o<t){yield e;return}let n=0,r;for(;n<o;)r=n+t,yield e.slice(n,r),n=r},dr=async function*(e,t){for await(const o of cr(e))yield*ur(o,t)},cr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:o,value:n}=await t.read();if(o)break;yield n}}finally{await t.cancel()}},lo=(e,t,o,n)=>{const r=dr(e,t);let u=0,l,d=b=>{l||(l=!0,n&&n(b))};return new ReadableStream({async pull(b){try{const{done:m,value:y}=await r.next();if(m){d(),b.close();return}let w=y.byteLength;if(o){let A=u+=w;o(A)}b.enqueue(new Uint8Array(y))}catch(m){throw d(m),m}},cancel(b){return d(b),r.return()}},{highWaterMark:2})},vt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Bo=vt&&typeof ReadableStream=="function",fr=vt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),No=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pr=Bo&&No(()=>{let e=!1;const t=new Request(te.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),io=64*1024,$t=Bo&&No(()=>p.isReadableStream(new Response("").body)),mt={stream:$t&&(e=>e.body)};vt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!mt[t]&&(mt[t]=p.isFunction(e[t])?o=>o[t]():(o,n)=>{throw new B(`Response type '${t}' is not supported`,B.ERR_NOT_SUPPORT,n)})})})(new Response);const mr=async e=>{if(e==null)return 0;if(p.isBlob(e))return e.size;if(p.isSpecCompliantForm(e))return(await new Request(te.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(p.isArrayBufferView(e)||p.isArrayBuffer(e))return e.byteLength;if(p.isURLSearchParams(e)&&(e=e+""),p.isString(e))return(await fr(e)).byteLength},yr=async(e,t)=>{const o=p.toFiniteNumber(e.getContentLength());return o??mr(t)},gr=vt&&(async e=>{let{url:t,method:o,data:n,signal:r,cancelToken:u,timeout:l,onDownloadProgress:d,onUploadProgress:b,responseType:m,headers:y,withCredentials:w="same-origin",fetchOptions:A}=Io(e);m=m?(m+"").toLowerCase():"text";let N=ir([r,u&&u.toAbortSignal()],l),x;const C=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let E;try{if(b&&pr&&o!=="get"&&o!=="head"&&(E=await yr(y,n))!==0){let v=new Request(t,{method:"POST",body:n,duplex:"half"}),I;if(p.isFormData(n)&&(I=v.headers.get("content-type"))&&y.setContentType(I),v.body){const[L,H]=so(E,pt(ro(b)));n=lo(v.body,io,L,H)}}p.isString(w)||(w=w?"include":"omit");const D="credentials"in Request.prototype;x=new Request(t,{...A,signal:N,method:o.toUpperCase(),headers:y.normalize().toJSON(),body:n,duplex:"half",credentials:D?w:void 0});let c=await fetch(x);const _=$t&&(m==="stream"||m==="response");if($t&&(d||_&&C)){const v={};["status","statusText","headers"].forEach(oe=>{v[oe]=c[oe]});const I=p.toFiniteNumber(c.headers.get("content-length")),[L,H]=d&&so(I,pt(ro(d),!0))||[];c=new Response(lo(c.body,io,L,()=>{H&&H(),C&&C()}),v)}m=m||"text";let P=await mt[p.findKey(mt,m)||"text"](c,e);return!_&&C&&C(),await new Promise((v,I)=>{$o(v,I,{data:P,headers:ne.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:x})})}catch(D){throw C&&C(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new B("Network Error",B.ERR_NETWORK,e,x),{cause:D.cause||D}):B.from(D,D&&D.code,e,x)}}),Vt={http:As,xhr:lr,fetch:gr};p.forEach(Vt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uo=e=>`- ${e}`,br=e=>p.isFunction(e)||e===null||e===!1,Lo={getAdapter:e=>{e=p.isArray(e)?e:[e];const{length:t}=e;let o,n;const r={};for(let u=0;u<t;u++){o=e[u];let l;if(n=o,!br(o)&&(n=Vt[(l=String(o)).toLowerCase()],n===void 0))throw new B(`Unknown adapter '${l}'`);if(n)break;r[l||"#"+u]=n}if(!n){const u=Object.entries(r).map(([d,b])=>`adapter ${d} `+(b===!1?"is not supported by the environment":"is not available in the build"));let l=t?u.length>1?`since :
`+u.map(uo).join(`
`):" "+uo(u[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Vt};function Ct(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new He(null,e)}function co(e){return Ct(e),e.headers=ne.from(e.headers),e.data=Rt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lo.getAdapter(e.adapter||ot.adapter)(e).then(function(n){return Ct(e),n.data=Rt.call(e,e.transformResponse,n),n.headers=ne.from(n.headers),n},function(n){return Do(n)||(Ct(e),n&&n.response&&(n.response.data=Rt.call(e,e.transformResponse,n.response),n.response.headers=ne.from(n.response.headers))),Promise.reject(n)})}const qo="1.8.4",_t={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_t[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const fo={};_t.transitional=function(t,o,n){function r(u,l){return"[Axios v"+qo+"] Transitional option '"+u+"'"+l+(n?". "+n:"")}return(u,l,d)=>{if(t===!1)throw new B(r(l," has been removed"+(o?" in "+o:"")),B.ERR_DEPRECATED);return o&&!fo[l]&&(fo[l]=!0,console.warn(r(l," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(u,l,d):!0}};_t.spelling=function(t){return(o,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function hr(e,t,o){if(typeof e!="object")throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const u=n[r],l=t[u];if(l){const d=e[u],b=d===void 0||l(d,u,e);if(b!==!0)throw new B("option "+u+" must be "+b,B.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new B("Unknown option "+u,B.ERR_BAD_OPTION)}}const ft={assertOptions:hr,validators:_t},we=ft.validators;let $e=class{constructor(t){this.defaults=t,this.interceptors={request:new oo,response:new oo}}async request(t,o){try{return await this._request(t,o)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const u=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?u&&!String(n.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+u):n.stack=u}catch{}}throw n}}_request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=Ie(this.defaults,o);const{transitional:n,paramsSerializer:r,headers:u}=o;n!==void 0&&ft.assertOptions(n,{silentJSONParsing:we.transitional(we.boolean),forcedJSONParsing:we.transitional(we.boolean),clarifyTimeoutError:we.transitional(we.boolean)},!1),r!=null&&(p.isFunction(r)?o.paramsSerializer={serialize:r}:ft.assertOptions(r,{encode:we.function,serialize:we.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),ft.assertOptions(o,{baseUrl:we.spelling("baseURL"),withXsrfToken:we.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let l=u&&p.merge(u.common,u[o.method]);u&&p.forEach(["delete","get","head","post","put","patch","common"],x=>{delete u[x]}),o.headers=ne.concat(l,u);const d=[];let b=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(o)===!1||(b=b&&C.synchronous,d.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let y,w=0,A;if(!b){const x=[co.bind(this),void 0];for(x.unshift.apply(x,d),x.push.apply(x,m),A=x.length,y=Promise.resolve(o);w<A;)y=y.then(x[w++],x[w++]);return y}A=d.length;let N=o;for(w=0;w<A;){const x=d[w++],C=d[w++];try{N=x(N)}catch(E){C.call(this,E);break}}try{y=co.call(this,N)}catch(x){return Promise.reject(x)}for(w=0,A=m.length;w<A;)y=y.then(m[w++],m[w++]);return y}getUri(t){t=Ie(this.defaults,t);const o=Vo(t.baseURL,t.url,t.allowAbsoluteUrls);return Ao(o,t.params,t.paramsSerializer)}};p.forEach(["delete","get","head","options"],function(t){$e.prototype[t]=function(o,n){return this.request(Ie(n||{},{method:t,url:o,data:(n||{}).data}))}});p.forEach(["post","put","patch"],function(t){function o(n){return function(u,l,d){return this.request(Ie(d||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}$e.prototype[t]=o(),$e.prototype[t+"Form"]=o(!0)});let wr=class jo{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(u){o=u});const n=this;this.promise.then(r=>{if(!n._listeners)return;let u=n._listeners.length;for(;u-- >0;)n._listeners[u](r);n._listeners=null}),this.promise.then=r=>{let u;const l=new Promise(d=>{n.subscribe(d),u=d}).then(r);return l.cancel=function(){n.unsubscribe(u)},l},t(function(u,l,d){n.reason||(n.reason=new He(u,l,d),o(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const t=new AbortController,o=n=>{t.abort(n)};return this.subscribe(o),t.signal.unsubscribe=()=>this.unsubscribe(o),t.signal}static source(){let t;return{token:new jo(function(r){t=r}),cancel:t}}};function vr(e){return function(o){return e.apply(null,o)}}function _r(e){return p.isObject(e)&&e.isAxiosError===!0}const It={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(It).forEach(([e,t])=>{It[t]=e});function zo(e){const t=new $e(e),o=vo($e.prototype.request,t);return p.extend(o,$e.prototype,t,{allOwnKeys:!0}),p.extend(o,t,null,{allOwnKeys:!0}),o.create=function(r){return zo(Ie(e,r))},o}const Z=zo(ot);Z.Axios=$e;Z.CanceledError=He;Z.CancelToken=wr;Z.isCancel=Do;Z.VERSION=qo;Z.toFormData=wt;Z.AxiosError=B;Z.Cancel=Z.CanceledError;Z.all=function(t){return Promise.all(t)};Z.spread=vr;Z.isAxiosError=_r;Z.mergeConfig=Ie;Z.AxiosHeaders=ne;Z.formToJSON=e=>Uo(p.isHTMLForm(e)?new FormData(e):e);Z.getAdapter=Lo.getAdapter;Z.HttpStatusCode=It;Z.default=Z;const{Axios:Ya,AxiosError:el,CanceledError:tl,isCancel:ol,CancelToken:nl,VERSION:sl,all:rl,Cancel:al,isAxiosError:ll,spread:il,toFormData:ul,AxiosHeaders:dl,HttpStatusCode:cl,formToJSON:fl,getAdapter:pl,mergeConfig:ml}=Z,Er="/api",Me=Z.create({baseURL:Er,timeout:1e4,headers:{"Content-Type":"application/json"}});Me.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Me.interceptors.response.use(e=>e.data,e=>e.response?(e.response.status===401&&window.location.pathname!=="/login"&&(localStorage.removeItem("token"),localStorage.removeItem("userGroupId"),window.location.href="/login"),Promise.reject(e.response.data)):e.request?Promise.reject({code:-1,message:"网络错误，请稍后重试"}):Promise.reject({code:-2,message:"请求错误"}));const U={get:async(e,t)=>(await Me.get(e,{params:t})).data,post:async(e,t)=>(await Me.post(e,t)).data,put:async(e,t)=>(await Me.put(e,t)).data,delete:async e=>(await Me.delete(e)).data},Ue={getSystemStatus:()=>U.get("/dashboard/system-status"),getTrafficStatus:()=>U.get("/dashboard/traffic-status"),getProxyTrafficRank:e=>U.get(`/dashboard/proxy-traffic-rank/${e}`),getUserTrafficRank:()=>U.get("/dashboard/user-traffic-rank"),getTrafficHistory:e=>U.get(`/dashboard/traffic-history/${e}`),getActiveUserLinks:()=>U.get("/dashboard/active-user-link"),getMyTrafficStatus:()=>U.get("/dashboard/my-traffic")};async function it(e){const o=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}const _e={getUsers:()=>U.get("/users"),getUser:e=>U.get(`/users/${e}`),createUser:async e=>(e.password=(await it(e.password)).toString(),U.post("/users",e)),updateUser:(e,t)=>U.put(`/users/${e}`,t),deleteUser:e=>U.delete(`/users/${e}`),resetPassword:e=>U.post(`/users/${e}/reset-password`),login:async e=>(e.password=(await it(e.password)).toString(),U.post("/auth/login",e)),logout:()=>(qt().logout(),!0),changePassword:async(e,t)=>{const o=(await it(e)).toString(),n=(await it(t)).toString();return U.post("/auth/change-password",{oldPassword:o,newPassword:n})},getMyToken:()=>U.get("/user/my-token"),updateMyToken:()=>U.put("/user/my-token")},ye={getInboundProxies:()=>U.get("/proxies/inbound"),getOutboundProxies:()=>U.get("/proxies/outbound"),getInboundProxy:e=>U.get(`/proxies/inbound/${e}`),getOutboundProxy:e=>U.get(`/proxies/outbound/${e}`),createInboundProxy:e=>U.post("/proxies/inbound",e),createOutboundProxy:e=>U.post("/proxies/outbound",e),updateInboundProxy:(e,t)=>U.put(`/proxies/inbound/${e}`,t),updateOutboundProxy:(e,t)=>U.put(`/proxies/outbound/${e}`,t),deleteInboundProxy:e=>U.delete(`/proxies/inbound/${e}`),deleteOutboundProxy:e=>U.delete(`/proxies/outbound/${e}`),getUsableInboundProxies:()=>U.get("/proxies/usable-inbounds"),testOutboundProxySpeed:e=>U.post(`/proxies/outbound/${e}/test-speed`)},ue={getRouteSchemes:()=>U.get("/routes/schemes"),getRouteScheme:e=>U.get(`/routes/schemes/${e}`),createRouteScheme:e=>U.post("/routes/schemes",e),updateRouteScheme:(e,t)=>U.put(`/routes/schemes/${e}`,t),deleteRouteScheme:e=>U.delete(`/routes/schemes/${e}`),toggleRouteSchemeStatus:e=>U.post(`/routes/schemes/${e}/toggle-status`),getRules:e=>U.get(`/routes/schemes/${e}/rules`),addRule:(e,t)=>U.post(`/routes/schemes/${e}/rules`,t),updateRule:(e,t,o)=>U.put(`/routes/schemes/${e}/rules/${t}`,o),deleteRule:(e,t)=>U.delete(`/routes/schemes/${e}/rules/${t}`),updateRuleOrder:(e,t)=>U.post(`/routes/schemes/${e}/rules/reorder`,{ruleIds:t})},ut={getUserGroups:()=>U.get("/user-groups"),getUserGroup:e=>U.get(`/user-groups/${e}`),createUserGroup:e=>U.post("/user-groups",e),updateUserGroup:(e,t)=>U.put(`/user-groups/${e}`,t),deleteUserGroup:e=>U.delete(`/user-groups/${e}`),getUsersInGroup:e=>U.get(`/user-groups/${e}/users`),addUserToGroup:(e,t)=>U.post(`/user-groups/${e}/users/${t}`),removeUserFromGroup:(e,t)=>U.delete(`/user-groups/${e}/users/${t}`)},Ve={getSystemInfo:()=>U.get("/system/info"),getSystemName:()=>U.get("/system/name"),updateSystemInfo:e=>U.put("/system/info",e),clearBadgerCache:()=>U.post("/system/clear-badger-cache")},qt=Tn("user",()=>{const e=k(localStorage.getItem("token")||"");k(localStorage.getItem("username")||"");const t=k(localStorage.getItem("userId")||""),o=k(localStorage.getItem("userGroupId")||"");return{token:e,userId:t,userGroupId:o,login:async(u,l)=>{try{console.log("Login attempt:",{inputUsername:u,password:l});const d=await _e.login({username:u,password:l});return d.token&&d.userId?(e.value=d.token,t.value=d.userId,o.value=d.userGroupId,localStorage.setItem("token",d.token),localStorage.setItem("userId",d.userId),localStorage.setItem("userGroupId",d.userGroupId),!0):(console.log("Login failed: invalid credentials"),!1)}catch(d){return console.error("Login failed:",d),!1}},logout:()=>{e.value="",t.value="",o.value="",localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userGroupId")}}}),Sr={class:"dock-nav"},xr={class:"dock-content"},kr={class:"dock-menu"},Rr={class:"dock-item"},Cr={class:"system-title"},Pr={class:"user-submenu"},Tr={key:0,class:"mobile-tab-bar"},Fr={class:"mobile-user-menu"},Ar={class:"user-header"},Or={class:"menu-list"},Ur={class:"dialog-footer"},Dr=Pe({__name:"MainLayout",setup(e){const t=Fn(),o=po(),n=qt(),r=k(!1),u=k("ZIP管理面板"),l=k(!1),d=k(!1),b=k(!1),m=k(),y=ae({oldPassword:"",newPassword:"",confirmPassword:""}),w=ae({oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"},{validator:(D,c,_)=>{c!==y.newPassword?_(new Error("两次输入的密码不一致")):_()},trigger:"blur"}]}),A=k(!1),N=async()=>{try{const D=await Ve.getSystemInfo();u.value=D.systemName}catch(D){console.error("获取系统名称失败",D)}},x=()=>{const D=window.innerWidth;l.value=D<768},C=D=>{D==="logout"?(_e.logout(),o.push("/login")):D==="changePassword"&&(y.oldPassword="",y.newPassword="",y.confirmPassword="",d.value=!0)},E=async()=>{m.value&&await m.value.validate(async D=>{var c,_;if(D){b.value=!0;try{await _e.changePassword(y.oldPassword,y.newPassword),S.success("密码修改成功"),d.value=!1}catch(P){console.error("修改密码失败",P),S.error(((_=(c=P.response)==null?void 0:c.data)==null?void 0:_.message)||"密码修改失败，请检查旧密码是否正确")}finally{b.value=!1}}})};return Be(()=>{n.userGroupId==="管理员"&&(r.value=!0),N(),x(),window.addEventListener("resize",x)}),et(()=>{window.removeEventListener("resize",x)}),(D,c)=>{const _=T("router-view"),P=T("el-main"),v=T("el-icon"),I=T("router-link"),L=T("Operation"),H=T("el-drawer"),oe=T("el-container"),se=T("el-input"),ce=T("el-form-item"),W=T("el-form"),Ee=T("el-button"),be=T("el-dialog");return F(),G(ve,null,[s(oe,{class:"layout-container"},{default:a(()=>[s(P,{class:me({"mobile-main":l.value})},{default:a(()=>[s(_)]),_:1},8,["class"]),h("div",Sr,[h("div",xr,[h("div",kr,[r.value?(F(),G(ve,{key:0},[h("div",Rr,[s(v,null,{default:a(()=>[s(z(In))]),_:1}),h("span",Cr,q(u.value),1)]),s(I,{to:"/my-proxies",class:me(["dock-item",{active:z(t).path==="/my-proxies"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(z(xt))]),_:1}),c[12]||(c[12]=h("span",null,"我的代理",-1))]),_:1},8,["class"]),s(I,{to:"/",class:me(["dock-item",{active:z(t).path==="/"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(z(Zt))]),_:1}),c[13]||(c[13]=h("span",null,"统计数据",-1))]),_:1},8,["class"]),s(I,{to:"/integrated",class:me(["dock-item",{active:z(t).path==="/integrated"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(L)]),_:1}),c[14]||(c[14]=h("span",null,"管理面板",-1))]),_:1},8,["class"]),s(I,{to:"/system",class:me(["dock-item",{active:z(t).path==="/system"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(z(lt))]),_:1}),c[15]||(c[15]=h("span",null,"基础设置",-1))]),_:1},8,["class"])],64)):(F(),K(I,{key:1,to:"/my-proxies",class:me(["dock-item",{active:z(t).path==="/my-proxies"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(z(xt))]),_:1}),c[16]||(c[16]=h("span",null,"我的代理",-1))]),_:1},8,["class"])),h("div",{class:"dock-item user-menu",onClick:c[0]||(c[0]=M=>A.value=!A.value)},[s(v,null,{default:a(()=>[s(z(At))]),_:1}),h("span",null,q(z(n).userId),1),s(v,{class:me(["arrow-icon",{"is-active":A.value}])},{default:a(()=>[s(z(Bn))]),_:1},8,["class"])])])]),de(h("div",Pr,[h("div",{class:"submenu-item",onClick:c[1]||(c[1]=M=>C("changePassword"))},[s(v,null,{default:a(()=>[s(z(lt))]),_:1}),c[17]||(c[17]=h("span",null,"修改密码",-1))]),h("div",{class:"submenu-item",onClick:c[2]||(c[2]=M=>C("logout"))},[s(v,null,{default:a(()=>[s(z(Qt))]),_:1}),c[18]||(c[18]=h("span",null,"退出登录",-1))])],512),[[An,A.value]])]),l.value?(F(),G("div",Tr,[r.value?(F(),G(ve,{key:0},[s(I,{to:"/",class:me(["tab-item",{active:z(t).path==="/"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(z(Zt))]),_:1}),c[19]||(c[19]=h("span",null,"统计数据",-1))]),_:1},8,["class"]),s(I,{to:"/integrated",class:me(["tab-item",{active:z(t).path==="/integrated"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(L)]),_:1}),c[20]||(c[20]=h("span",null,"管理面板",-1))]),_:1},8,["class"]),s(I,{to:"/system",class:me(["tab-item",{active:z(t).path==="/system"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(z(lt))]),_:1}),c[21]||(c[21]=h("span",null,"基础设置",-1))]),_:1},8,["class"])],64)):(F(),K(I,{key:1,to:"/my-proxies",class:me(["tab-item",{active:z(t).path==="/my-proxies"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(z(xt))]),_:1}),c[22]||(c[22]=h("span",null,"我的代理",-1))]),_:1},8,["class"])),h("div",{class:"tab-item",onClick:c[3]||(c[3]=M=>A.value=!0)},[s(v,null,{default:a(()=>[s(z(At))]),_:1}),c[23]||(c[23]=h("span",null,"我的",-1))])])):xe("",!0),l.value?(F(),K(H,{key:1,modelValue:A.value,"onUpdate:modelValue":c[6]||(c[6]=M=>A.value=M),direction:"rtl",size:"80%"},{default:a(()=>[h("div",Fr,[h("div",Ar,[h("h3",null,q(z(n).userId),1)]),h("div",Or,[h("div",{class:"menu-item",onClick:c[4]||(c[4]=M=>C("changePassword"))},[s(v,null,{default:a(()=>[s(z(lt))]),_:1}),c[24]||(c[24]=h("span",null,"修改密码",-1))]),h("div",{class:"menu-item",onClick:c[5]||(c[5]=M=>C("logout"))},[s(v,null,{default:a(()=>[s(z(Qt))]),_:1}),c[25]||(c[25]=h("span",null,"退出登录",-1))])])])]),_:1},8,["modelValue"])):xe("",!0)]),_:1}),s(be,{modelValue:d.value,"onUpdate:modelValue":c[11]||(c[11]=M=>d.value=M),title:"修改密码",width:"400px"},{footer:a(()=>[h("span",Ur,[s(Ee,{onClick:c[10]||(c[10]=M=>d.value=!1)},{default:a(()=>c[26]||(c[26]=[R("取消")])),_:1}),s(Ee,{type:"primary",onClick:E,loading:b.value},{default:a(()=>c[27]||(c[27]=[R("确定")])),_:1},8,["loading"])])]),default:a(()=>[s(W,{ref_key:"passwordFormRef",ref:m,model:y,rules:w,"label-width":"100px"},{default:a(()=>[s(ce,{label:"旧密码",prop:"oldPassword"},{default:a(()=>[s(se,{modelValue:y.oldPassword,"onUpdate:modelValue":c[7]||(c[7]=M=>y.oldPassword=M),type:"password",placeholder:"请输入旧密码","show-password":""},null,8,["modelValue"])]),_:1}),s(ce,{label:"新密码",prop:"newPassword"},{default:a(()=>[s(se,{modelValue:y.newPassword,"onUpdate:modelValue":c[8]||(c[8]=M=>y.newPassword=M),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),s(ce,{label:"确认新密码",prop:"confirmPassword"},{default:a(()=>[s(se,{modelValue:y.confirmPassword,"onUpdate:modelValue":c[9]||(c[9]=M=>y.confirmPassword=M),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])],64)}}}),Ne=(e,t)=>{const o=e.__vccOpts||e;for(const[n,r]of t)o[n]=r;return o},$r=Ne(Dr,[["__scopeId","data-v-c63429e8"]]),Vr={class:"login-container"},Ir={class:"login-box"},Br={class:"login-header"},Nr=Pe({__name:"Login",setup(e){const t=po(),o=qt(),n=k(),r=k(!1),u=k("ZIP管理面板"),l=ae({username:"",password:""}),d={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},b=async()=>{try{const y=await Ve.getSystemName();u.value=y.systemName||"ZIP管理面板"}catch(y){console.error("获取系统名称失败",y)}};Be(()=>{b()});const m=async()=>{n.value&&await n.value.validate(async y=>{if(y){r.value=!0;try{console.log("Form submitted:",l);const w=await o.login(l.username,l.password);console.log("Login result:",w),w?(S.success("登录成功"),t.push("/")):S.error("用户名或密码错误")}catch(w){console.error("Login error:",w),S.error("登录失败，请重试")}finally{r.value=!1}}else console.log("Form validation failed")})};return(y,w)=>{const A=T("el-input"),N=T("el-form-item"),x=T("el-button"),C=T("el-form"),E=T("el-card");return F(),G("div",Vr,[h("div",Ir,[s(E,{class:"login-card"},{header:a(()=>[h("div",Br,[h("h2",null,q(u.value),1),w[2]||(w[2]=h("p",{class:"subtitle"},"(～￣▽￣)→))*￣▽￣*)o ",-1))])]),default:a(()=>[s(C,{ref_key:"formRef",ref:n,model:l,rules:d,"label-position":"top",size:"large",class:"login-form"},{default:a(()=>[s(N,{prop:"username"},{default:a(()=>[s(A,{modelValue:l.username,"onUpdate:modelValue":w[0]||(w[0]=D=>l.username=D),placeholder:"用户名","prefix-icon":z(At)},null,8,["modelValue","prefix-icon"])]),_:1}),s(N,{prop:"password"},{default:a(()=>[s(A,{modelValue:l.password,"onUpdate:modelValue":w[1]||(w[1]=D=>l.password=D),type:"password",placeholder:"密码","show-password":"","prefix-icon":z(Nn),onKeyup:Pt(m,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),s(N,null,{default:a(()=>[s(x,{type:"primary",onClick:m,loading:r.value,class:"login-button"},{default:a(()=>[R(q(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])}}}),Lr=Ne(Nr,[["__scopeId","data-v-c1ee71ba"]]),qr={class:"dashboard-container"},jr={class:"card-header"},zr={class:"chart-container"},Mr={class:"status-content"},Gr={class:"status-item"},Hr={class:"value"},Jr={class:"status-item"},Kr={class:"value"},Wr={class:"status-item"},Xr={class:"value"},Zr=Pe({__name:"Dashboard",setup(e){mo([go,zn,bo,ho,wo,Mn]);const t=k({upload:0,download:0,total:0}),o=k([]),n=k([]),r=k([]),u=k([]),l=k("day"),d=k({labels:[],upload:[],download:[]}),b=ae({systemStatus:!0,proxyStatus:!0,trafficStatus:!0,inboundTrafficRank:!0,outboundTrafficRank:!0,userTrafficRank:!0,trafficHistory:!0,recentLogs:!0,activeUserLinks:!0,activeLinks:!0});k([]),k(1),k(20),k(0);const m=async()=>{b.trafficStatus=!0;try{t.value=await Ue.getTrafficStatus()}catch(c){console.error("获取流量状态失败",c),S.error("获取流量状态失败")}finally{b.trafficStatus=!1}},y=async()=>{b.inboundTrafficRank=!0,b.outboundTrafficRank=!0,Ue.getProxyTrafficRank("i").then(c=>{o.value=c}).catch(c=>{console.error("获取入站代理流量排行失败",c),S.error("获取入站代理流量排行失败")}).finally(()=>{b.inboundTrafficRank=!1}),Ue.getProxyTrafficRank("o").then(c=>{n.value=c}).catch(c=>{console.error("获取出站代理流量排行失败",c),S.error("获取出站代理流量排行失败")}).finally(()=>{b.outboundTrafficRank=!1})},w=async()=>{b.userTrafficRank=!0;try{r.value=await Ue.getUserTrafficRank()}catch(c){console.error("获取用户流量排行失败",c),S.error("获取用户流量排行失败")}finally{b.userTrafficRank=!1}},A=async()=>{b.activeUserLinks=!0;try{u.value=await Ue.getActiveUserLinks()}catch(c){console.error("获取在线用户失败",c),S.error("获取在线用户失败")}finally{b.activeUserLinks=!1}},N=async()=>{b.trafficHistory=!0;try{d.value=await Ue.getTrafficHistory(l.value)}catch(c){console.error("获取流量历史数据失败",c),S.error("获取流量历史数据失败")}finally{b.trafficHistory=!1}},x=async()=>{},C=On(()=>({tooltip:{trigger:"axis",formatter:function(c){let _=c[0].name+"<br/>";return c.forEach(P=>{_+=P.seriesName+": "+E(P.value)+"<br/>"}),_}},legend:{data:["上传流量","下载流量"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:d.value.labels||[]},yAxis:{type:"value",axisLabel:{formatter:function(c){return E(c)}}},series:[{name:"上传流量",type:"line",data:d.value.upload||[],areaStyle:{opacity:.3},lineStyle:{width:2},itemStyle:{color:"#409EFF"}},{name:"下载流量",type:"line",data:d.value.download||[],areaStyle:{opacity:.3},lineStyle:{width:2},itemStyle:{color:"#67C23A"}}]}));Tt(l,()=>{N()}),Tt(d,()=>{},{deep:!0});const E=c=>{if(c===0)return"0 B";const _=1024,P=["B","KB","MB","GB","TB","PB"],v=Math.floor(Math.log(c)/Math.log(_));return parseFloat((c/Math.pow(_,v)).toFixed(2))+" "+P[v]};Be(async()=>{await Promise.all([m(),y(),w(),N(),A(),x()])});const D=setInterval(async()=>{m(),A(),x()},5e3);return et(()=>{clearInterval(D)}),(c,_)=>{const P=T("el-radio-button"),v=T("el-radio-group"),I=T("el-card"),L=T("el-col"),H=T("el-table-column"),oe=T("el-table"),se=T("el-row"),ce=yt("loading");return F(),G("div",qr,[s(se,{gutter:20,class:"mb-4"},{default:a(()=>[s(L,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-4"},{default:a(()=>[de((F(),K(I,{shadow:"hover",class:"traffic-trend"},{header:a(()=>[h("div",jr,[_[4]||(_[4]=h("span",null,"流量趋势",-1)),s(v,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=W=>l.value=W),size:"small"},{default:a(()=>[s(P,{label:"hour"},{default:a(()=>_[1]||(_[1]=[R("小时")])),_:1}),s(P,{label:"day"},{default:a(()=>_[2]||(_[2]=[R("天")])),_:1}),s(P,{label:"week"},{default:a(()=>_[3]||(_[3]=[R("周")])),_:1})]),_:1},8,["modelValue"])])]),default:a(()=>[h("div",zr,[s(z(yo),{class:"chart",option:C.value,autoresize:""},null,8,["option"])])]),_:1})),[[ce,b.trafficHistory]])]),_:1}),s(L,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(I,{shadow:"hover",class:"daily-traffic"},{header:a(()=>_[5]||(_[5]=[h("div",{class:"card-header"},[h("span",null,"实时流量")],-1)])),default:a(()=>[h("div",Mr,[h("div",Gr,[_[6]||(_[6]=h("span",{class:"label"},"上传",-1)),h("span",Hr,q(E(t.value.upload)+"/s"),1)]),h("div",Jr,[_[7]||(_[7]=h("span",{class:"label"},"下载",-1)),h("span",Kr,q(E(t.value.download)+"/s"),1)]),h("div",Wr,[_[8]||(_[8]=h("span",{class:"label"},"总流量",-1)),h("span",Xr,q(E(t.value.total)+"/s"),1)])])]),_:1})]),_:1}),s(L,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(I,{shadow:"hover",class:"online-users"},{header:a(()=>_[9]||(_[9]=[h("div",{class:"card-header"},[h("span",null,"在线用户")],-1)])),default:a(()=>[s(oe,{data:u.value,style:{width:"100%"}},{default:a(()=>[s(H,{prop:"userId",label:"用户ID"}),s(H,{prop:"links",label:"连接数"})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),s(se,{gutter:20,class:"mb-4"},{default:a(()=>[s(L,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(I,{shadow:"hover",class:"inbound-rank"},{header:a(()=>_[10]||(_[10]=[h("div",{class:"card-header"},[h("span",null,"入站代理流量排行 (7日)")],-1)])),default:a(()=>[s(oe,{data:o.value,style:{width:"100%"}},{default:a(()=>[s(H,{prop:"name",label:"代理名称"}),s(H,{prop:"traffic",label:"流量总计"},{default:a(({row:W})=>[R(q(E(W.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),s(L,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(I,{shadow:"hover",class:"outbound-rank"},{header:a(()=>_[11]||(_[11]=[h("div",{class:"card-header"},[h("span",null,"出站代理流量排行 (7日)")],-1)])),default:a(()=>[s(oe,{data:n.value,style:{width:"100%"}},{default:a(()=>[s(H,{prop:"name",label:"代理名称"}),s(H,{prop:"traffic",label:"流量总计"},{default:a(({row:W})=>[R(q(E(W.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),s(L,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-4"},{default:a(()=>[s(I,{shadow:"hover",class:"user-rank"},{header:a(()=>_[12]||(_[12]=[h("div",{class:"card-header"},[h("span",null,"用户流量排行 (7日)")],-1)])),default:a(()=>[s(oe,{data:r.value,style:{width:"100%"}},{default:a(()=>[s(H,{prop:"name",label:"用户名"}),s(H,{prop:"upload",label:"上传"},{default:a(({row:W})=>[R(q(E(W.upload)),1)]),_:1}),s(H,{prop:"download",label:"下载"},{default:a(({row:W})=>[R(q(E(W.download)),1)]),_:1}),s(H,{prop:"traffic",label:"流量总计"},{default:a(({row:W})=>[R(q(E(W.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})])}}}),Qr=Ne(Zr,[["__scopeId","data-v-fce9b655"]]),Yr={class:"system-container"},ea={class:"card-header"},ta=Pe({__name:"System",setup(e){const t=k({systemName:"",description:"",version:"",startUpTime:"",trafficRecordDays:30}),o=ae({systemName:"",description:"",trafficRecordDays:30}),n=ae({save:!1,info:!1}),r=async()=>{n.info=!0;try{const b=await Ve.getSystemInfo();t.value=b,o.systemName=b.systemName,o.description=b.description,o.trafficRecordDays=b.trafficRecordDays}catch(b){console.error("获取系统信息失败",b),S.error("获取系统信息失败")}finally{n.info=!1}},u=async()=>{n.save=!0;try{await Ve.updateSystemInfo(o),S.success("设置保存成功"),await r()}catch(b){console.error("保存设置失败",b),S.error("保存设置失败")}finally{n.save=!1}},l=async()=>{try{await Ve.clearBadgerCache(),S.success("缓存清理成功")}catch(b){console.error("清理缓存失败",b),S.error("清理缓存失败")}};Be(()=>{r()});const d=setInterval(r,6e4);return et(()=>{clearInterval(d)}),(b,m)=>{const y=T("el-icon"),w=T("el-button"),A=T("el-descriptions-item"),N=T("el-descriptions"),x=T("el-card"),C=T("el-input"),E=T("el-form-item"),D=T("el-input-number"),c=T("el-form"),_=yt("loading");return F(),G("div",Yr,[s(x,{class:"box-card mb-4"},{header:a(()=>[h("div",ea,[m[3]||(m[3]=h("span",null,"系统信息",-1)),s(w,{type:"primary",link:"",onClick:r},{default:a(()=>[s(y,null,{default:a(()=>[s(z(Ln))]),_:1})]),_:1})])]),default:a(()=>[de((F(),K(N,{column:3,border:""},{default:a(()=>[s(A,{label:"启动时间"},{default:a(()=>[R(q(t.value.startUpTime),1)]),_:1}),s(A,{label:"版本"},{default:a(()=>[R(q(t.value.version),1)]),_:1})]),_:1})),[[_,n.info]])]),_:1}),s(x,{class:"box-card"},{header:a(()=>m[4]||(m[4]=[h("div",{class:"card-header"},[h("span",null,"基本设置")],-1)])),default:a(()=>[s(c,{model:o,"label-width":"120px"},{default:a(()=>[s(E,{label:"系统名称"},{default:a(()=>[s(C,{modelValue:o.systemName,"onUpdate:modelValue":m[0]||(m[0]=P=>o.systemName=P)},null,8,["modelValue"])]),_:1}),s(E,{label:"系统公告"},{default:a(()=>[s(C,{modelValue:o.description,"onUpdate:modelValue":m[1]||(m[1]=P=>o.description=P),type:"textarea",rows:7},null,8,["modelValue"])]),_:1}),s(E,{label:"流量记录保留"},{default:a(()=>[s(D,{modelValue:o.trafficRecordDays,"onUpdate:modelValue":m[2]||(m[2]=P=>o.trafficRecordDays=P),min:1,max:90},null,8,["modelValue"]),m[5]||(m[5]=h("span",{class:"form-help"},"天",-1))]),_:1}),s(E,null,{default:a(()=>[s(w,{type:"primary",onClick:u,loading:n.save},{default:a(()=>m[6]||(m[6]=[R(" 保存设置 ")])),_:1},8,["loading"]),s(w,{type:"danger",onClick:l},{default:a(()=>m[7]||(m[7]=[R(" 清理HTTP缓存 ")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),oa=Ne(ta,[["__scopeId","data-v-9b30a570"]]),na={class:"user-proxies-container"},sa={class:"card-header"},ra={class:"traffic-stats"},aa={class:"traffic-item"},la={class:"traffic-value"},ia={class:"traffic-item"},ua={class:"traffic-value"},da={class:"traffic-item"},ca={class:"traffic-value"},fa={class:"traffic-item"},pa={class:"traffic-value"},ma={class:"system-description"},ya={class:"card-header"},ga={key:0},ba={key:0,class:"qrcode-container"},ha={key:1},wa=Pe({__name:"UserProxies",setup(e){const t=k([]),o=k(!0),n=k(""),r=k(!1),u=k(""),l=k({upload:0,download:0,total:0,used:0,remaining:0,limit:0,links:0}),d=k(!0),b=k({systemName:"",description:"",version:"",startUpTime:"",trafficRecordDays:30}),m=k(!0);let y=null;const w=async()=>{m.value=!0;try{b.value=await Ve.getSystemInfo()}catch(P){console.error("获取系统信息失败",P),S.error("获取系统信息失败")}finally{m.value=!1}},A=async()=>{o.value=!0;try{t.value=await ye.getUsableInboundProxies()}catch(P){console.error("获取用户代理失败",P),S.error("获取用户代理失败")}finally{o.value=!1}},N=async()=>{try{l.value=await Ue.getMyTrafficStatus()}catch(P){console.error("获取流量状态失败",P),S.error("获取流量状态失败")}finally{d.value=!1}},x=P=>{let v=JSON.parse(P.linkConfig);for(;v.upper!=null;)v=v.upper;return v.url},C=P=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(P)}`,E=async P=>{try{n.value=P.linkConfig||"",r.value=!0}catch(v){S.error("获取连接配置失败"),console.error(v)}},D=async()=>{try{u.value=await _e.updateMyToken(),A(),S.success("刷新凭证成功，旧凭证将失效")}catch{S.error("刷新凭证失败")}},c=()=>{navigator.clipboard.writeText(n.value),S.success("连接配置已复制到剪贴板")},_=P=>{if(P===0)return"0 B";const v=1024,I=["B","KB","MB","GB","TB","PB"],L=Math.floor(Math.log(P)/Math.log(v));return parseFloat((P/Math.pow(v,L)).toFixed(2))+" "+I[L]};return Be(async()=>{await Promise.all([A(),N(),w()]),y=window.setInterval(()=>{N()},5e3)}),et(()=>{y&&clearInterval(y)}),(P,v)=>{const I=T("el-button"),L=T("el-card"),H=T("el-table-column"),oe=T("el-table"),se=T("el-input"),ce=T("el-image"),W=T("el-empty"),Ee=T("el-dialog"),be=yt("loading");return F(),G("div",na,[de((F(),K(L,{class:"traffic-stats-card"},{header:a(()=>[h("div",sa,[v[4]||(v[4]=h("span",null,"7日流量统计",-1)),s(I,{size:"small",type:"primary",onClick:N},{default:a(()=>v[3]||(v[3]=[R("刷新")])),_:1})])]),default:a(()=>[h("div",ra,[h("div",aa,[v[5]||(v[5]=h("div",{class:"traffic-label"},"上传流量",-1)),h("div",la,q(_(l.value.upload)),1)]),h("div",ia,[v[6]||(v[6]=h("div",{class:"traffic-label"},"下载流量",-1)),h("div",ua,q(_(l.value.download)),1)]),h("div",da,[v[7]||(v[7]=h("div",{class:"traffic-label"},"总流量",-1)),h("div",ca,q(_(l.value.total)),1)]),h("div",fa,[v[8]||(v[8]=h("div",{class:"traffic-label"},"当前连接数",-1)),h("div",pa,q(l.value.links||0),1)])])]),_:1})),[[be,d.value]]),de((F(),K(L,{class:"system-info-card"},{header:a(()=>v[9]||(v[9]=[h("div",{class:"card-header"},[h("span",null,"系统公告")],-1)])),default:a(()=>[h("div",ma,q(b.value.description),1)]),_:1})),[[be,m.value]]),de((F(),K(L,{class:"user-proxies-card"},{header:a(()=>[h("div",ya,[v[11]||(v[11]=h("span",null,"代理列表",-1)),s(I,{type:"primary",onClick:v[0]||(v[0]=M=>D())},{default:a(()=>v[10]||(v[10]=[R("刷新代理凭证")])),_:1})])]),default:a(()=>[de((F(),K(oe,{data:t.value,style:{width:"100%"}},{default:a(()=>[s(H,{prop:"id",label:"代理名称",width:"180"}),s(H,{prop:"scheme",label:"代理类型",width:"120"}),s(H,{label:"地址","show-overflow-tooltip":""},{default:a(({row:M})=>[R(q(x(M)),1)]),_:1}),s(H,{label:"操作",width:"120"},{default:a(({row:M})=>[s(I,{type:"success",onClick:st=>E(M)},{default:a(()=>v[12]||(v[12]=[R("完整配置")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[be,o.value]])]),_:1})),[[be,o.value]]),s(Ee,{modelValue:r.value,"onUpdate:modelValue":v[2]||(v[2]=M=>r.value=M),title:"连接配置",width:"500px"},{default:a(()=>[n.value?(F(),G("div",ga,[s(se,{readonly:"",rows:10,type:"textarea",modelValue:n.value,"onUpdate:modelValue":v[1]||(v[1]=M=>n.value=M)},null,8,["modelValue"]),s(I,{onClick:c,type:"primary",style:{width:"100%"}},{default:a(()=>v[13]||(v[13]=[R("复制")])),_:1}),n.value?(F(),G("div",ba,[s(ce,{src:C(n.value),fit:"contain",style:{width:"200px",height:"200px"}},null,8,["src"])])):xe("",!0)])):(F(),G("div",ha,[s(W,{description:"获取链接失败"})]))]),_:1},8,["modelValue"])])}}}),va=Ne(wa,[["__scopeId","data-v-ed89e1f2"]]),_a={class:"card-header"},Ea=Pe({__name:"NetworkGraph",props:{inboundProxies:{},outboundProxies:{},userGroups:{},routeSchemes:{}},setup(e){mo([go,Gn,bo,ho,wo]);const t=e,o=k({title:{top:0,left:"center"},tooltip:{trigger:"item",formatter:l=>{if(l.dataType==="node")return`${l.data.name}`;if(l.dataType==="edge")return l.data.info?`${l.data.info}`:`${l.data.source} -> ${l.data.target}`}},legend:{data:[{name:"入站代理",icon:"circle",itemStyle:{color:"#4CAF50"}},{name:"用户组",icon:"circle",itemStyle:{color:"#2196F3"}},{name:"路由方案",icon:"circle",itemStyle:{color:"#FF9800"}},{name:"出站代理",icon:"circle",itemStyle:{color:"#9C27B0"}}]},animationDurationUpdate:150,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",data:[],links:[],categories:[{name:"入站代理",itemStyle:{color:"#4CAF50"}},{name:"用户组",itemStyle:{color:"#2196F3"}},{name:"路由方案",itemStyle:{color:"#FF9800"}},{name:"出站代理",itemStyle:{color:"#9C27B0"}}],label:{show:!0,position:"bottom",formatter:"{b}",backgroundColor:"transparent",borderWidth:0,color:"#333",fontSize:12,distance:10},lineStyle:{color:"#999",width:2,curveness:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]});Tt([()=>t.inboundProxies,()=>t.outboundProxies,()=>t.userGroups,()=>t.routeSchemes],()=>{Ft(()=>{n()})},{deep:!0});const n=()=>{console.log("Generating graph data with:",{inboundProxies:t.inboundProxies,userGroups:t.userGroups,routeSchemes:t.routeSchemes,outboundProxies:t.outboundProxies});const l=[],d=[];let b=parseInt(getComputedStyle(document.querySelector(".chart")).width),y=550*parseInt(getComputedStyle(document.querySelector(".chart")).height)/b,w=Math.max(t.inboundProxies.length,t.outboundProxies.length,t.userGroups.length,t.routeSchemes.length),A=y/(w-1);console.log("max_node_count:",w);const N=c=>{if(c<=1)return[y/2];const _=[];let P=A*(c-1),v=y/2-P/2;for(let I=0;I<c;I++)_.push(v+A*I);return _},x=N(t.inboundProxies.length);t.inboundProxies.forEach((c,_)=>{l.push({id:`inbound-${c.id}`,name:c.id,symbolSize:40,category:0,value:c.enabled?1:0,itemStyle:{color:c.enabled?"#4CAF50":"#BDBDBD"},x:100,y:x[_],fixed:!0})});const C=N(t.userGroups.length);t.userGroups.forEach((c,_)=>{const P=`group-${c.id}`;l.push({id:P,name:c.id,symbolSize:40,category:1,itemStyle:{color:"#2196F3"},x:300,y:C[_],fixed:!0}),c.inboundProxyIds.forEach(v=>{d.push({source:`inbound-${v}`,target:P,value:1})})});const E=N(t.routeSchemes.length);t.routeSchemes.forEach((c,_)=>{var v;const P=`scheme-${c.id}`;l.push({id:P,name:c.id,symbolSize:40,category:2,itemStyle:{color:c.enabled?"#FF9800":"#BDBDBD"},x:500,y:E[_],fixed:!0}),(v=c.rules)==null||v.forEach(I=>{I.outbounds.forEach(L=>{d.push({source:P,info:"rule: "+I.priority+" - "+I.name,target:`outbound-${L}`,value:1})})})});const D=N(t.outboundProxies.length);t.outboundProxies.forEach((c,_)=>{l.push({id:`outbound-${c.id}`,name:c.id,symbolSize:40,category:3,value:c.enabled?1:0,itemStyle:{color:"#9C27B0"},x:700,y:D[_],fixed:!0})}),t.userGroups.forEach(c=>{const _=`scheme-${c.routeSchemeId}`;d.push({source:`group-${c.id}`,target:_,value:1})}),console.log("Generated nodes:",l),console.log("Generated links:",d),o.value.series[0].data=l,o.value.series[0].links=d},r=()=>{n()},u=()=>{console.log("Window resized, regenerating graph..."),n()};return Be(()=>{window.addEventListener("resize",u),n()}),et(()=>{window.removeEventListener("resize",u)}),(l,d)=>{const b=T("el-button"),m=T("el-card");return F(),K(m,{shadow:"never",class:"network-graph"},{header:a(()=>[h("div",_a,[d[1]||(d[1]=h("span",null,"路由拓扑图",-1)),s(b,{type:"primary",onClick:r},{default:a(()=>d[0]||(d[0]=[R("刷新")])),_:1})])]),default:a(()=>[s(z(yo),{class:"chart",option:o.value,autoresize:""},null,8,["option"])]),_:1})}}}),Sa=Ne(Ea,[["__scopeId","data-v-ec3d4b10"]]),xa={class:"integrated-management"},ka={key:0},Ra={key:1,class:"network-graph-container"},Ca={class:"main-tabs-container"},Pa={key:0},Ta={key:0},Fa={key:0},Aa={key:1},Oa={class:"dialog-footer"},Ua={key:1},Da={class:"dialog-footer"},$a={class:"dialog-footer"},Va={class:"dialog-footer"},Ia={class:"rules-header"},Ba={class:"dialog-footer"},Na={key:0},La={key:0,class:"qrcode-container"},qa={key:1},ja={class:"dialog-footer"},za=Pe({__name:"IntegratedManagement",setup(e){const t=k("inbound"),o=k("users"),n=ae({users:!0,inbound:!0,outbound:!0,groups:!0,routes:!0}),r=k([]),u=k([]),l=k([]),d=k([]),b=k([]),m=k(null),y=k(!1),w=k("add"),A=k(),N=k(null),x=k(!1),C=k("add"),E=k(),D=k(null),c=k("json"),_=k(!1),P=k("add"),v=k(),I=k(null),L=k(!1),H=k("add"),oe=k(),se=k(null),ce=k(!1),W=k(!1),Ee=k("add"),be=k(),M=k(null),st=k(!1),Te=k(""),Je=k(!1),Se=ae({id:"",description:""}),ee=ae({id:"",email:"",userGroupId:"",password:"",enabled:!0}),X=ae({id:"",config:""}),ie=ae({id:"",inboundProxyIds:[],routeSchemeId:""}),he=ae({id:"",description:"",enabled:!0}),Q=ae({name:"",type:"domain",pattern:"",priority:0,outbounds:[],enabled:!0}),Go={id:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],userGroupId:[{required:!0,message:"请选择用户组",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],enabled:[{required:!0,message:"请选择状态",trigger:"change"}]},Ho={id:[{required:!0,message:"请输入代理名称",trigger:"blur"}],config:[{required:!0,message:"请输入配置",trigger:"blur"}]},Jo={id:[{required:!0,message:"请输入用户组名称",trigger:"blur"}],inboundProxyIds:[{required:!0,message:"请选择入站代理",trigger:"change"}],routeSchemeId:[{required:!0,message:"请选择路由方案",trigger:"change"}]},jt={id:[{required:!0,message:"请输入方案名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]},Ko={name:[{required:!0,message:"请输入规则名称",trigger:"blur"}],type:[{required:!0,message:"请选择目的类型",trigger:"change"}],pattern:[{required:!0,message:"请输入匹配模式",trigger:"blur"}],outbounds:[{required:!0,message:"请选择出站代理",trigger:"change"}]};Be(async()=>{await Promise.all([Ke(),We(),rt(),at(),ke()])});const Ke=async()=>{try{r.value=await _e.getUsers()}catch(g){S.error("获取用户列表失败"),console.error(g)}finally{n.users=!1}},We=async()=>{try{u.value=await ye.getInboundProxies()}catch(g){S.error("获取入站代理列表失败"),console.error(g)}finally{n.inbound=!1}},rt=async()=>{try{l.value=await ye.getOutboundProxies()}catch(g){S.error("获取出站代理列表失败"),console.error(g)}finally{n.outbound=!1}},at=async()=>{try{d.value=await ut.getUserGroups()}catch(g){S.error("获取用户组列表失败"),console.error(g)}finally{n.groups=!1}},ke=async()=>{try{b.value=await ue.getRouteSchemes()}catch(g){S.error("获取路由方案列表失败"),console.error(g)}finally{n.routes=!1}},Wo=()=>{w.value="add",Object.assign(ee,{id:"",email:"",userGroupId:"",password:"",enabled:!0}),y.value=!0},Xo=g=>{w.value="edit",N.value=g,Object.assign(ee,{id:g.id,email:g.email,userGroupId:g.userGroupId,enabled:g.enabled}),y.value=!0},Zo=async g=>{try{g.enabled=!g.enabled,await _e.updateUser(g.id,g)?(S.success("状态更新成功"),await Ke()):S.error("状态更新失败")}catch(i){S.error("状态更新失败"),console.error(i)}},Qo=async g=>{try{await ze.confirm("确定要重置该用户的密码吗？","提示",{type:"warning"}),await _e.resetPassword(g.id)?S.success("密码重置为用户名"):S.error("密码重置失败")}catch{}},Yo=async g=>{try{await ze.confirm("确定要删除该用户吗？","提示",{type:"warning"}),await _e.deleteUser(g.id)?(S.success("删除成功"),await Ke()):S.error("删除失败")}catch{}},en=async()=>{A.value&&await A.value.validate(async g=>{if(g)try{w.value==="add"?await _e.createUser(ee)?(S.success("添加成功"),y.value=!1,await Ke()):S.error("添加失败"):await _e.updateUser(ee.id,ee)?(S.success("更新成功"),y.value=!1,await Ke()):S.error("更新失败")}catch(i){S.error(w.value==="add"?"添加失败":"更新失败"),console.error(i)}})},zt=g=>{C.value="add",Object.assign(X,{id:"",config:""}),x.value=!0},Mt=(g,i)=>{C.value="edit",D.value=g,Object.assign(X,{id:g.id,config:typeof g.config=="string"?g.config:JSON.stringify(g.config,null,2)}),x.value=!0},tn=async(g,i)=>{try{let $;i==="inbound"&&($=await ye.updateInboundProxy(g.id,g)),$?(S.success("状态更新成功"),i==="inbound"&&await We()):(g.enabled=!g.enabled,S.error("状态更新失败"))}catch($){g.enabled=!g.enabled,S.error("状态更新失败"),console.error($)}},Gt=async(g,i)=>{try{await ze.confirm("确定要删除该代理吗？","提示",{type:"warning"});let $;i==="inbound"?$=await ye.deleteInboundProxy(g.id):$=await ye.deleteOutboundProxy(g.id),$?(S.success("删除成功"),i==="inbound"?await We():await rt()):S.error("删除失败")}catch{}},on=async g=>{try{g.testing=!0;const i=await ye.testOutboundProxySpeed(g.id);g.latency=i.latency,S.success(`延迟测试完成：${i.latency}`)}catch(i){S.error("延迟测试失败"),console.error(i)}finally{g.testing=!1}},nn=async g=>{try{Te.value=g.linkConfig||"",st.value=!0}catch(i){S.error("获取连接配置失败"),console.error(i)}},sn=()=>{navigator.clipboard.writeText(Te.value),S.success("连接配置已复制到剪贴板")},rn=g=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(g)}`,an=async()=>{E.value&&await E.value.validate(async g=>{var i,$;try{JSON.parse(X.config)}catch(O){S.error("配置格式错误"),console.error(O);return}if(g)try{let O=X.config;if(C.value==="add"){let J;t.value==="inbound"?J=await ye.createInboundProxy({id:X.id,enabled:!0,config:O}):J=await ye.createOutboundProxy({id:X.id,enabled:!0,config:O}),J?(S.success("添加成功"),x.value=!1,await Promise.all([We(),rt()])):S.error("添加失败")}else{let J;t.value==="inbound"?J=await ye.updateInboundProxy(X.id,{enabled:(i=D.value)==null?void 0:i.enabled,config:O}):J=await ye.updateOutboundProxy(X.id,{enabled:($=D.value)==null?void 0:$.enabled,config:O}),J?(S.success("更新成功"),x.value=!1,await Promise.all([We(),rt()])):S.error("更新失败")}}catch(O){S.error("更新配置失败"),console.error(O)}})},ln=()=>{P.value="add",Object.assign(ie,{id:"",inboundProxyIds:[],routeSchemeId:""}),_.value=!0},un=g=>{P.value="edit",I.value=g,Object.assign(ie,{id:g.id,inboundProxyIds:g.inboundProxyIds,routeSchemeId:g.routeSchemeId}),_.value=!0},dn=async g=>{try{await ze.confirm("确定要删除该用户组吗？","提示",{type:"warning"}),await ut.deleteUserGroup(g.id)?(S.success("删除成功"),await at()):S.error("删除失败")}catch{}},cn=async()=>{v.value&&await v.value.validate(async g=>{if(g)try{P.value==="add"?await ut.createUserGroup(ie)?(S.success("添加成功"),_.value=!1,await at()):S.error("添加失败"):await ut.updateUserGroup(ie.id,ie)?(S.success("更新成功"),_.value=!1,await at()):S.error("更新失败")}catch(i){S.error(P.value==="add"?"添加失败":"更新失败"),console.error(i)}})},fn=()=>{H.value="add",Object.assign(he,{id:"",description:"",enabled:!0}),L.value=!0},pn=g=>{H.value="edit",se.value=g,Object.assign(he,{id:g.id,description:g.description,enabled:g.enabled}),L.value=!0},mn=g=>{se.value=g,Se.id=`${g.id} 副本`,Se.description=`${g.description||""} (复制于 ${g.id})`,Je.value=!0},yn=async()=>{if(se.value)try{const g=await ue.createRouteScheme({id:Se.id,description:Se.description,enabled:!1}),i=await ue.getRules(se.value.id);if(i&&i.length>0)for(const $ of i)await ue.addRule(g.id,{name:$.name,type:$.type,pattern:$.pattern,priority:$.priority||0,outbounds:$.outbounds,enabled:$.enabled||!0});S.success("复制方案成功"),Je.value=!1,await ke()}catch(g){console.error("复制方案失败",g),S.error("复制方案失败")}},gn=async g=>{try{await ze.confirm("确定要删除该路由方案吗？","提示",{type:"warning"}),await ue.deleteRouteScheme(g.id),S.success("删除成功"),await ke()}catch(i){console.error("删除路由方案失败",i),S.error("删除路由方案失败")}},bn=async g=>{try{await ue.updateRouteScheme(g.id,{enabled:g.enabled}),S.success("更新成功"),await ke()}catch(i){g.enabled=!g.enabled,console.error("更新路由方案状态失败",i),S.error("更新路由方案状态失败")}},hn=async()=>{oe.value&&await oe.value.validate(async g=>{if(g)try{H.value==="add"?(await ue.createRouteScheme(he),S.success("添加成功")):(await ue.updateRouteScheme(he.id,he),S.success("更新成功")),L.value=!1,await ke()}catch(i){console.error("保存路由方案失败",i),S.error("保存路由方案失败")}})},wn=g=>{m.value=g,ce.value=!0},vn=()=>{Ee.value="add",Object.assign(Q,{name:"",type:"domain",pattern:"",priority:0,outbounds:[],enabled:!0}),W.value=!0},_n=g=>{Ee.value="edit",M.value=g,Object.assign(Q,{name:g.name,type:g.type,pattern:g.pattern,priority:g.priority,outbounds:g.outbounds,enabled:g.enabled}),W.value=!0},En=async g=>{try{if(await ze.confirm("确定要删除该规则吗？","提示",{type:"warning"}),!m.value)return;await ue.deleteRule(m.value.id,g.id),S.success("删除成功"),await ke(),m.value=b.value.find(i=>{var $;return i.id===(($=m.value)==null?void 0:$.id)})||null}catch(i){console.error("删除规则失败",i),S.error("删除规则失败")}},Ht=async(g,i)=>{if(!m.value)return;const $=m.value.rules,O=$.findIndex(J=>J.id===g.id);i==="up"&&O>0?[$[O],$[O-1]]=[$[O-1],$[O]]:i==="down"&&O<$.length-1&&([$[O],$[O+1]]=[$[O+1],$[O]]);try{const J=$.map(fe=>fe.id);await ue.updateRuleOrder(m.value.id,J),S.success("规则顺序更新成功"),await ke(),m.value=b.value.find(fe=>{var V;return fe.id===((V=m.value)==null?void 0:V.id)})||null}catch(J){console.error("更新规则顺序失败",J),S.error("更新规则顺序失败")}},Sn=async()=>{!be.value||!m.value||await be.value.validate(async g=>{if(g)try{Ee.value==="add"?(await ue.addRule(m.value.id,Q),S.success("添加成功")):M.value&&(await ue.updateRule(m.value.id,M.value.id,{id:M.value.id,name:Q.name,type:Q.type,pattern:Q.pattern,priority:Q.priority,outbounds:Q.outbounds,enabled:Q.enabled}),S.success("更新成功")),W.value=!1,await ke(),m.value=b.value.find(i=>{var $;return i.id===(($=m.value)==null?void 0:$.id)})||null}catch(i){console.error("保存规则失败",i),S.error("保存规则失败")}})},Jt=g=>d.value.filter(i=>i.routeSchemeId===g),xn=g=>({domain:"success",ip:"warning",geosite:"info",any:"danger"})[g]||"info",kn=g=>({domain:"域名",ip:"IP",geosite:"Geosite",any:"任何"})[g]||g,Rn=g=>{const i=g.target,$=i.selectionStart,O=i.selectionEnd;X.config=X.config.substring(0,$)+"    "+X.config.substring(O),Ft(()=>{i.selectionStart=i.selectionEnd=$+4})},Cn=g=>{const i=g.target,$=i.selectionStart;i.selectionEnd;const J=X.config.substring(0,$).split(`
`),fe=$-J[J.length-1].length;X.config.substring(fe,$).match(/^    /)&&(X.config=X.config.substring(0,fe)+X.config.substring($),Ft(()=>{i.selectionStart=i.selectionEnd=fe}))};return(g,i)=>{var Kt;const $=T("el-empty"),O=T("el-table-column"),J=T("el-tag"),fe=T("el-switch"),V=T("el-button"),Le=T("el-button-group"),qe=T("el-table"),Fe=T("el-tab-pane"),Et=T("el-tabs"),re=T("el-input"),Y=T("el-form-item"),Re=T("el-option"),Xe=T("el-select"),je=T("el-form"),Ce=T("el-dialog"),Pn=T("el-image"),Ze=yt("loading");return F(),G("div",xa,[!n.routes&&!n.groups&&!n.inbound&&!n.outbound?(F(),G("div",ka,[s(Sa,{"inbound-proxies":u.value,"outbound-proxies":l.value,"user-groups":d.value,"route-schemes":b.value},null,8,["inbound-proxies","outbound-proxies","user-groups","route-schemes"])])):(F(),G("div",Ra,[s($,{description:"数据加载中，请稍候..."})])),h("div",Ca,[s(Et,{modelValue:t.value,"onUpdate:modelValue":i[3]||(i[3]=f=>t.value=f),class:"management-tabs"},{default:a(()=>[s(Fe,{label:"入站代理",name:"inbound"},{default:a(()=>[de((F(),K(qe,{data:u.value,style:{width:"100%"}},{default:a(()=>[s(O,{prop:"id",label:"代理名称"}),s(O,{prop:"scheme",label:"代理类型"}),s(O,{prop:"running",label:"运行状态"},{default:a(({row:f})=>[s(J,{type:f.running?"success":"danger"},{default:a(()=>[R(q(f.running?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),s(O,{prop:"enabled",label:"启用"},{default:a(({row:f})=>[s(fe,{modelValue:f.enabled,"onUpdate:modelValue":j=>f.enabled=j,onChange:j=>tn(f,"inbound")},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),s(O,{label:"操作",width:"300"},{header:a(()=>[s(V,{type:"primary",onClick:i[0]||(i[0]=f=>zt("inbound")),style:{width:"70%"}},{default:a(()=>i[38]||(i[38]=[R(" 添加入站代理 ")])),_:1})]),default:a(({row:f})=>[s(Le,null,{default:a(()=>[s(V,{size:"small",type:"success",onClick:j=>nn(f)},{default:a(()=>i[39]||(i[39]=[R(" 获取连接配置 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"primary",onClick:j=>Mt(f,"inbound")},{default:a(()=>i[40]||(i[40]=[R(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>Gt(f,"inbound")},{default:a(()=>i[41]||(i[41]=[R(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.inbound]])]),_:1}),s(Fe,{label:"用户管理",name:"user_manage"},{default:a(()=>[s(Et,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=f=>o.value=f)},{default:a(()=>[s(Fe,{label:"用户",name:"users"},{default:a(()=>[de((F(),K(qe,{data:r.value,style:{width:"100%"}},{default:a(()=>[s(O,{prop:"id",label:"用户名"}),s(O,{prop:"email",label:"邮箱"}),s(O,{prop:"userGroupId",label:"用户组"}),s(O,{prop:"enabled",label:"状态"},{default:a(({row:f})=>[s(J,{type:f.enabled?"success":"danger"},{default:a(()=>[R(q(f.enabled?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),s(O,{label:"操作",width:"300"},{header:a(()=>[s(V,{type:"primary",onClick:Wo,style:{width:"75%"}},{default:a(()=>i[42]||(i[42]=[R(" 添加用户 ")])),_:1})]),default:a(({row:f})=>[s(Le,null,{default:a(()=>[s(V,{size:"small",type:f.enabled?"danger":"success",onClick:j=>Zo(f)},{default:a(()=>[R(q(f.enabled?"禁用":"启用"),1)]),_:2},1032,["type","onClick"]),s(V,{size:"small",type:"primary",onClick:j=>Xo(f)},{default:a(()=>i[43]||(i[43]=[R(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"warning",onClick:j=>Qo(f)},{default:a(()=>i[44]||(i[44]=[R(" 重置密码 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>Yo(f)},{default:a(()=>i[45]||(i[45]=[R(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.users]])]),_:1}),s(Fe,{label:"用户组",name:"groups"},{default:a(()=>[de((F(),K(qe,{data:d.value,style:{width:"100%"}},{default:a(()=>[s(O,{prop:"id",label:"名称"}),s(O,{label:"关联入站代理"},{default:a(({row:f})=>[(F(!0),G(ve,null,Oe(f.inboundProxyIds,j=>(F(),K(J,{key:j,class:"mx-1",type:"success",style:{"margin-right":"4px"}},{default:a(()=>[R(q(j),1)]),_:2},1024))),128)),!f.inboundProxyIds||f.inboundProxyIds.length===0?(F(),G("span",Pa,"无")):xe("",!0)]),_:1}),s(O,{label:"路由方案"},{default:a(({row:f})=>[s(J,{type:"info"},{default:a(()=>[R(q(f.routeSchemeId),1)]),_:2},1024)]),_:1}),s(O,{label:"用户数"},{default:a(({row:f})=>[s(J,{type:"warning"},{default:a(()=>[R(q(f.userCount||0)+"人",1)]),_:2},1024)]),_:1}),s(O,{label:"操作",width:"200"},{header:a(()=>[s(V,{type:"primary",onClick:ln},{default:a(()=>i[46]||(i[46]=[R("添加用户组")])),_:1})]),default:a(({row:f})=>[s(Le,null,{default:a(()=>[s(V,{size:"small",onClick:j=>un(f)},{default:a(()=>i[47]||(i[47]=[R("编辑")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>dn(f)},{default:a(()=>i[48]||(i[48]=[R("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.groups]])]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(Fe,{label:"路由管理",name:"routes"},{default:a(()=>[de((F(),K(qe,{data:b.value,style:{width:"100%"}},{default:a(()=>[s(O,{prop:"id",label:"方案名称"}),s(O,{prop:"description",label:"描述"}),s(O,{prop:"enabled",label:"状态"},{default:a(({row:f})=>[s(fe,{modelValue:f.enabled,"onUpdate:modelValue":j=>f.enabled=j,onChange:j=>bn(f)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),s(O,{label:"关联用户组"},{default:a(({row:f})=>[(F(!0),G(ve,null,Oe(Jt(f.id),j=>(F(),K(J,{key:j.id,class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[R(q(j.id)+" ("+q(j.userCount||0)+") ",1)]),_:2},1024))),128)),Jt(f.id).length===0?(F(),G("span",Ta,"无")):xe("",!0)]),_:1}),s(O,{label:"操作",width:"300"},{header:a(()=>[s(V,{type:"primary",onClick:fn,style:{width:"75%"}},{default:a(()=>i[49]||(i[49]=[R(" 添加路由方案 ")])),_:1})]),default:a(({row:f})=>[s(Le,null,{default:a(()=>[s(V,{size:"small",type:"primary",onClick:j=>wn(f)},{default:a(()=>i[50]||(i[50]=[R(" 查看规则 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"success",onClick:j=>pn(f)},{default:a(()=>i[51]||(i[51]=[R(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"info",onClick:j=>mn(f)},{default:a(()=>i[52]||(i[52]=[R(" 复制 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>gn(f)},{default:a(()=>i[53]||(i[53]=[R(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.routes]])]),_:1}),s(Fe,{label:"出站代理",name:"outbound"},{default:a(()=>[de((F(),K(qe,{data:l.value,style:{width:"100%"}},{default:a(()=>[s(O,{prop:"id",label:"代理名称"}),s(O,{prop:"scheme",label:"代理类型"}),s(O,{label:"延迟"},{default:a(({row:f})=>[f.latency!==void 0?(F(),G("span",Fa,q(f.latency),1)):(F(),G("span",Aa,"-"))]),_:1}),s(O,{label:"操作",width:"250"},{header:a(()=>[s(V,{type:"primary",onClick:i[2]||(i[2]=f=>zt("outbound")),style:{width:"75%"}},{default:a(()=>i[54]||(i[54]=[R(" 添加出站代理 ")])),_:1})]),default:a(({row:f})=>[s(Le,null,{default:a(()=>[s(V,{size:"small",type:"warning",onClick:j=>on(f),loading:f.testing},{default:a(()=>i[55]||(i[55]=[R(" 测试延迟 ")])),_:2},1032,["onClick","loading"]),s(V,{size:"small",type:"primary",onClick:j=>Mt(f,"outbound")},{default:a(()=>i[56]||(i[56]=[R(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>Gt(f,"outbound")},{default:a(()=>i[57]||(i[57]=[R(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.outbound]])]),_:1})]),_:1},8,["modelValue"])]),s(Ce,{modelValue:y.value,"onUpdate:modelValue":i[10]||(i[10]=f=>y.value=f),title:w.value==="add"?"添加用户":"编辑用户",width:"500px"},{footer:a(()=>[h("span",Oa,[s(V,{onClick:i[9]||(i[9]=f=>y.value=!1)},{default:a(()=>i[58]||(i[58]=[R("取消")])),_:1}),s(V,{type:"primary",onClick:en},{default:a(()=>i[59]||(i[59]=[R(" 确定 ")])),_:1})])]),default:a(()=>[s(je,{ref_key:"userFormRef",ref:A,model:ee,rules:Go,"label-width":"100px"},{default:a(()=>[s(Y,{label:"用户名",prop:"id"},{default:a(()=>[s(re,{modelValue:ee.id,"onUpdate:modelValue":i[4]||(i[4]=f=>ee.id=f),disabled:w.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(Y,{label:"邮箱",prop:"email"},{default:a(()=>[s(re,{modelValue:ee.email,"onUpdate:modelValue":i[5]||(i[5]=f=>ee.email=f)},null,8,["modelValue"])]),_:1}),s(Y,{label:"用户组",prop:"userGroupId"},{default:a(()=>[s(Xe,{modelValue:ee.userGroupId,"onUpdate:modelValue":i[6]||(i[6]=f=>ee.userGroupId=f),placeholder:"请选择用户组"},{default:a(()=>[(F(!0),G(ve,null,Oe(d.value,f=>(F(),K(Re,{key:f.id,label:f.id,value:f.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),w.value==="add"?(F(),K(Y,{key:0,label:"密码",prop:"password"},{default:a(()=>[s(re,{modelValue:ee.password,"onUpdate:modelValue":i[7]||(i[7]=f=>ee.password=f),type:"password","show-password":"",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1})):xe("",!0),s(Y,{label:"状态",prop:"enabled"},{default:a(()=>[s(fe,{modelValue:ee.enabled,"onUpdate:modelValue":i[8]||(i[8]=f=>ee.enabled=f),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:x.value,"onUpdate:modelValue":i[15]||(i[15]=f=>x.value=f),title:C.value==="add"?"添加代理":"编辑代理",width:"500px"},{footer:a(()=>[h("span",Da,[s(V,{onClick:i[14]||(i[14]=f=>x.value=!1)},{default:a(()=>i[60]||(i[60]=[R("取消")])),_:1}),s(V,{type:"primary",onClick:an},{default:a(()=>i[61]||(i[61]=[R(" 确定 ")])),_:1})])]),default:a(()=>[C.value==="add"?(F(),K(Et,{key:0,modelValue:c.value,"onUpdate:modelValue":i[11]||(i[11]=f=>c.value=f)},{default:a(()=>[s(Fe,{label:"JSON导入",name:"json"})]),_:1},8,["modelValue"])):xe("",!0),c.value==="json"||C.value==="edit"?(F(),G("div",Ua,[s(je,{ref_key:"proxyFormRef",ref:E,model:X,rules:Ho},{default:a(()=>[s(Y,{label:"名称",prop:"id"},{default:a(()=>[s(re,{modelValue:X.id,"onUpdate:modelValue":i[12]||(i[12]=f=>X.id=f),type:"textarea",rows:1,disabled:C.value==="edit",placeholder:"请输入代理名称"},null,8,["modelValue","disabled"])]),_:1}),s(Y,{label:"配置",prop:"config"},{default:a(()=>[s(re,{modelValue:X.config,"onUpdate:modelValue":i[13]||(i[13]=f=>X.config=f),type:"textarea",rows:10,placeholder:"请输入JSON配置",onKeydown:[Pt(Xt(Rn,["prevent"]),["tab"]),Pt(Xt(Cn,["shift","prevent"]),["tab"])]},null,8,["modelValue","onKeydown"])]),_:1})]),_:1},8,["model"])])):xe("",!0)]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:_.value,"onUpdate:modelValue":i[20]||(i[20]=f=>_.value=f),title:P.value==="add"?"添加用户组":"编辑用户组",width:"500px"},{footer:a(()=>[h("span",$a,[s(V,{onClick:i[19]||(i[19]=f=>_.value=!1)},{default:a(()=>i[62]||(i[62]=[R("取消")])),_:1}),s(V,{type:"primary",onClick:cn},{default:a(()=>i[63]||(i[63]=[R(" 确定 ")])),_:1})])]),default:a(()=>[s(je,{ref_key:"groupFormRef",ref:v,model:ie,rules:Jo,"label-width":"100px"},{default:a(()=>[s(Y,{label:"名称",prop:"id"},{default:a(()=>[s(re,{modelValue:ie.id,"onUpdate:modelValue":i[16]||(i[16]=f=>ie.id=f),disabled:P.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(Y,{label:"入站代理",prop:"inboundProxyIds"},{default:a(()=>[s(Xe,{modelValue:ie.inboundProxyIds,"onUpdate:modelValue":i[17]||(i[17]=f=>ie.inboundProxyIds=f),multiple:"",placeholder:"请选择入站代理"},{default:a(()=>[(F(!0),G(ve,null,Oe(u.value,f=>(F(),K(Re,{key:f.id,label:f.id,value:f.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(Y,{label:"路由方案",prop:"routeSchemeId"},{default:a(()=>[s(Xe,{modelValue:ie.routeSchemeId,"onUpdate:modelValue":i[18]||(i[18]=f=>ie.routeSchemeId=f),placeholder:"请选择路由方案"},{default:a(()=>[(F(!0),G(ve,null,Oe(b.value,f=>(F(),K(Re,{key:f.id,label:f.id,value:f.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:L.value,"onUpdate:modelValue":i[24]||(i[24]=f=>L.value=f),title:H.value==="add"?"添加方案":"编辑方案",width:"500px"},{footer:a(()=>[h("span",Va,[s(V,{onClick:i[23]||(i[23]=f=>L.value=!1)},{default:a(()=>i[64]||(i[64]=[R("取消")])),_:1}),s(V,{type:"primary",onClick:hn},{default:a(()=>i[65]||(i[65]=[R(" 确定 ")])),_:1})])]),default:a(()=>[s(je,{ref_key:"schemeFormRef",ref:oe,model:he,rules:jt,"label-width":"100px"},{default:a(()=>[s(Y,{label:"方案名称",prop:"id"},{default:a(()=>[s(re,{modelValue:he.id,"onUpdate:modelValue":i[21]||(i[21]=f=>he.id=f),disabled:H.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(Y,{label:"描述",prop:"description"},{default:a(()=>[s(re,{modelValue:he.description,"onUpdate:modelValue":i[22]||(i[22]=f=>he.description=f),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:ce.value,"onUpdate:modelValue":i[25]||(i[25]=f=>ce.value=f),title:((Kt=m.value)==null?void 0:Kt.id)+" - 路由规则",width:"800px"},{default:a(()=>{var f,j;return[h("div",Ia,[s(V,{type:"primary",onClick:vn},{default:a(()=>i[66]||(i[66]=[R("添加规则")])),_:1})]),s(qe,{data:((j=(f=m.value)==null?void 0:f.rules)==null?void 0:j.sort((pe,Ae)=>(pe.priority||0)-(Ae.priority||0)))||[],style:{width:"100%"}},{default:a(()=>[s(O,{type:"index",label:"序号",width:"80"}),s(O,{prop:"name",label:"规则名称"}),s(O,{prop:"type",label:"目的类型"},{default:a(({row:pe})=>[s(J,{type:xn(pe.type)},{default:a(()=>[R(q(kn(pe.type)),1)]),_:2},1032,["type"])]),_:1}),s(O,{prop:"pattern",label:"匹配模式"}),s(O,{prop:"outbounds",label:"出站代理"},{default:a(({row:pe})=>[(F(!0),G(ve,null,Oe(pe.outbounds,Ae=>(F(),K(J,{key:Ae,class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[R(q(Ae),1)]),_:2},1024))),128))]),_:1}),s(O,{label:"操作",width:"150"},{default:a(({row:pe,$index:Ae})=>[s(Le,null,{default:a(()=>{var Wt;return[s(V,{size:"small",type:"primary",onClick:St=>_n(pe)},{default:a(()=>i[67]||(i[67]=[R(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:St=>En(pe)},{default:a(()=>i[68]||(i[68]=[R(" 删除 ")])),_:2},1032,["onClick"]),s(V,{size:"small",disabled:Ae===0,onClick:St=>Ht(pe,"up")},{default:a(()=>i[69]||(i[69]=[R(" ↑ ")])),_:2},1032,["disabled","onClick"]),s(V,{size:"small",disabled:Ae===(((Wt=m.value)==null?void 0:Wt.rules.length)||0)-1,onClick:St=>Ht(pe,"down")},{default:a(()=>i[70]||(i[70]=[R(" ↓ ")])),_:2},1032,["disabled","onClick"])]}),_:2},1024)]),_:1})]),_:1},8,["data"])]}),_:1},8,["modelValue","title"]),s(Ce,{modelValue:W.value,"onUpdate:modelValue":i[31]||(i[31]=f=>W.value=f),title:Ee.value==="add"?"添加规则":"编辑规则",width:"500px"},{footer:a(()=>[h("span",Ba,[s(V,{onClick:i[30]||(i[30]=f=>W.value=!1)},{default:a(()=>i[71]||(i[71]=[R("取消")])),_:1}),s(V,{type:"primary",onClick:Sn},{default:a(()=>i[72]||(i[72]=[R(" 确定 ")])),_:1})])]),default:a(()=>[s(je,{ref_key:"ruleFormRef",ref:be,model:Q,rules:Ko,"label-width":"100px"},{default:a(()=>[s(Y,{label:"规则名称",prop:"name"},{default:a(()=>[s(re,{modelValue:Q.name,"onUpdate:modelValue":i[26]||(i[26]=f=>Q.name=f)},null,8,["modelValue"])]),_:1}),s(Y,{label:"目的类型",prop:"type"},{default:a(()=>[s(Xe,{modelValue:Q.type,"onUpdate:modelValue":i[27]||(i[27]=f=>Q.type=f),placeholder:"请选择目的类型"},{default:a(()=>[s(Re,{label:"域名",value:"domain"}),s(Re,{label:"IP",value:"ip"}),s(Re,{label:"Geosite",value:"geosite"}),s(Re,{label:"任何",value:"any"})]),_:1},8,["modelValue"])]),_:1}),s(Y,{label:"匹配模式",prop:"pattern"},{default:a(()=>[s(re,{modelValue:Q.pattern,"onUpdate:modelValue":i[28]||(i[28]=f=>Q.pattern=f)},null,8,["modelValue"])]),_:1}),s(Y,{label:"出站代理",prop:"outbounds"},{default:a(()=>[s(Xe,{modelValue:Q.outbounds,"onUpdate:modelValue":i[29]||(i[29]=f=>Q.outbounds=f),multiple:"",placeholder:"请选择出站代理"},{default:a(()=>[(F(!0),G(ve,null,Oe(l.value,f=>(F(),K(Re,{key:f.id,label:f.id,value:f.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:st.value,"onUpdate:modelValue":i[33]||(i[33]=f=>st.value=f),title:"连接配置",width:"500px"},{default:a(()=>[Te.value?(F(),G("div",Na,[s(re,{readonly:"",rows:10,type:"textarea",modelValue:Te.value,"onUpdate:modelValue":i[32]||(i[32]=f=>Te.value=f)},null,8,["modelValue"]),s(V,{onClick:sn,type:"primary",style:{width:"100%"}},{default:a(()=>i[73]||(i[73]=[R("复制")])),_:1}),Te.value?(F(),G("div",La,[s(Pn,{src:rn(Te.value),fit:"contain",style:{width:"200px",height:"200px"}},null,8,["src"])])):xe("",!0)])):(F(),G("div",qa,[s($,{description:"获取链接失败"})]))]),_:1},8,["modelValue"]),s(Ce,{modelValue:Je.value,"onUpdate:modelValue":i[37]||(i[37]=f=>Je.value=f),title:"复制路由方案",width:"500px"},{footer:a(()=>[h("span",ja,[s(V,{onClick:i[36]||(i[36]=f=>Je.value=!1)},{default:a(()=>i[74]||(i[74]=[R("取消")])),_:1}),s(V,{type:"primary",onClick:yn},{default:a(()=>i[75]||(i[75]=[R(" 确定 ")])),_:1})])]),default:a(()=>[s(je,{ref:"copySchemeFormRef",model:Se,rules:jt,"label-width":"100px"},{default:a(()=>[s(Y,{label:"方案名称",prop:"id"},{default:a(()=>[s(re,{modelValue:Se.id,"onUpdate:modelValue":i[34]||(i[34]=f=>Se.id=f)},null,8,["modelValue"])]),_:1}),s(Y,{label:"描述",prop:"description"},{default:a(()=>[s(re,{modelValue:Se.description,"onUpdate:modelValue":i[35]||(i[35]=f=>Se.description=f),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Ma=Ne(za,[["__scopeId","data-v-536c7130"]]),Ga=[{path:"/login",name:"Login",component:Lr,meta:{requiresAuth:!1}},{path:"/",component:$r,meta:{requiresAuth:!0},children:[{path:"",name:"Dashboard",component:Qr,meta:{adminOnly:!0}},{path:"system",name:"System",component:oa,meta:{adminOnly:!0}},{path:"my-proxies",name:"UserProxies",component:va,meta:{adminOnly:!1}},{path:"/integrated",name:"IntegratedManagement",component:Ma,meta:{adminOnly:!0}}]}],Mo=Un({history:Dn(),routes:Ga});Mo.beforeEach(async(e,t,o)=>{const n=localStorage.getItem("userGroupId");console.log("userGroupId",n),console.log("to.meta.requiresAuth",e.path),e.matched.length<1&&o("/login"),e.meta.requiresAuth?n==null?o("/login"):e.meta.adminOnly?n=="管理员"?o():o("/my-proxies"):o():e.path=="/login"&&n!=null?o("/"):o()});/*! Element Plus v2.9.6 */var Ha={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const nt=$n(Hn);for(const[e,t]of Object.entries(qn))nt.component(e,t);nt.use(Vn());nt.use(Mo);nt.use(jn,{locale:Ha});const Ja=async()=>{try{const e=await Ve.getSystemName();document.title=e.systemName||"ZIP管理面板"}catch(e){console.error("获取系统名称失败",e),document.title="ZIP管理面板"}};Ja();nt.mount("#app");
//# sourceMappingURL=index-16Q4ipcQ.js.map
