import{d as Ae,G as W,ag as P,o as F,aw as Fo,r as x,X as ue,m as Le,S as tt,c as J,P as s,H as a,O as Ee,a as h,J as ke,D as be,I as de,u as M,M as G,ax as Ao,Q as Uo,L as k,ay as pn,a4 as Pt,b as Oo,p as Tt,aq as yt,n as Ft,a6 as Ie,V as Xt,az as Do,aA as Io,at as $o,aB as Vo}from"./vue-core-grCPbCnX.js";import{m as Bo,c as xt,d as Zt,s as lt,u as At,a as No,b as Qt,E as _,l as Lo,r as mn,e as Ge,f as qo,i as zo}from"./element-plus-BgKziJp-.js";import{u as yn,E as gn,i as bn,a as jo,b as hn,c as wn,d as vn,e as Mo,f as Go}from"./echarts-ECTwgUBz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();const Ho=Ae({__name:"App",setup(e){return(t,n)=>{const o=P("router-view");return F(),W(o)}}});function _n(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jo}=Object.prototype,{getPrototypeOf:Bt}=Object,gt=(e=>t=>{const n=Jo.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),we=e=>(e=e.toLowerCase(),t=>gt(t)===e),bt=e=>t=>typeof t===e,{isArray:Je}=Array,et=bt("undefined");function Ko(e){return e!==null&&!et(e)&&e.constructor!==null&&!et(e.constructor)&&ce(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const En=we("ArrayBuffer");function Wo(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&En(e.buffer),t}const Xo=bt("string"),ce=bt("function"),Sn=bt("number"),ht=e=>e!==null&&typeof e=="object",Zo=e=>e===!0||e===!1,dt=e=>{if(gt(e)!=="object")return!1;const t=Bt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qo=we("Date"),Yo=we("File"),es=we("Blob"),ts=we("FileList"),ns=e=>ht(e)&&ce(e.pipe),os=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ce(e.append)&&((t=gt(e))==="formdata"||t==="object"&&ce(e.toString)&&e.toString()==="[object FormData]"))},ss=we("URLSearchParams"),[rs,as,ls,is]=["ReadableStream","Request","Response","Headers"].map(we),us=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nt(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,r;if(typeof e!="object"&&(e=[e]),Je(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let d;for(o=0;o<l;o++)d=u[o],t.call(null,e[d],d,e)}}function xn(e,t){t=t.toLowerCase();const n=Object.keys(e);let o=n.length,r;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const $e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kn=e=>!et(e)&&e!==$e;function Ut(){const{caseless:e}=kn(this)&&this||{},t={},n=(o,r)=>{const u=e&&xn(t,r)||r;dt(t[u])&&dt(o)?t[u]=Ut(t[u],o):dt(o)?t[u]=Ut({},o):Je(o)?t[u]=o.slice():t[u]=o};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&nt(arguments[o],n);return t}const ds=(e,t,n,{allOwnKeys:o}={})=>(nt(t,(r,u)=>{n&&ce(r)?e[u]=_n(r,n):e[u]=r},{allOwnKeys:o}),e),cs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fs=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ps=(e,t,n,o)=>{let r,u,l;const d={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),u=r.length;u-- >0;)l=r[u],(!o||o(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&Bt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ms=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},ys=e=>{if(!e)return null;if(Je(e))return e;let t=e.length;if(!Sn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},gs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Bt(Uint8Array)),bs=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=o.next())&&!r.done;){const u=r.value;t.call(e,u[0],u[1])}},hs=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},ws=we("HTMLFormElement"),vs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,r){return o.toUpperCase()+r}),Yt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_s=we("RegExp"),Rn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};nt(n,(r,u)=>{let l;(l=t(r,u,e))!==!1&&(o[u]=l||r)}),Object.defineProperties(e,o)},Es=e=>{Rn(e,(t,n)=>{if(ce(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(ce(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ss=(e,t)=>{const n={},o=r=>{r.forEach(u=>{n[u]=!0})};return Je(e)?o(e):o(String(e).split(t)),n},xs=()=>{},ks=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rs(e){return!!(e&&ce(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Cs=e=>{const t=new Array(10),n=(o,r)=>{if(ht(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[r]=o;const u=Je(o)?[]:{};return nt(o,(l,d)=>{const b=n(l,r+1);!et(b)&&(u[d]=b)}),t[r]=void 0,u}}return o};return n(e,0)},Ps=we("AsyncFunction"),Ts=e=>e&&(ht(e)||ce(e))&&ce(e.then)&&ce(e.catch),Cn=((e,t)=>e?setImmediate:t?((n,o)=>($e.addEventListener("message",({source:r,data:u})=>{r===$e&&u===n&&o.length&&o.shift()()},!1),r=>{o.push(r),$e.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ce($e.postMessage)),Fs=typeof queueMicrotask<"u"?queueMicrotask.bind($e):typeof process<"u"&&process.nextTick||Cn,f={isArray:Je,isArrayBuffer:En,isBuffer:Ko,isFormData:os,isArrayBufferView:Wo,isString:Xo,isNumber:Sn,isBoolean:Zo,isObject:ht,isPlainObject:dt,isReadableStream:rs,isRequest:as,isResponse:ls,isHeaders:is,isUndefined:et,isDate:Qo,isFile:Yo,isBlob:es,isRegExp:_s,isFunction:ce,isStream:ns,isURLSearchParams:ss,isTypedArray:gs,isFileList:ts,forEach:nt,merge:Ut,extend:ds,trim:us,stripBOM:cs,inherits:fs,toFlatObject:ps,kindOf:gt,kindOfTest:we,endsWith:ms,toArray:ys,forEachEntry:bs,matchAll:hs,isHTMLForm:ws,hasOwnProperty:Yt,hasOwnProp:Yt,reduceDescriptors:Rn,freezeMethods:Es,toObjectSet:Ss,toCamelCase:vs,noop:xs,toFiniteNumber:ks,findKey:xn,global:$e,isContextDefined:kn,isSpecCompliantForm:Rs,toJSONObject:Cs,isAsyncFn:Ps,isThenable:Ts,setImmediate:Cn,asap:Fs};function N(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}f.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const Pn=N.prototype,Tn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Tn[e]={value:e}});Object.defineProperties(N,Tn);Object.defineProperty(Pn,"isAxiosError",{value:!0});N.from=(e,t,n,o,r,u)=>{const l=Object.create(Pn);return f.toFlatObject(e,l,function(b){return b!==Error.prototype},d=>d!=="isAxiosError"),N.call(l,e.message,t,n,o,r),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const As=null;function Ot(e){return f.isPlainObject(e)||f.isArray(e)}function Fn(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function en(e,t,n){return e?e.concat(t).map(function(r,u){return r=Fn(r),!n&&u?"["+r+"]":r}).join(n?".":""):t}function Us(e){return f.isArray(e)&&!e.some(Ot)}const Os=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function wt(e,t,n){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=f.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,S){return!f.isUndefined(S[R])});const o=n.metaTokens,r=n.visitor||y,u=n.dots,l=n.indexes,b=(n.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(r))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(f.isDate(E))return E.toISOString();if(!b&&f.isBlob(E))throw new N("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(E)||f.isTypedArray(E)?b&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,R,S){let O=E;if(E&&!S&&typeof E=="object"){if(f.endsWith(R,"{}"))R=o?R:R.slice(0,-2),E=JSON.stringify(E);else if(f.isArray(E)&&Us(E)||(f.isFileList(E)||f.endsWith(R,"[]"))&&(O=f.toArray(E)))return R=Fn(R),O.forEach(function(T,C){!(f.isUndefined(T)||T===null)&&t.append(l===!0?en([R],C,u):l===null?R:R+"[]",p(T))}),!1}return Ot(E)?!0:(t.append(en(S,R,u),p(E)),!1)}const w=[],A=Object.assign(Os,{defaultVisitor:y,convertValue:p,isVisitable:Ot});function L(E,R){if(!f.isUndefined(E)){if(w.indexOf(E)!==-1)throw Error("Circular reference detected in "+R.join("."));w.push(E),f.forEach(E,function(O,m){(!(f.isUndefined(O)||O===null)&&r.call(t,O,f.isString(m)?m.trim():m,R,A))===!0&&L(O,R?R.concat(m):[m])}),w.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return L(e),t}function tn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Nt(e,t){this._pairs=[],e&&wt(e,this,t)}const An=Nt.prototype;An.append=function(t,n){this._pairs.push([t,n])};An.toString=function(t){const n=t?function(o){return t.call(this,o,tn)}:tn;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Ds(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Un(e,t,n){if(!t)return e;const o=n&&n.encode||Ds;f.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let u;if(r?u=r(t,n):u=f.isURLSearchParams(t)?t.toString():new Nt(t,n).toString(o),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class nn{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(o){o!==null&&t(o)})}}const On={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Is=typeof URLSearchParams<"u"?URLSearchParams:Nt,$s=typeof FormData<"u"?FormData:null,Vs=typeof Blob<"u"?Blob:null,Bs={isBrowser:!0,classes:{URLSearchParams:Is,FormData:$s,Blob:Vs},protocols:["http","https","file","blob","url","data"]},Lt=typeof window<"u"&&typeof document<"u",Dt=typeof navigator=="object"&&navigator||void 0,Ns=Lt&&(!Dt||["ReactNative","NativeScript","NS"].indexOf(Dt.product)<0),Ls=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qs=Lt&&window.location.href||"http://localhost",zs=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lt,hasStandardBrowserEnv:Ns,hasStandardBrowserWebWorkerEnv:Ls,navigator:Dt,origin:qs},Symbol.toStringTag,{value:"Module"})),re={...zs,...Bs};function js(e,t){return wt(e,new re.classes.URLSearchParams,Object.assign({visitor:function(n,o,r,u){return re.isNode&&f.isBuffer(n)?(this.append(o,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function Ms(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gs(e){const t={},n=Object.keys(e);let o;const r=n.length;let u;for(o=0;o<r;o++)u=n[o],t[u]=e[u];return t}function Dn(e){function t(n,o,r,u){let l=n[u++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),b=u>=n.length;return l=!l&&f.isArray(r)?r.length:l,b?(f.hasOwnProp(r,l)?r[l]=[r[l],o]:r[l]=o,!d):((!r[l]||!f.isObject(r[l]))&&(r[l]=[]),t(n,o,r[l],u)&&f.isArray(r[l])&&(r[l]=Gs(r[l])),!d)}if(f.isFormData(e)&&f.isFunction(e.entries)){const n={};return f.forEachEntry(e,(o,r)=>{t(Ms(o),r,n,0)}),n}return null}function Hs(e,t,n){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const ot={transitional:On,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",r=o.indexOf("application/json")>-1,u=f.isObject(t);if(u&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return r?JSON.stringify(Dn(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t)||f.isReadableStream(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return js(t,this.formSerializer).toString();if((d=f.isFileList(t))||o.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return wt(d?{"files[]":t}:t,b&&new b,this.formSerializer)}}return u||r?(n.setContentType("application/json",!1),Hs(t)):t}],transformResponse:[function(t){const n=this.transitional||ot.transitional,o=n&&n.forcedJSONParsing,r=this.responseType==="json";if(f.isResponse(t)||f.isReadableStream(t))return t;if(t&&f.isString(t)&&(o&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?N.from(d,N.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:re.classes.FormData,Blob:re.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],e=>{ot.headers[e]={}});const Js=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ks=e=>{const t={};let n,o,r;return e&&e.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),o=l.substring(r+1).trim(),!(!n||t[n]&&Js[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},on=Symbol("internals");function Ye(e){return e&&String(e).trim().toLowerCase()}function ct(e){return e===!1||e==null?e:f.isArray(e)?e.map(ct):String(e)}function Ws(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const Xs=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kt(e,t,n,o,r){if(f.isFunction(o))return o.call(this,t,n);if(r&&(t=n),!!f.isString(t)){if(f.isString(o))return t.indexOf(o)!==-1;if(f.isRegExp(o))return o.test(t)}}function Zs(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function Qs(e,t){const n=f.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(r,u,l){return this[o].call(this,t,r,u,l)},configurable:!0})})}let le=class{constructor(t){t&&this.set(t)}set(t,n,o){const r=this;function u(d,b,p){const y=Ye(b);if(!y)throw new Error("header name must be a non-empty string");const w=f.findKey(r,y);(!w||r[w]===void 0||p===!0||p===void 0&&r[w]!==!1)&&(r[w||b]=ct(d))}const l=(d,b)=>f.forEach(d,(p,y)=>u(p,y,b));if(f.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(f.isString(t)&&(t=t.trim())&&!Xs(t))l(Ks(t),n);else if(f.isHeaders(t))for(const[d,b]of t.entries())u(b,d,o);else t!=null&&u(n,t,o);return this}get(t,n){if(t=Ye(t),t){const o=f.findKey(this,t);if(o){const r=this[o];if(!n)return r;if(n===!0)return Ws(r);if(f.isFunction(n))return n.call(this,r,o);if(f.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ye(t),t){const o=f.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||kt(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let r=!1;function u(l){if(l=Ye(l),l){const d=f.findKey(o,l);d&&(!n||kt(o,o[d],d,n))&&(delete o[d],r=!0)}}return f.isArray(t)?t.forEach(u):u(t),r}clear(t){const n=Object.keys(this);let o=n.length,r=!1;for(;o--;){const u=n[o];(!t||kt(this,this[u],u,t,!0))&&(delete this[u],r=!0)}return r}normalize(t){const n=this,o={};return f.forEach(this,(r,u)=>{const l=f.findKey(o,u);if(l){n[l]=ct(r),delete n[u];return}const d=t?Zs(u):String(u).trim();d!==u&&delete n[u],n[d]=ct(r),o[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return f.forEach(this,(o,r)=>{o!=null&&o!==!1&&(n[r]=t&&f.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(r=>o.set(r)),o}static accessor(t){const o=(this[on]=this[on]={accessors:{}}).accessors,r=this.prototype;function u(l){const d=Ye(l);o[d]||(Qs(r,l),o[d]=!0)}return f.isArray(t)?t.forEach(u):u(t),this}};le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(le.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});f.freezeMethods(le);function Rt(e,t){const n=this||ot,o=t||n,r=le.from(o.headers);let u=o.data;return f.forEach(e,function(d){u=d.call(n,u,r.normalize(),t?t.status:void 0)}),r.normalize(),u}function In(e){return!!(e&&e.__CANCEL__)}function Ke(e,t,n){N.call(this,e??"canceled",N.ERR_CANCELED,t,n),this.name="CanceledError"}f.inherits(Ke,N,{__CANCEL__:!0});function $n(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new N("Request failed with status code "+n.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ys(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function er(e,t){e=e||10;const n=new Array(e),o=new Array(e);let r=0,u=0,l;return t=t!==void 0?t:1e3,function(b){const p=Date.now(),y=o[u];l||(l=p),n[r]=b,o[r]=p;let w=u,A=0;for(;w!==r;)A+=n[w++],w=w%e;if(r=(r+1)%e,r===u&&(u=(u+1)%e),p-l<t)return;const L=y&&p-y;return L?Math.round(A*1e3/L):void 0}}function tr(e,t){let n=0,o=1e3/t,r,u;const l=(p,y=Date.now())=>{n=y,r=null,u&&(clearTimeout(u),u=null),e.apply(null,p)};return[(...p)=>{const y=Date.now(),w=y-n;w>=o?l(p,y):(r=p,u||(u=setTimeout(()=>{u=null,l(r)},o-w)))},()=>r&&l(r)]}const pt=(e,t,n=3)=>{let o=0;const r=er(50,250);return tr(u=>{const l=u.loaded,d=u.lengthComputable?u.total:void 0,b=l-o,p=r(b),y=l<=d;o=l;const w={loaded:l,total:d,progress:d?l/d:void 0,bytes:b,rate:p||void 0,estimated:p&&d&&y?(d-l)/p:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(w)},n)},sn=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},rn=e=>(...t)=>f.asap(()=>e(...t)),nr=re.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,re.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(re.origin),re.navigator&&/(msie|trident)/i.test(re.navigator.userAgent)):()=>!0,or=re.hasStandardBrowserEnv?{write(e,t,n,o,r,u){const l=[e+"="+encodeURIComponent(t)];f.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),f.isString(o)&&l.push("path="+o),f.isString(r)&&l.push("domain="+r),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vn(e,t,n){let o=!sr(t);return e&&(o||n==!1)?rr(e,t):t}const an=e=>e instanceof le?{...e}:e;function Ne(e,t){t=t||{};const n={};function o(p,y,w,A){return f.isPlainObject(p)&&f.isPlainObject(y)?f.merge.call({caseless:A},p,y):f.isPlainObject(y)?f.merge({},y):f.isArray(y)?y.slice():y}function r(p,y,w,A){if(f.isUndefined(y)){if(!f.isUndefined(p))return o(void 0,p,w,A)}else return o(p,y,w,A)}function u(p,y){if(!f.isUndefined(y))return o(void 0,y)}function l(p,y){if(f.isUndefined(y)){if(!f.isUndefined(p))return o(void 0,p)}else return o(void 0,y)}function d(p,y,w){if(w in t)return o(p,y);if(w in e)return o(void 0,p)}const b={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(p,y,w)=>r(an(p),an(y),w,!0)};return f.forEach(Object.keys(Object.assign({},e,t)),function(y){const w=b[y]||r,A=w(e[y],t[y],y);f.isUndefined(A)&&w!==d||(n[y]=A)}),n}const Bn=e=>{const t=Ne({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:u,headers:l,auth:d}=t;t.headers=l=le.from(l),t.url=Un(Vn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let b;if(f.isFormData(n)){if(re.hasStandardBrowserEnv||re.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((b=l.getContentType())!==!1){const[p,...y]=b?b.split(";").map(w=>w.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...y].join("; "))}}if(re.hasStandardBrowserEnv&&(o&&f.isFunction(o)&&(o=o(t)),o||o!==!1&&nr(t.url))){const p=r&&u&&or.read(u);p&&l.set(r,p)}return t},ar=typeof XMLHttpRequest<"u",lr=ar&&function(e){return new Promise(function(n,o){const r=Bn(e);let u=r.data;const l=le.from(r.headers).normalize();let{responseType:d,onUploadProgress:b,onDownloadProgress:p}=r,y,w,A,L,E;function R(){L&&L(),E&&E(),r.cancelToken&&r.cancelToken.unsubscribe(y),r.signal&&r.signal.removeEventListener("abort",y)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function O(){if(!S)return;const T=le.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),v={data:!d||d==="text"||d==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:e,request:S};$n(function(K){n(K),R()},function(K){o(K),R()},v),S=null}"onloadend"in S?S.onloadend=O:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(O)},S.onabort=function(){S&&(o(new N("Request aborted",N.ECONNABORTED,e,S)),S=null)},S.onerror=function(){o(new N("Network Error",N.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const v=r.transitional||On;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),o(new N(C,v.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,S)),S=null},u===void 0&&l.setContentType(null),"setRequestHeader"in S&&f.forEach(l.toJSON(),function(C,v){S.setRequestHeader(v,C)}),f.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),d&&d!=="json"&&(S.responseType=r.responseType),p&&([A,E]=pt(p,!0),S.addEventListener("progress",A)),b&&S.upload&&([w,L]=pt(b),S.upload.addEventListener("progress",w),S.upload.addEventListener("loadend",L)),(r.cancelToken||r.signal)&&(y=T=>{S&&(o(!T||T.type?new Ke(null,e,S):T),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(y),r.signal&&(r.signal.aborted?y():r.signal.addEventListener("abort",y)));const m=Ys(r.url);if(m&&re.protocols.indexOf(m)===-1){o(new N("Unsupported protocol "+m+":",N.ERR_BAD_REQUEST,e));return}S.send(u||null)})},ir=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,r;const u=function(p){if(!r){r=!0,d();const y=p instanceof Error?p:this.reason;o.abort(y instanceof N?y:new Ke(y instanceof Error?y.message:y))}};let l=t&&setTimeout(()=>{l=null,u(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(u):p.removeEventListener("abort",u)}),e=null)};e.forEach(p=>p.addEventListener("abort",u));const{signal:b}=o;return b.unsubscribe=()=>f.asap(d),b}},ur=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,r;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},dr=async function*(e,t){for await(const n of cr(e))yield*ur(n,t)},cr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},ln=(e,t,n,o)=>{const r=dr(e,t);let u=0,l,d=b=>{l||(l=!0,o&&o(b))};return new ReadableStream({async pull(b){try{const{done:p,value:y}=await r.next();if(p){d(),b.close();return}let w=y.byteLength;if(n){let A=u+=w;n(A)}b.enqueue(new Uint8Array(y))}catch(p){throw d(p),p}},cancel(b){return d(b),r.return()}},{highWaterMark:2})},vt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Nn=vt&&typeof ReadableStream=="function",fr=vt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ln=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pr=Nn&&Ln(()=>{let e=!1;const t=new Request(re.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),un=64*1024,It=Nn&&Ln(()=>f.isReadableStream(new Response("").body)),mt={stream:It&&(e=>e.body)};vt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!mt[t]&&(mt[t]=f.isFunction(e[t])?n=>n[t]():(n,o)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,o)})})})(new Response);const mr=async e=>{if(e==null)return 0;if(f.isBlob(e))return e.size;if(f.isSpecCompliantForm(e))return(await new Request(re.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(f.isArrayBufferView(e)||f.isArrayBuffer(e))return e.byteLength;if(f.isURLSearchParams(e)&&(e=e+""),f.isString(e))return(await fr(e)).byteLength},yr=async(e,t)=>{const n=f.toFiniteNumber(e.getContentLength());return n??mr(t)},gr=vt&&(async e=>{let{url:t,method:n,data:o,signal:r,cancelToken:u,timeout:l,onDownloadProgress:d,onUploadProgress:b,responseType:p,headers:y,withCredentials:w="same-origin",fetchOptions:A}=Bn(e);p=p?(p+"").toLowerCase():"text";let L=ir([r,u&&u.toAbortSignal()],l),E;const R=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let S;try{if(b&&pr&&n!=="get"&&n!=="head"&&(S=await yr(y,o))!==0){let v=new Request(t,{method:"POST",body:o,duplex:"half"}),q;if(f.isFormData(o)&&(q=v.headers.get("content-type"))&&y.setContentType(q),v.body){const[K,D]=sn(S,pt(rn(b)));o=ln(v.body,un,K,D)}}f.isString(w)||(w=w?"include":"omit");const O="credentials"in Request.prototype;E=new Request(t,{...A,signal:L,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:O?w:void 0});let m=await fetch(E);const T=It&&(p==="stream"||p==="response");if(It&&(d||T&&R)){const v={};["status","statusText","headers"].forEach($=>{v[$]=m[$]});const q=f.toFiniteNumber(m.headers.get("content-length")),[K,D]=d&&sn(q,pt(rn(d),!0))||[];m=new Response(ln(m.body,un,K,()=>{D&&D(),R&&R()}),v)}p=p||"text";let C=await mt[f.findKey(mt,p)||"text"](m,e);return!T&&R&&R(),await new Promise((v,q)=>{$n(v,q,{data:C,headers:le.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:E})})}catch(O){throw R&&R(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,E),{cause:O.cause||O}):N.from(O,O&&O.code,e,E)}}),$t={http:As,xhr:lr,fetch:gr};f.forEach($t,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dn=e=>`- ${e}`,br=e=>f.isFunction(e)||e===null||e===!1,qn={getAdapter:e=>{e=f.isArray(e)?e:[e];const{length:t}=e;let n,o;const r={};for(let u=0;u<t;u++){n=e[u];let l;if(o=n,!br(n)&&(o=$t[(l=String(n)).toLowerCase()],o===void 0))throw new N(`Unknown adapter '${l}'`);if(o)break;r[l||"#"+u]=o}if(!o){const u=Object.entries(r).map(([d,b])=>`adapter ${d} `+(b===!1?"is not supported by the environment":"is not available in the build"));let l=t?u.length>1?`since :
`+u.map(dn).join(`
`):" "+dn(u[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:$t};function Ct(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ke(null,e)}function cn(e){return Ct(e),e.headers=le.from(e.headers),e.data=Rt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qn.getAdapter(e.adapter||ot.adapter)(e).then(function(o){return Ct(e),o.data=Rt.call(e,e.transformResponse,o),o.headers=le.from(o.headers),o},function(o){return In(o)||(Ct(e),o&&o.response&&(o.response.data=Rt.call(e,e.transformResponse,o.response),o.response.headers=le.from(o.response.headers))),Promise.reject(o)})}const zn="1.8.4",_t={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_t[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const fn={};_t.transitional=function(t,n,o){function r(u,l){return"[Axios v"+zn+"] Transitional option '"+u+"'"+l+(o?". "+o:"")}return(u,l,d)=>{if(t===!1)throw new N(r(l," has been removed"+(n?" in "+n:"")),N.ERR_DEPRECATED);return n&&!fn[l]&&(fn[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,l,d):!0}};_t.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function hr(e,t,n){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const u=o[r],l=t[u];if(l){const d=e[u],b=d===void 0||l(d,u,e);if(b!==!0)throw new N("option "+u+" must be "+b,N.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new N("Unknown option "+u,N.ERR_BAD_OPTION)}}const ft={assertOptions:hr,validators:_t},_e=ft.validators;let Ve=class{constructor(t){this.defaults=t,this.interceptors={request:new nn,response:new nn}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const u=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ne(this.defaults,n);const{transitional:o,paramsSerializer:r,headers:u}=n;o!==void 0&&ft.assertOptions(o,{silentJSONParsing:_e.transitional(_e.boolean),forcedJSONParsing:_e.transitional(_e.boolean),clarifyTimeoutError:_e.transitional(_e.boolean)},!1),r!=null&&(f.isFunction(r)?n.paramsSerializer={serialize:r}:ft.assertOptions(r,{encode:_e.function,serialize:_e.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ft.assertOptions(n,{baseUrl:_e.spelling("baseURL"),withXsrfToken:_e.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=u&&f.merge(u.common,u[n.method]);u&&f.forEach(["delete","get","head","post","put","patch","common"],E=>{delete u[E]}),n.headers=le.concat(l,u);const d=[];let b=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(b=b&&R.synchronous,d.unshift(R.fulfilled,R.rejected))});const p=[];this.interceptors.response.forEach(function(R){p.push(R.fulfilled,R.rejected)});let y,w=0,A;if(!b){const E=[cn.bind(this),void 0];for(E.unshift.apply(E,d),E.push.apply(E,p),A=E.length,y=Promise.resolve(n);w<A;)y=y.then(E[w++],E[w++]);return y}A=d.length;let L=n;for(w=0;w<A;){const E=d[w++],R=d[w++];try{L=E(L)}catch(S){R.call(this,S);break}}try{y=cn.call(this,L)}catch(E){return Promise.reject(E)}for(w=0,A=p.length;w<A;)y=y.then(p[w++],p[w++]);return y}getUri(t){t=Ne(this.defaults,t);const n=Vn(t.baseURL,t.url,t.allowAbsoluteUrls);return Un(n,t.params,t.paramsSerializer)}};f.forEach(["delete","get","head","options"],function(t){Ve.prototype[t]=function(n,o){return this.request(Ne(o||{},{method:t,url:n,data:(o||{}).data}))}});f.forEach(["post","put","patch"],function(t){function n(o){return function(u,l,d){return this.request(Ne(d||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}Ve.prototype[t]=n(),Ve.prototype[t+"Form"]=n(!0)});let wr=class jn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const o=this;this.promise.then(r=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](r);o._listeners=null}),this.promise.then=r=>{let u;const l=new Promise(d=>{o.subscribe(d),u=d}).then(r);return l.cancel=function(){o.unsubscribe(u)},l},t(function(u,l,d){o.reason||(o.reason=new Ke(u,l,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new jn(function(r){t=r}),cancel:t}}};function vr(e){return function(n){return e.apply(null,n)}}function _r(e){return f.isObject(e)&&e.isAxiosError===!0}const Vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vt).forEach(([e,t])=>{Vt[t]=e});function Mn(e){const t=new Ve(e),n=_n(Ve.prototype.request,t);return f.extend(n,Ve.prototype,t,{allOwnKeys:!0}),f.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Mn(Ne(e,r))},n}const Q=Mn(ot);Q.Axios=Ve;Q.CanceledError=Ke;Q.CancelToken=wr;Q.isCancel=In;Q.VERSION=zn;Q.toFormData=wt;Q.AxiosError=N;Q.Cancel=Q.CanceledError;Q.all=function(t){return Promise.all(t)};Q.spread=vr;Q.isAxiosError=_r;Q.mergeConfig=Ne;Q.AxiosHeaders=le;Q.formToJSON=e=>Dn(f.isHTMLForm(e)?new FormData(e):e);Q.getAdapter=qn.getAdapter;Q.HttpStatusCode=Vt;Q.default=Q;const{Axios:tl,AxiosError:nl,CanceledError:ol,isCancel:sl,CancelToken:rl,VERSION:al,all:ll,Cancel:il,isAxiosError:ul,spread:dl,toFormData:cl,AxiosHeaders:fl,HttpStatusCode:pl,formToJSON:ml,getAdapter:yl,mergeConfig:gl}=Q,Er="/api",He=Q.create({baseURL:Er,timeout:1e4,headers:{"Content-Type":"application/json"}});He.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));He.interceptors.response.use(e=>e.data,e=>e.response?(e.response.status===401&&window.location.pathname!=="/login"&&(localStorage.removeItem("token"),localStorage.removeItem("userGroupId"),window.location.href="/login"),Promise.reject(e.response.data)):e.request?Promise.reject({code:-1,message:"网络错误，请稍后重试"}):Promise.reject({code:-2,message:"请求错误"}));const I={get:async(e,t)=>(await He.get(e,{params:t})).data,post:async(e,t)=>(await He.post(e,t)).data,put:async(e,t)=>(await He.put(e,t)).data,delete:async e=>(await He.delete(e)).data},Fe={getSystemStatus:()=>I.get("/dashboard/system-status"),getTrafficStatus:()=>I.get("/dashboard/traffic-status"),getProxyTrafficRank:e=>I.get(`/dashboard/proxy-traffic-rank/${e}`),getUserTrafficRank:()=>I.get("/dashboard/user-traffic-rank"),getTrafficHistory:e=>I.get(`/dashboard/traffic-history/${e}`),getActiveUserLinks:()=>I.get("/dashboard/active-user-link"),getMyTrafficStatus:()=>I.get("/dashboard/my-traffic")};async function it(e){const n=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(o)).map(l=>l.toString(16).padStart(2,"0")).join("")}const Se={getUsers:()=>I.get("/users"),getUser:e=>I.get(`/users/${e}`),createUser:async e=>(e.password=(await it(e.password)).toString(),I.post("/users",e)),updateUser:(e,t)=>I.put(`/users/${e}`,t),deleteUser:e=>I.delete(`/users/${e}`),resetPassword:e=>I.post(`/users/${e}/reset-password`),login:async e=>(e.password=(await it(e.password)).toString(),I.post("/auth/login",e)),logout:()=>(qt().logout(),!0),changePassword:async(e,t)=>{const n=(await it(e)).toString(),o=(await it(t)).toString();return I.post("/auth/change-password",{oldPassword:n,newPassword:o})},getMyToken:()=>I.get("/user/my-token"),updateMyToken:()=>I.put("/user/my-token")},he={getInboundProxies:()=>I.get("/proxies/inbound"),getOutboundProxies:()=>I.get("/proxies/outbound"),getInboundProxy:e=>I.get(`/proxies/inbound/${e}`),getOutboundProxy:e=>I.get(`/proxies/outbound/${e}`),createInboundProxy:e=>I.post("/proxies/inbound",e),createOutboundProxy:e=>I.post("/proxies/outbound",e),updateInboundProxy:(e,t)=>I.put(`/proxies/inbound/${e}`,t),updateOutboundProxy:(e,t)=>I.put(`/proxies/outbound/${e}`,t),deleteInboundProxy:e=>I.delete(`/proxies/inbound/${e}`),deleteOutboundProxy:e=>I.delete(`/proxies/outbound/${e}`),getUsableInboundProxies:()=>I.get("/proxies/usable-inbounds"),testOutboundProxySpeed:e=>I.post(`/proxies/outbound/${e}/test-speed`)},pe={getRouteSchemes:()=>I.get("/routes/schemes"),getRouteScheme:e=>I.get(`/routes/schemes/${e}`),createRouteScheme:e=>I.post("/routes/schemes",e),updateRouteScheme:(e,t)=>I.put(`/routes/schemes/${e}`,t),deleteRouteScheme:e=>I.delete(`/routes/schemes/${e}`),toggleRouteSchemeStatus:e=>I.post(`/routes/schemes/${e}/toggle-status`),getRules:e=>I.get(`/routes/schemes/${e}/rules`),addRule:(e,t)=>I.post(`/routes/schemes/${e}/rules`,t),updateRule:(e,t,n)=>I.put(`/routes/schemes/${e}/rules/${t}`,n),deleteRule:(e,t)=>I.delete(`/routes/schemes/${e}/rules/${t}`),updateRuleOrder:(e,t)=>I.post(`/routes/schemes/${e}/rules/reorder`,{ruleIds:t})},ut={getUserGroups:()=>I.get("/user-groups"),getUserGroup:e=>I.get(`/user-groups/${e}`),createUserGroup:e=>I.post("/user-groups",e),updateUserGroup:(e,t)=>I.put(`/user-groups/${e}`,t),deleteUserGroup:e=>I.delete(`/user-groups/${e}`),getUsersInGroup:e=>I.get(`/user-groups/${e}/users`),addUserToGroup:(e,t)=>I.post(`/user-groups/${e}/users/${t}`),removeUserFromGroup:(e,t)=>I.delete(`/user-groups/${e}/users/${t}`)},Be={getSystemInfo:()=>I.get("/system/info"),getSystemName:()=>I.get("/system/name"),updateSystemInfo:e=>I.put("/system/info",e),clearBadgerCache:()=>I.post("/system/clear-badger-cache")},qt=Fo("user",()=>{const e=x(localStorage.getItem("token")||"");x(localStorage.getItem("username")||"");const t=x(localStorage.getItem("userId")||""),n=x(localStorage.getItem("userGroupId")||"");return{token:e,userId:t,userGroupId:n,login:async(u,l)=>{try{console.log("Login attempt:",{inputUsername:u,password:l});const d=await Se.login({username:u,password:l});return d.token&&d.userId?(e.value=d.token,t.value=d.userId,n.value=d.userGroupId,localStorage.setItem("token",d.token),localStorage.setItem("userId",d.userId),localStorage.setItem("userGroupId",d.userGroupId),!0):(console.log("Login failed: invalid credentials"),!1)}catch(d){return console.error("Login failed:",d),!1}},logout:()=>{e.value="",t.value="",n.value="",localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userGroupId")}}}),Sr={class:"dock-nav"},xr={class:"dock-content"},kr={class:"dock-menu"},Rr={class:"dock-item"},Cr={class:"system-title"},Pr={class:"user-submenu"},Tr={key:0,class:"mobile-tab-bar"},Fr={class:"mobile-user-menu"},Ar={class:"user-header"},Ur={class:"menu-list"},Or={class:"dialog-footer"},Dr=Ae({__name:"MainLayout",setup(e){const t=Ao(),n=pn(),o=qt(),r=x(!1),u=x("ZIP管理面板"),l=x(!1),d=x(!1),b=x(!1),p=x(),y=ue({oldPassword:"",newPassword:"",confirmPassword:""}),w=ue({oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"},{validator:(O,m,T)=>{m!==y.newPassword?T(new Error("两次输入的密码不一致")):T()},trigger:"blur"}]}),A=x(!1),L=async()=>{try{const O=await Be.getSystemInfo();u.value=O.systemName}catch(O){console.error("获取系统名称失败",O)}},E=()=>{const O=window.innerWidth;l.value=O<768},R=O=>{O==="logout"?(Se.logout(),n.push("/login")):O==="changePassword"&&(y.oldPassword="",y.newPassword="",y.confirmPassword="",d.value=!0)},S=async()=>{p.value&&await p.value.validate(async O=>{var m,T;if(O){b.value=!0;try{await Se.changePassword(y.oldPassword,y.newPassword),_.success("密码修改成功"),d.value=!1}catch(C){console.error("修改密码失败",C),_.error(((T=(m=C.response)==null?void 0:m.data)==null?void 0:T.message)||"密码修改失败，请检查旧密码是否正确")}finally{b.value=!1}}})};return Le(()=>{o.userGroupId==="管理员"&&(r.value=!0),L(),E(),window.addEventListener("resize",E)}),tt(()=>{window.removeEventListener("resize",E)}),(O,m)=>{const T=P("router-view"),C=P("el-main"),v=P("el-icon"),q=P("router-link"),K=P("Operation"),D=P("el-drawer"),$=P("el-container"),Y=P("el-input"),ae=P("el-form-item"),te=P("el-form"),se=P("el-button"),X=P("el-dialog");return F(),J(Ee,null,[s($,{class:"layout-container"},{default:a(()=>[s(C,{class:be({"mobile-main":l.value})},{default:a(()=>[s(T)]),_:1},8,["class"]),h("div",Sr,[h("div",xr,[h("div",kr,[r.value?(F(),J(Ee,{key:0},[h("div",Rr,[s(v,null,{default:a(()=>[s(M(Bo))]),_:1}),h("span",Cr,G(u.value),1)]),s(q,{to:"/my-proxies",class:be(["dock-item",{active:M(t).path==="/my-proxies"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(M(xt))]),_:1}),m[12]||(m[12]=h("span",null,"我的代理",-1))]),_:1},8,["class"]),s(q,{to:"/",class:be(["dock-item",{active:M(t).path==="/"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(M(Zt))]),_:1}),m[13]||(m[13]=h("span",null,"统计数据",-1))]),_:1},8,["class"]),s(q,{to:"/integrated",class:be(["dock-item",{active:M(t).path==="/integrated"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(K)]),_:1}),m[14]||(m[14]=h("span",null,"管理面板",-1))]),_:1},8,["class"]),s(q,{to:"/system",class:be(["dock-item",{active:M(t).path==="/system"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(M(lt))]),_:1}),m[15]||(m[15]=h("span",null,"基础设置",-1))]),_:1},8,["class"])],64)):(F(),W(q,{key:1,to:"/my-proxies",class:be(["dock-item",{active:M(t).path==="/my-proxies"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(M(xt))]),_:1}),m[16]||(m[16]=h("span",null,"我的代理",-1))]),_:1},8,["class"])),h("div",{class:"dock-item user-menu",onClick:m[0]||(m[0]=j=>A.value=!A.value)},[s(v,null,{default:a(()=>[s(M(At))]),_:1}),h("span",null,G(M(o).userId),1),s(v,{class:be(["arrow-icon",{"is-active":A.value}])},{default:a(()=>[s(M(No))]),_:1},8,["class"])])])]),de(h("div",Pr,[h("div",{class:"submenu-item",onClick:m[1]||(m[1]=j=>R("changePassword"))},[s(v,null,{default:a(()=>[s(M(lt))]),_:1}),m[17]||(m[17]=h("span",null,"修改密码",-1))]),h("div",{class:"submenu-item",onClick:m[2]||(m[2]=j=>R("logout"))},[s(v,null,{default:a(()=>[s(M(Qt))]),_:1}),m[18]||(m[18]=h("span",null,"退出登录",-1))])],512),[[Uo,A.value]])]),l.value?(F(),J("div",Tr,[r.value?(F(),J(Ee,{key:0},[s(q,{to:"/",class:be(["tab-item",{active:M(t).path==="/"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(M(Zt))]),_:1}),m[19]||(m[19]=h("span",null,"统计数据",-1))]),_:1},8,["class"]),s(q,{to:"/integrated",class:be(["tab-item",{active:M(t).path==="/integrated"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(K)]),_:1}),m[20]||(m[20]=h("span",null,"管理面板",-1))]),_:1},8,["class"]),s(q,{to:"/system",class:be(["tab-item",{active:M(t).path==="/system"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(M(lt))]),_:1}),m[21]||(m[21]=h("span",null,"基础设置",-1))]),_:1},8,["class"])],64)):(F(),W(q,{key:1,to:"/my-proxies",class:be(["tab-item",{active:M(t).path==="/my-proxies"}])},{default:a(()=>[s(v,null,{default:a(()=>[s(M(xt))]),_:1}),m[22]||(m[22]=h("span",null,"我的代理",-1))]),_:1},8,["class"])),h("div",{class:"tab-item",onClick:m[3]||(m[3]=j=>A.value=!0)},[s(v,null,{default:a(()=>[s(M(At))]),_:1}),m[23]||(m[23]=h("span",null,"我的",-1))])])):ke("",!0),l.value?(F(),W(D,{key:1,modelValue:A.value,"onUpdate:modelValue":m[6]||(m[6]=j=>A.value=j),direction:"rtl",size:"80%"},{default:a(()=>[h("div",Fr,[h("div",Ar,[h("h3",null,G(M(o).userId),1)]),h("div",Ur,[h("div",{class:"menu-item",onClick:m[4]||(m[4]=j=>R("changePassword"))},[s(v,null,{default:a(()=>[s(M(lt))]),_:1}),m[24]||(m[24]=h("span",null,"修改密码",-1))]),h("div",{class:"menu-item",onClick:m[5]||(m[5]=j=>R("logout"))},[s(v,null,{default:a(()=>[s(M(Qt))]),_:1}),m[25]||(m[25]=h("span",null,"退出登录",-1))])])])]),_:1},8,["modelValue"])):ke("",!0)]),_:1}),s(X,{modelValue:d.value,"onUpdate:modelValue":m[11]||(m[11]=j=>d.value=j),title:"修改密码",width:"400px"},{footer:a(()=>[h("span",Or,[s(se,{onClick:m[10]||(m[10]=j=>d.value=!1)},{default:a(()=>m[26]||(m[26]=[k("取消")])),_:1}),s(se,{type:"primary",onClick:S,loading:b.value},{default:a(()=>m[27]||(m[27]=[k("确定")])),_:1},8,["loading"])])]),default:a(()=>[s(te,{ref_key:"passwordFormRef",ref:p,model:y,rules:w,"label-width":"100px"},{default:a(()=>[s(ae,{label:"旧密码",prop:"oldPassword"},{default:a(()=>[s(Y,{modelValue:y.oldPassword,"onUpdate:modelValue":m[7]||(m[7]=j=>y.oldPassword=j),type:"password",placeholder:"请输入旧密码","show-password":""},null,8,["modelValue"])]),_:1}),s(ae,{label:"新密码",prop:"newPassword"},{default:a(()=>[s(Y,{modelValue:y.newPassword,"onUpdate:modelValue":m[8]||(m[8]=j=>y.newPassword=j),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),s(ae,{label:"确认新密码",prop:"confirmPassword"},{default:a(()=>[s(Y,{modelValue:y.confirmPassword,"onUpdate:modelValue":m[9]||(m[9]=j=>y.confirmPassword=j),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])],64)}}}),qe=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Ir=qe(Dr,[["__scopeId","data-v-c63429e8"]]),$r={class:"login-container"},Vr={class:"login-box"},Br={class:"login-header"},Nr=Ae({__name:"Login",setup(e){const t=pn(),n=qt(),o=x(),r=x(!1),u=x("ZIP管理面板"),l=ue({username:"",password:""}),d={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},b=async()=>{try{const y=await Be.getSystemName();u.value=y.systemName||"ZIP管理面板"}catch(y){console.error("获取系统名称失败",y)}};Le(()=>{b()});const p=async()=>{o.value&&await o.value.validate(async y=>{if(y){r.value=!0;try{console.log("Form submitted:",l);const w=await n.login(l.username,l.password);console.log("Login result:",w),w?(_.success("登录成功"),t.push("/")):_.error("用户名或密码错误")}catch(w){console.error("Login error:",w),_.error("登录失败，请重试")}finally{r.value=!1}}else console.log("Form validation failed")})};return(y,w)=>{const A=P("el-input"),L=P("el-form-item"),E=P("el-button"),R=P("el-form"),S=P("el-card");return F(),J("div",$r,[h("div",Vr,[s(S,{class:"login-card"},{header:a(()=>[h("div",Br,[h("h2",null,G(u.value),1),w[2]||(w[2]=h("p",{class:"subtitle"},"(～￣▽￣)→))*￣▽￣*)o ",-1))])]),default:a(()=>[s(R,{ref_key:"formRef",ref:o,model:l,rules:d,"label-position":"top",size:"large",class:"login-form"},{default:a(()=>[s(L,{prop:"username"},{default:a(()=>[s(A,{modelValue:l.username,"onUpdate:modelValue":w[0]||(w[0]=O=>l.username=O),placeholder:"用户名","prefix-icon":M(At)},null,8,["modelValue","prefix-icon"])]),_:1}),s(L,{prop:"password"},{default:a(()=>[s(A,{modelValue:l.password,"onUpdate:modelValue":w[1]||(w[1]=O=>l.password=O),type:"password",placeholder:"密码","show-password":"","prefix-icon":M(Lo),onKeyup:Pt(p,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),s(L,null,{default:a(()=>[s(E,{type:"primary",onClick:p,loading:r.value,class:"login-button"},{default:a(()=>[k(G(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])}}}),Lr=qe(Nr,[["__scopeId","data-v-c1ee71ba"]]),qr={class:"dashboard-container"},zr={class:"card-header"},jr={class:"chart-container"},Mr={class:"status-content"},Gr={class:"status-item"},Hr={class:"value"},Jr={class:"status-item"},Kr={class:"value"},Wr={class:"status-item"},Xr={class:"value"},Zr={class:"card-header"},Qr={class:"pagination-container"},Yr=Ae({__name:"Dashboard",setup(e){yn([bn,jo,hn,wn,vn,Mo]);const t=x({upload:0,download:0,total:0}),n=x([]),o=x([]),r=x([]),u=x([]),l=x("day"),d=x({labels:[],upload:[],download:[]}),b=ue({systemStatus:!0,proxyStatus:!0,trafficStatus:!0,inboundTrafficRank:!0,outboundTrafficRank:!0,userTrafficRank:!0,trafficHistory:!0,recentLogs:!0,activeUserLinks:!0,activeLinks:!0}),p=x([]),y=x(1),w=x(20),A=x(0),L=async()=>{b.trafficStatus=!0;try{t.value=await Fe.getTrafficStatus()}catch(D){console.error("获取流量状态失败",D),_.error("获取流量状态失败")}finally{b.trafficStatus=!1}},E=async()=>{b.inboundTrafficRank=!0,b.outboundTrafficRank=!0,Fe.getProxyTrafficRank("i").then(D=>{n.value=D}).catch(D=>{console.error("获取入站代理流量排行失败",D),_.error("获取入站代理流量排行失败")}).finally(()=>{b.inboundTrafficRank=!1}),Fe.getProxyTrafficRank("o").then(D=>{o.value=D}).catch(D=>{console.error("获取出站代理流量排行失败",D),_.error("获取出站代理流量排行失败")}).finally(()=>{b.outboundTrafficRank=!1})},R=async()=>{b.userTrafficRank=!0;try{r.value=await Fe.getUserTrafficRank()}catch(D){console.error("获取用户流量排行失败",D),_.error("获取用户流量排行失败")}finally{b.userTrafficRank=!1}},S=async()=>{b.activeUserLinks=!0;try{u.value=await Fe.getActiveUserLinks()}catch(D){console.error("获取在线用户失败",D),_.error("获取在线用户失败")}finally{b.activeUserLinks=!1}},O=async()=>{b.trafficHistory=!0;try{d.value=await Fe.getTrafficHistory(l.value)}catch(D){console.error("获取流量历史数据失败",D),_.error("获取流量历史数据失败")}finally{b.trafficHistory=!1}},m=async()=>{b.activeLinks=!0;try{const D=await Fe.getActiveLinks(y.value-1,w.value);p.value=D.items,A.value=D.total}catch(D){console.error("获取活跃连接失败",D),_.error("获取活跃连接失败")}finally{b.activeLinks=!1}},T=Oo(()=>({tooltip:{trigger:"axis",formatter:function(D){let $=D[0].name+"<br/>";return D.forEach(Y=>{$+=Y.seriesName+": "+C(Y.value)+"<br/>"}),$}},legend:{data:["上传流量","下载流量"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:d.value.labels||[]},yAxis:{type:"value",axisLabel:{formatter:function(D){return C(D)}}},series:[{name:"上传流量",type:"line",data:d.value.upload||[],areaStyle:{opacity:.3},lineStyle:{width:2},itemStyle:{color:"#409EFF"}},{name:"下载流量",type:"line",data:d.value.download||[],areaStyle:{opacity:.3},lineStyle:{width:2},itemStyle:{color:"#67C23A"}}]}));Tt(l,()=>{O()}),Tt(d,()=>{},{deep:!0});const C=D=>{if(D===0)return"0 B";const $=1024,Y=["B","KB","MB","GB","TB","PB"],ae=Math.floor(Math.log(D)/Math.log($));return parseFloat((D/Math.pow($,ae)).toFixed(2))+" "+Y[ae]},v=D=>{w.value=D,m()},q=D=>{y.value=D,m()};Le(async()=>{await Promise.all([L(),E(),R(),O(),S(),m()])});const K=setInterval(async()=>{L(),S(),m()},5e3);return tt(()=>{clearInterval(K)}),(D,$)=>{const Y=P("el-radio-button"),ae=P("el-radio-group"),te=P("el-card"),se=P("el-col"),X=P("el-table-column"),j=P("el-table"),Re=P("el-row"),xe=P("el-icon"),Ue=P("el-button"),me=P("el-pagination"),ee=yt("loading");return F(),J("div",qr,[s(Re,{gutter:20,class:"mb-4"},{default:a(()=>[s(se,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-4"},{default:a(()=>[de((F(),W(te,{shadow:"hover",class:"traffic-trend"},{header:a(()=>[h("div",zr,[$[6]||($[6]=h("span",null,"流量趋势",-1)),s(ae,{modelValue:l.value,"onUpdate:modelValue":$[0]||($[0]=z=>l.value=z),size:"small"},{default:a(()=>[s(Y,{label:"hour"},{default:a(()=>$[3]||($[3]=[k("小时")])),_:1}),s(Y,{label:"day"},{default:a(()=>$[4]||($[4]=[k("天")])),_:1}),s(Y,{label:"week"},{default:a(()=>$[5]||($[5]=[k("周")])),_:1})]),_:1},8,["modelValue"])])]),default:a(()=>[h("div",jr,[s(M(gn),{class:"chart",option:T.value,autoresize:""},null,8,["option"])])]),_:1})),[[ee,b.trafficHistory]])]),_:1}),s(se,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(te,{shadow:"hover",class:"daily-traffic"},{header:a(()=>$[7]||($[7]=[h("div",{class:"card-header"},[h("span",null,"今日流量")],-1)])),default:a(()=>[h("div",Mr,[h("div",Gr,[$[8]||($[8]=h("span",{class:"label"},"上传",-1)),h("span",Hr,G(C(t.value.upload)),1)]),h("div",Jr,[$[9]||($[9]=h("span",{class:"label"},"下载",-1)),h("span",Kr,G(C(t.value.download)),1)]),h("div",Wr,[$[10]||($[10]=h("span",{class:"label"},"总流量",-1)),h("span",Xr,G(C(t.value.total)),1)])])]),_:1})]),_:1}),s(se,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(te,{shadow:"hover",class:"online-users"},{header:a(()=>$[11]||($[11]=[h("div",{class:"card-header"},[h("span",null,"在线用户")],-1)])),default:a(()=>[s(j,{data:u.value,style:{width:"100%"}},{default:a(()=>[s(X,{prop:"userId",label:"用户ID"}),s(X,{prop:"links",label:"连接数"})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),s(Re,{gutter:20,class:"mb-4"},{default:a(()=>[s(se,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(te,{shadow:"hover",class:"inbound-rank"},{header:a(()=>$[12]||($[12]=[h("div",{class:"card-header"},[h("span",null,"入站代理流量排行 (7日)")],-1)])),default:a(()=>[s(j,{data:n.value,style:{width:"100%"}},{default:a(()=>[s(X,{prop:"name",label:"代理名称"}),s(X,{prop:"traffic",label:"流量总计"},{default:a(({row:z})=>[k(G(C(z.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),s(se,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(te,{shadow:"hover",class:"outbound-rank"},{header:a(()=>$[13]||($[13]=[h("div",{class:"card-header"},[h("span",null,"出站代理流量排行 (7日)")],-1)])),default:a(()=>[s(j,{data:o.value,style:{width:"100%"}},{default:a(()=>[s(X,{prop:"name",label:"代理名称"}),s(X,{prop:"traffic",label:"流量总计"},{default:a(({row:z})=>[k(G(C(z.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),s(se,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-4"},{default:a(()=>[s(te,{shadow:"hover",class:"user-rank"},{header:a(()=>$[14]||($[14]=[h("div",{class:"card-header"},[h("span",null,"用户流量排行 (7日)")],-1)])),default:a(()=>[s(j,{data:r.value,style:{width:"100%"}},{default:a(()=>[s(X,{prop:"name",label:"用户名"}),s(X,{prop:"upload",label:"上传"},{default:a(({row:z})=>[k(G(C(z.upload)),1)]),_:1}),s(X,{prop:"download",label:"下载"},{default:a(({row:z})=>[k(G(C(z.download)),1)]),_:1}),s(X,{prop:"traffic",label:"流量总计"},{default:a(({row:z})=>[k(G(C(z.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),s(Re,{gutter:20,class:"mb-4"},{default:a(()=>[s(se,{xs:24,sm:24,md:24,lg:24,xl:24},{default:a(()=>[de((F(),W(te,{shadow:"hover",class:"active-links"},{header:a(()=>[h("div",Zr,[$[15]||($[15]=h("span",null,"活跃连接",-1)),s(Ue,{type:"primary",link:"",onClick:m},{default:a(()=>[s(xe,null,{default:a(()=>[s(M(mn))]),_:1})]),_:1})])]),default:a(()=>[s(j,{data:p.value,style:{width:"100%"}},{default:a(()=>[s(X,{prop:"userId",label:"用户ID",width:"120"}),s(X,{prop:"inboundId",label:"入站代理",width:"150"}),s(X,{prop:"outboundId",label:"出站代理",width:"150"}),s(X,{prop:"targetAddr",label:"目标地址","show-overflow-tooltip":""})]),_:1},8,["data"]),h("div",Qr,[s(me,{"current-page":y.value,"onUpdate:currentPage":$[1]||($[1]=z=>y.value=z),"page-size":w.value,"onUpdate:pageSize":$[2]||($[2]=z=>w.value=z),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",total:A.value,onSizeChange:v,onCurrentChange:q},null,8,["current-page","page-size","total"])])]),_:1})),[[ee,b.activeLinks]])]),_:1})]),_:1})])}}}),ea=qe(Yr,[["__scopeId","data-v-aec0f9d4"]]),ta={class:"system-container"},na={class:"card-header"},oa=Ae({__name:"System",setup(e){const t=x({systemName:"",description:"",version:"",startUpTime:"",trafficRecordDays:30}),n=ue({systemName:"",description:"",trafficRecordDays:30}),o=ue({save:!1,info:!1}),r=async()=>{o.info=!0;try{const b=await Be.getSystemInfo();t.value=b,n.systemName=b.systemName,n.description=b.description,n.trafficRecordDays=b.trafficRecordDays}catch(b){console.error("获取系统信息失败",b),_.error("获取系统信息失败")}finally{o.info=!1}},u=async()=>{o.save=!0;try{await Be.updateSystemInfo(n),_.success("设置保存成功"),await r()}catch(b){console.error("保存设置失败",b),_.error("保存设置失败")}finally{o.save=!1}},l=async()=>{try{await Be.clearBadgerCache(),_.success("缓存清理成功")}catch(b){console.error("清理缓存失败",b),_.error("清理缓存失败")}};Le(()=>{r()});const d=setInterval(r,6e4);return tt(()=>{clearInterval(d)}),(b,p)=>{const y=P("el-icon"),w=P("el-button"),A=P("el-descriptions-item"),L=P("el-descriptions"),E=P("el-card"),R=P("el-input"),S=P("el-form-item"),O=P("el-input-number"),m=P("el-form"),T=yt("loading");return F(),J("div",ta,[s(E,{class:"box-card mb-4"},{header:a(()=>[h("div",na,[p[3]||(p[3]=h("span",null,"系统信息",-1)),s(w,{type:"primary",link:"",onClick:r},{default:a(()=>[s(y,null,{default:a(()=>[s(M(mn))]),_:1})]),_:1})])]),default:a(()=>[de((F(),W(L,{column:3,border:""},{default:a(()=>[s(A,{label:"启动时间"},{default:a(()=>[k(G(t.value.startUpTime),1)]),_:1}),s(A,{label:"版本"},{default:a(()=>[k(G(t.value.version),1)]),_:1})]),_:1})),[[T,o.info]])]),_:1}),s(E,{class:"box-card"},{header:a(()=>p[4]||(p[4]=[h("div",{class:"card-header"},[h("span",null,"基本设置")],-1)])),default:a(()=>[s(m,{model:n,"label-width":"120px"},{default:a(()=>[s(S,{label:"系统名称"},{default:a(()=>[s(R,{modelValue:n.systemName,"onUpdate:modelValue":p[0]||(p[0]=C=>n.systemName=C)},null,8,["modelValue"])]),_:1}),s(S,{label:"系统公告"},{default:a(()=>[s(R,{modelValue:n.description,"onUpdate:modelValue":p[1]||(p[1]=C=>n.description=C),type:"textarea",rows:7},null,8,["modelValue"])]),_:1}),s(S,{label:"流量记录保留"},{default:a(()=>[s(O,{modelValue:n.trafficRecordDays,"onUpdate:modelValue":p[2]||(p[2]=C=>n.trafficRecordDays=C),min:1,max:90},null,8,["modelValue"]),p[5]||(p[5]=h("span",{class:"form-help"},"天",-1))]),_:1}),s(S,null,{default:a(()=>[s(w,{type:"primary",onClick:u,loading:o.save},{default:a(()=>p[6]||(p[6]=[k(" 保存设置 ")])),_:1},8,["loading"]),s(w,{type:"danger",onClick:l},{default:a(()=>p[7]||(p[7]=[k(" 清理HTTP缓存 ")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),sa=qe(oa,[["__scopeId","data-v-9b30a570"]]),ra={class:"user-proxies-container"},aa={class:"card-header"},la={class:"traffic-stats"},ia={class:"traffic-item"},ua={class:"traffic-value"},da={class:"traffic-item"},ca={class:"traffic-value"},fa={class:"traffic-item"},pa={class:"traffic-value"},ma={class:"traffic-item"},ya={class:"traffic-value"},ga={class:"system-description"},ba={class:"card-header"},ha={key:0},wa={key:0,class:"qrcode-container"},va={key:1},_a=Ae({__name:"UserProxies",setup(e){const t=x([]),n=x(!0),o=x(""),r=x(!1),u=x(""),l=x({upload:0,download:0,total:0,used:0,remaining:0,limit:0,links:0}),d=x(!0),b=x({systemName:"",description:"",version:"",startUpTime:"",trafficRecordDays:30}),p=x(!0);let y=null;const w=async()=>{p.value=!0;try{b.value=await Be.getSystemInfo()}catch(C){console.error("获取系统信息失败",C),_.error("获取系统信息失败")}finally{p.value=!1}},A=async()=>{n.value=!0;try{t.value=await he.getUsableInboundProxies()}catch(C){console.error("获取用户代理失败",C),_.error("获取用户代理失败")}finally{n.value=!1}},L=async()=>{try{l.value=await Fe.getMyTrafficStatus()}catch(C){console.error("获取流量状态失败",C),_.error("获取流量状态失败")}finally{d.value=!1}},E=C=>{let v=JSON.parse(C.linkConfig);for(;v.upper!=null;)v=v.upper;return v.url},R=C=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(C)}`,S=async C=>{try{o.value=C.linkConfig||"",r.value=!0}catch(v){_.error("获取连接配置失败"),console.error(v)}},O=async()=>{try{u.value=await Se.updateMyToken(),A(),_.success("刷新凭证成功，旧凭证将失效")}catch{_.error("刷新凭证失败")}},m=()=>{navigator.clipboard.writeText(o.value),_.success("连接配置已复制到剪贴板")},T=C=>{if(C===0)return"0 B";const v=1024,q=["B","KB","MB","GB","TB","PB"],K=Math.floor(Math.log(C)/Math.log(v));return parseFloat((C/Math.pow(v,K)).toFixed(2))+" "+q[K]};return Le(async()=>{await Promise.all([A(),L(),w()]),y=window.setInterval(()=>{L()},5e3)}),tt(()=>{y&&clearInterval(y)}),(C,v)=>{const q=P("el-button"),K=P("el-card"),D=P("el-table-column"),$=P("el-table"),Y=P("el-input"),ae=P("el-image"),te=P("el-empty"),se=P("el-dialog"),X=yt("loading");return F(),J("div",ra,[de((F(),W(K,{class:"traffic-stats-card"},{header:a(()=>[h("div",aa,[v[4]||(v[4]=h("span",null,"7日流量统计",-1)),s(q,{size:"small",type:"primary",onClick:L},{default:a(()=>v[3]||(v[3]=[k("刷新")])),_:1})])]),default:a(()=>[h("div",la,[h("div",ia,[v[5]||(v[5]=h("div",{class:"traffic-label"},"上传流量",-1)),h("div",ua,G(T(l.value.upload)),1)]),h("div",da,[v[6]||(v[6]=h("div",{class:"traffic-label"},"下载流量",-1)),h("div",ca,G(T(l.value.download)),1)]),h("div",fa,[v[7]||(v[7]=h("div",{class:"traffic-label"},"总流量",-1)),h("div",pa,G(T(l.value.total)),1)]),h("div",ma,[v[8]||(v[8]=h("div",{class:"traffic-label"},"当前连接数",-1)),h("div",ya,G(l.value.links||0),1)])])]),_:1})),[[X,d.value]]),de((F(),W(K,{class:"system-info-card"},{header:a(()=>v[9]||(v[9]=[h("div",{class:"card-header"},[h("span",null,"系统公告")],-1)])),default:a(()=>[h("div",ga,G(b.value.description),1)]),_:1})),[[X,p.value]]),de((F(),W(K,{class:"user-proxies-card"},{header:a(()=>[h("div",ba,[v[11]||(v[11]=h("span",null,"代理列表",-1)),s(q,{type:"primary",onClick:v[0]||(v[0]=j=>O())},{default:a(()=>v[10]||(v[10]=[k("刷新代理凭证")])),_:1})])]),default:a(()=>[de((F(),W($,{data:t.value,style:{width:"100%"}},{default:a(()=>[s(D,{prop:"id",label:"代理名称",width:"180"}),s(D,{prop:"scheme",label:"代理类型",width:"120"}),s(D,{label:"地址","show-overflow-tooltip":""},{default:a(({row:j})=>[k(G(E(j)),1)]),_:1}),s(D,{label:"操作",width:"120"},{default:a(({row:j})=>[s(q,{type:"success",onClick:Re=>S(j)},{default:a(()=>v[12]||(v[12]=[k("完整配置")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[X,n.value]])]),_:1})),[[X,n.value]]),s(se,{modelValue:r.value,"onUpdate:modelValue":v[2]||(v[2]=j=>r.value=j),title:"连接配置",width:"500px"},{default:a(()=>[o.value?(F(),J("div",ha,[s(Y,{readonly:"",rows:10,type:"textarea",modelValue:o.value,"onUpdate:modelValue":v[1]||(v[1]=j=>o.value=j)},null,8,["modelValue"]),s(q,{onClick:m,type:"primary",style:{width:"100%"}},{default:a(()=>v[13]||(v[13]=[k("复制")])),_:1}),o.value?(F(),J("div",wa,[s(ae,{src:R(o.value),fit:"contain",style:{width:"200px",height:"200px"}},null,8,["src"])])):ke("",!0)])):(F(),J("div",va,[s(te,{description:"获取链接失败"})]))]),_:1},8,["modelValue"])])}}}),Ea=qe(_a,[["__scopeId","data-v-ed89e1f2"]]),Sa={class:"card-header"},xa=Ae({__name:"NetworkGraph",props:{inboundProxies:{},outboundProxies:{},userGroups:{},routeSchemes:{}},setup(e){yn([bn,Go,hn,wn,vn]);const t=e,n=x({title:{top:0,left:"center"},tooltip:{trigger:"item",formatter:l=>{if(l.dataType==="node")return`${l.data.name}`;if(l.dataType==="edge")return l.data.info?`${l.data.info}`:`${l.data.source} -> ${l.data.target}`}},legend:{data:[{name:"入站代理",icon:"circle",itemStyle:{color:"#4CAF50"}},{name:"用户组",icon:"circle",itemStyle:{color:"#2196F3"}},{name:"路由方案",icon:"circle",itemStyle:{color:"#FF9800"}},{name:"出站代理",icon:"circle",itemStyle:{color:"#9C27B0"}}]},animationDurationUpdate:150,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",data:[],links:[],categories:[{name:"入站代理",itemStyle:{color:"#4CAF50"}},{name:"用户组",itemStyle:{color:"#2196F3"}},{name:"路由方案",itemStyle:{color:"#FF9800"}},{name:"出站代理",itemStyle:{color:"#9C27B0"}}],label:{show:!0,position:"bottom",formatter:"{b}",backgroundColor:"transparent",borderWidth:0,color:"#333",fontSize:12,distance:10},lineStyle:{color:"#999",width:2,curveness:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]});Tt([()=>t.inboundProxies,()=>t.outboundProxies,()=>t.userGroups,()=>t.routeSchemes],()=>{Ft(()=>{o()})},{deep:!0});const o=()=>{console.log("Generating graph data with:",{inboundProxies:t.inboundProxies,userGroups:t.userGroups,routeSchemes:t.routeSchemes,outboundProxies:t.outboundProxies});const l=[],d=[];let b=parseInt(getComputedStyle(document.querySelector(".chart")).width),y=550*parseInt(getComputedStyle(document.querySelector(".chart")).height)/b,w=Math.max(t.inboundProxies.length,t.outboundProxies.length,t.userGroups.length,t.routeSchemes.length),A=y/(w-1);console.log("max_node_count:",w);const L=m=>{if(m<=1)return[y/2];const T=[];let C=A*(m-1),v=y/2-C/2;for(let q=0;q<m;q++)T.push(v+A*q);return T},E=L(t.inboundProxies.length);t.inboundProxies.forEach((m,T)=>{l.push({id:`inbound-${m.id}`,name:m.id,symbolSize:40,category:0,value:m.enabled?1:0,itemStyle:{color:m.enabled?"#4CAF50":"#BDBDBD"},x:100,y:E[T],fixed:!0})});const R=L(t.userGroups.length);t.userGroups.forEach((m,T)=>{const C=`group-${m.id}`;l.push({id:C,name:m.id,symbolSize:40,category:1,itemStyle:{color:"#2196F3"},x:300,y:R[T],fixed:!0}),m.inboundProxyIds.forEach(v=>{d.push({source:`inbound-${v}`,target:C,value:1})})});const S=L(t.routeSchemes.length);t.routeSchemes.forEach((m,T)=>{var v;const C=`scheme-${m.id}`;l.push({id:C,name:m.id,symbolSize:40,category:2,itemStyle:{color:m.enabled?"#FF9800":"#BDBDBD"},x:500,y:S[T],fixed:!0}),(v=m.rules)==null||v.forEach(q=>{q.outbounds.forEach(K=>{d.push({source:C,info:"rule: "+q.priority+" - "+q.name,target:`outbound-${K}`,value:1})})})});const O=L(t.outboundProxies.length);t.outboundProxies.forEach((m,T)=>{l.push({id:`outbound-${m.id}`,name:m.id,symbolSize:40,category:3,value:m.enabled?1:0,itemStyle:{color:"#9C27B0"},x:700,y:O[T],fixed:!0})}),t.userGroups.forEach(m=>{const T=`scheme-${m.routeSchemeId}`;d.push({source:`group-${m.id}`,target:T,value:1})}),console.log("Generated nodes:",l),console.log("Generated links:",d),n.value.series[0].data=l,n.value.series[0].links=d},r=()=>{o()},u=()=>{console.log("Window resized, regenerating graph..."),o()};return Le(()=>{window.addEventListener("resize",u),o()}),tt(()=>{window.removeEventListener("resize",u)}),(l,d)=>{const b=P("el-button"),p=P("el-card");return F(),W(p,{shadow:"never",class:"network-graph"},{header:a(()=>[h("div",Sa,[d[1]||(d[1]=h("span",null,"路由拓扑图",-1)),s(b,{type:"primary",onClick:r},{default:a(()=>d[0]||(d[0]=[k("刷新")])),_:1})])]),default:a(()=>[s(M(gn),{class:"chart",option:n.value,autoresize:""},null,8,["option"])]),_:1})}}}),ka=qe(xa,[["__scopeId","data-v-ec3d4b10"]]),Ra={class:"integrated-management"},Ca={key:0},Pa={key:1,class:"network-graph-container"},Ta={class:"main-tabs-container"},Fa={key:0},Aa={key:0},Ua={key:0},Oa={key:1},Da={class:"dialog-footer"},Ia={key:1},$a={class:"dialog-footer"},Va={class:"dialog-footer"},Ba={class:"dialog-footer"},Na={class:"rules-header"},La={class:"dialog-footer"},qa={key:0},za={key:0,class:"qrcode-container"},ja={key:1},Ma={class:"dialog-footer"},Ga=Ae({__name:"IntegratedManagement",setup(e){const t=x("inbound"),n=x("users"),o=ue({users:!0,inbound:!0,outbound:!0,groups:!0,routes:!0}),r=x([]),u=x([]),l=x([]),d=x([]),b=x([]),p=x(null),y=x(!1),w=x("add"),A=x(),L=x(null),E=x(!1),R=x("add"),S=x(),O=x(null),m=x("json"),T=x(!1),C=x("add"),v=x(),q=x(null),K=x(!1),D=x("add"),$=x(),Y=x(null),ae=x(!1),te=x(!1),se=x("add"),X=x(),j=x(null),Re=x(!1),xe=x(""),Ue=x(!1),me=ue({id:"",description:""}),ee=ue({id:"",email:"",userGroupId:"",password:"",enabled:!0}),z=ue({id:"",config:""}),fe=ue({id:"",inboundProxyIds:[],routeSchemeId:""}),ve=ue({id:"",description:"",enabled:!0}),ne=ue({name:"",type:"domain",pattern:"",priority:0,outbounds:[],enabled:!0}),Hn={id:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],userGroupId:[{required:!0,message:"请选择用户组",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],enabled:[{required:!0,message:"请选择状态",trigger:"change"}]},Jn={id:[{required:!0,message:"请输入代理名称",trigger:"blur"}],config:[{required:!0,message:"请输入配置",trigger:"blur"}]},Kn={id:[{required:!0,message:"请输入用户组名称",trigger:"blur"}],inboundProxyIds:[{required:!0,message:"请选择入站代理",trigger:"change"}],routeSchemeId:[{required:!0,message:"请选择路由方案",trigger:"change"}]},zt={id:[{required:!0,message:"请输入方案名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]},Wn={name:[{required:!0,message:"请输入规则名称",trigger:"blur"}],type:[{required:!0,message:"请选择目的类型",trigger:"change"}],pattern:[{required:!0,message:"请输入匹配模式",trigger:"blur"}],outbounds:[{required:!0,message:"请选择出站代理",trigger:"change"}]};Le(async()=>{await Promise.all([We(),Xe(),rt(),at(),Ce()])});const We=async()=>{try{r.value=await Se.getUsers()}catch(g){_.error("获取用户列表失败"),console.error(g)}finally{o.users=!1}},Xe=async()=>{try{u.value=await he.getInboundProxies()}catch(g){_.error("获取入站代理列表失败"),console.error(g)}finally{o.inbound=!1}},rt=async()=>{try{l.value=await he.getOutboundProxies()}catch(g){_.error("获取出站代理列表失败"),console.error(g)}finally{o.outbound=!1}},at=async()=>{try{d.value=await ut.getUserGroups()}catch(g){_.error("获取用户组列表失败"),console.error(g)}finally{o.groups=!1}},Ce=async()=>{try{b.value=await pe.getRouteSchemes()}catch(g){_.error("获取路由方案列表失败"),console.error(g)}finally{o.routes=!1}},Xn=()=>{w.value="add",Object.assign(ee,{id:"",email:"",userGroupId:"",password:"",enabled:!0}),y.value=!0},Zn=g=>{w.value="edit",L.value=g,Object.assign(ee,{id:g.id,email:g.email,userGroupId:g.userGroupId,enabled:g.enabled}),y.value=!0},Qn=async g=>{try{g.enabled=!g.enabled,await Se.updateUser(g.id,g)?(_.success("状态更新成功"),await We()):_.error("状态更新失败")}catch(i){_.error("状态更新失败"),console.error(i)}},Yn=async g=>{try{await Ge.confirm("确定要重置该用户的密码吗？","提示",{type:"warning"}),await Se.resetPassword(g.id)?_.success("密码重置为用户名"):_.error("密码重置失败")}catch{}},eo=async g=>{try{await Ge.confirm("确定要删除该用户吗？","提示",{type:"warning"}),await Se.deleteUser(g.id)?(_.success("删除成功"),await We()):_.error("删除失败")}catch{}},to=async()=>{A.value&&await A.value.validate(async g=>{if(g)try{w.value==="add"?await Se.createUser(ee)?(_.success("添加成功"),y.value=!1,await We()):_.error("添加失败"):await Se.updateUser(ee.id,ee)?(_.success("更新成功"),y.value=!1,await We()):_.error("更新失败")}catch(i){_.error(w.value==="add"?"添加失败":"更新失败"),console.error(i)}})},jt=g=>{R.value="add",Object.assign(z,{id:"",config:""}),E.value=!0},Mt=(g,i)=>{R.value="edit",O.value=g,Object.assign(z,{id:g.id,config:typeof g.config=="string"?g.config:JSON.stringify(g.config,null,2)}),E.value=!0},no=async(g,i)=>{try{let V;i==="inbound"&&(V=await he.updateInboundProxy(g.id,g)),V?(_.success("状态更新成功"),i==="inbound"&&await Xe()):(g.enabled=!g.enabled,_.error("状态更新失败"))}catch(V){g.enabled=!g.enabled,_.error("状态更新失败"),console.error(V)}},Gt=async(g,i)=>{try{await Ge.confirm("确定要删除该代理吗？","提示",{type:"warning"});let V;i==="inbound"?V=await he.deleteInboundProxy(g.id):V=await he.deleteOutboundProxy(g.id),V?(_.success("删除成功"),i==="inbound"?await Xe():await rt()):_.error("删除失败")}catch{}},oo=async g=>{try{g.testing=!0;const i=await he.testOutboundProxySpeed(g.id);g.latency=i.latency,_.success(`延迟测试完成：${i.latency}`)}catch(i){_.error("延迟测试失败"),console.error(i)}finally{g.testing=!1}},so=async g=>{try{xe.value=g.linkConfig||"",Re.value=!0}catch(i){_.error("获取连接配置失败"),console.error(i)}},ro=()=>{navigator.clipboard.writeText(xe.value),_.success("连接配置已复制到剪贴板")},ao=g=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(g)}`,lo=async()=>{S.value&&await S.value.validate(async g=>{var i,V;try{JSON.parse(z.config)}catch(U){_.error("配置格式错误"),console.error(U);return}if(g)try{let U=z.config;if(R.value==="add"){let Z;t.value==="inbound"?Z=await he.createInboundProxy({id:z.id,enabled:!0,config:U}):Z=await he.createOutboundProxy({id:z.id,enabled:!0,config:U}),Z?(_.success("添加成功"),E.value=!1,await Promise.all([Xe(),rt()])):_.error("添加失败")}else{let Z;t.value==="inbound"?Z=await he.updateInboundProxy(z.id,{enabled:(i=O.value)==null?void 0:i.enabled,config:U}):Z=await he.updateOutboundProxy(z.id,{enabled:(V=O.value)==null?void 0:V.enabled,config:U}),Z?(_.success("更新成功"),E.value=!1,await Promise.all([Xe(),rt()])):_.error("更新失败")}}catch(U){_.error("更新配置失败"),console.error(U)}})},io=()=>{C.value="add",Object.assign(fe,{id:"",inboundProxyIds:[],routeSchemeId:""}),T.value=!0},uo=g=>{C.value="edit",q.value=g,Object.assign(fe,{id:g.id,inboundProxyIds:g.inboundProxyIds,routeSchemeId:g.routeSchemeId}),T.value=!0},co=async g=>{try{await Ge.confirm("确定要删除该用户组吗？","提示",{type:"warning"}),await ut.deleteUserGroup(g.id)?(_.success("删除成功"),await at()):_.error("删除失败")}catch{}},fo=async()=>{v.value&&await v.value.validate(async g=>{if(g)try{C.value==="add"?await ut.createUserGroup(fe)?(_.success("添加成功"),T.value=!1,await at()):_.error("添加失败"):await ut.updateUserGroup(fe.id,fe)?(_.success("更新成功"),T.value=!1,await at()):_.error("更新失败")}catch(i){_.error(C.value==="add"?"添加失败":"更新失败"),console.error(i)}})},po=()=>{D.value="add",Object.assign(ve,{id:"",description:"",enabled:!0}),K.value=!0},mo=g=>{D.value="edit",Y.value=g,Object.assign(ve,{id:g.id,description:g.description,enabled:g.enabled}),K.value=!0},yo=g=>{Y.value=g,me.id=`${g.id} 副本`,me.description=`${g.description||""} (复制于 ${g.id})`,Ue.value=!0},go=async()=>{if(Y.value)try{const g=await pe.createRouteScheme({id:me.id,description:me.description,enabled:!1}),i=await pe.getRules(Y.value.id);if(i&&i.length>0)for(const V of i)await pe.addRule(g.id,{name:V.name,type:V.type,pattern:V.pattern,priority:V.priority||0,outbounds:V.outbounds,enabled:V.enabled||!0});_.success("复制方案成功"),Ue.value=!1,await Ce()}catch(g){console.error("复制方案失败",g),_.error("复制方案失败")}},bo=async g=>{try{await Ge.confirm("确定要删除该路由方案吗？","提示",{type:"warning"}),await pe.deleteRouteScheme(g.id),_.success("删除成功"),await Ce()}catch(i){console.error("删除路由方案失败",i),_.error("删除路由方案失败")}},ho=async g=>{try{await pe.updateRouteScheme(g.id,{enabled:g.enabled}),_.success("更新成功"),await Ce()}catch(i){g.enabled=!g.enabled,console.error("更新路由方案状态失败",i),_.error("更新路由方案状态失败")}},wo=async()=>{$.value&&await $.value.validate(async g=>{if(g)try{D.value==="add"?(await pe.createRouteScheme(ve),_.success("添加成功")):(await pe.updateRouteScheme(ve.id,ve),_.success("更新成功")),K.value=!1,await Ce()}catch(i){console.error("保存路由方案失败",i),_.error("保存路由方案失败")}})},vo=g=>{p.value=g,ae.value=!0},_o=()=>{se.value="add",Object.assign(ne,{name:"",type:"domain",pattern:"",priority:0,outbounds:[],enabled:!0}),te.value=!0},Eo=g=>{se.value="edit",j.value=g,Object.assign(ne,{name:g.name,type:g.type,pattern:g.pattern,priority:g.priority,outbounds:g.outbounds,enabled:g.enabled}),te.value=!0},So=async g=>{try{if(await Ge.confirm("确定要删除该规则吗？","提示",{type:"warning"}),!p.value)return;await pe.deleteRule(p.value.id,g.id),_.success("删除成功"),await Ce(),p.value=b.value.find(i=>{var V;return i.id===((V=p.value)==null?void 0:V.id)})||null}catch(i){console.error("删除规则失败",i),_.error("删除规则失败")}},Ht=async(g,i)=>{if(!p.value)return;const V=p.value.rules,U=V.findIndex(Z=>Z.id===g.id);i==="up"&&U>0?[V[U],V[U-1]]=[V[U-1],V[U]]:i==="down"&&U<V.length-1&&([V[U],V[U+1]]=[V[U+1],V[U]]);try{const Z=V.map(ye=>ye.id);await pe.updateRuleOrder(p.value.id,Z),_.success("规则顺序更新成功"),await Ce(),p.value=b.value.find(ye=>{var B;return ye.id===((B=p.value)==null?void 0:B.id)})||null}catch(Z){console.error("更新规则顺序失败",Z),_.error("更新规则顺序失败")}},xo=async()=>{!X.value||!p.value||await X.value.validate(async g=>{if(g)try{se.value==="add"?(await pe.addRule(p.value.id,ne),_.success("添加成功")):j.value&&(await pe.updateRule(p.value.id,j.value.id,{id:j.value.id,name:ne.name,type:ne.type,pattern:ne.pattern,priority:ne.priority,outbounds:ne.outbounds,enabled:ne.enabled}),_.success("更新成功")),te.value=!1,await Ce(),p.value=b.value.find(i=>{var V;return i.id===((V=p.value)==null?void 0:V.id)})||null}catch(i){console.error("保存规则失败",i),_.error("保存规则失败")}})},Jt=g=>d.value.filter(i=>i.routeSchemeId===g),ko=g=>({domain:"success",ip:"warning",geosite:"info",any:"danger"})[g]||"info",Ro=g=>({domain:"域名",ip:"IP",geosite:"Geosite",any:"任何"})[g]||g,Co=g=>{const i=g.target,V=i.selectionStart,U=i.selectionEnd;z.config=z.config.substring(0,V)+"    "+z.config.substring(U),Ft(()=>{i.selectionStart=i.selectionEnd=V+4})},Po=g=>{const i=g.target,V=i.selectionStart;i.selectionEnd;const Z=z.config.substring(0,V).split(`
`),ye=V-Z[Z.length-1].length;z.config.substring(ye,V).match(/^    /)&&(z.config=z.config.substring(0,ye)+z.config.substring(V),Ft(()=>{i.selectionStart=i.selectionEnd=ye}))};return(g,i)=>{var Kt;const V=P("el-empty"),U=P("el-table-column"),Z=P("el-tag"),ye=P("el-switch"),B=P("el-button"),ze=P("el-button-group"),je=P("el-table"),Oe=P("el-tab-pane"),Et=P("el-tabs"),ie=P("el-input"),oe=P("el-form-item"),Pe=P("el-option"),Ze=P("el-select"),Me=P("el-form"),Te=P("el-dialog"),To=P("el-image"),Qe=yt("loading");return F(),J("div",Ra,[!o.routes&&!o.groups&&!o.inbound&&!o.outbound?(F(),J("div",Ca,[s(ka,{"inbound-proxies":u.value,"outbound-proxies":l.value,"user-groups":d.value,"route-schemes":b.value},null,8,["inbound-proxies","outbound-proxies","user-groups","route-schemes"])])):(F(),J("div",Pa,[s(V,{description:"数据加载中，请稍候..."})])),h("div",Ta,[s(Et,{modelValue:t.value,"onUpdate:modelValue":i[3]||(i[3]=c=>t.value=c),class:"management-tabs"},{default:a(()=>[s(Oe,{label:"入站代理",name:"inbound"},{default:a(()=>[de((F(),W(je,{data:u.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"代理名称"}),s(U,{prop:"scheme",label:"代理类型"}),s(U,{prop:"running",label:"运行状态"},{default:a(({row:c})=>[s(Z,{type:c.running?"success":"danger"},{default:a(()=>[k(G(c.running?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),s(U,{prop:"enabled",label:"启用"},{default:a(({row:c})=>[s(ye,{modelValue:c.enabled,"onUpdate:modelValue":H=>c.enabled=H,onChange:H=>no(c,"inbound")},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),s(U,{label:"操作",width:"300"},{header:a(()=>[s(B,{type:"primary",onClick:i[0]||(i[0]=c=>jt("inbound")),style:{width:"70%"}},{default:a(()=>i[38]||(i[38]=[k(" 添加入站代理 ")])),_:1})]),default:a(({row:c})=>[s(ze,null,{default:a(()=>[s(B,{size:"small",type:"success",onClick:H=>so(c)},{default:a(()=>i[39]||(i[39]=[k(" 获取连接配置 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"primary",onClick:H=>Mt(c,"inbound")},{default:a(()=>i[40]||(i[40]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"danger",onClick:H=>Gt(c,"inbound")},{default:a(()=>i[41]||(i[41]=[k(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Qe,o.inbound]])]),_:1}),s(Oe,{label:"用户管理",name:"user_manage"},{default:a(()=>[s(Et,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=c=>n.value=c)},{default:a(()=>[s(Oe,{label:"用户",name:"users"},{default:a(()=>[de((F(),W(je,{data:r.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"用户名"}),s(U,{prop:"email",label:"邮箱"}),s(U,{prop:"userGroupId",label:"用户组"}),s(U,{prop:"enabled",label:"状态"},{default:a(({row:c})=>[s(Z,{type:c.enabled?"success":"danger"},{default:a(()=>[k(G(c.enabled?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),s(U,{label:"操作",width:"300"},{header:a(()=>[s(B,{type:"primary",onClick:Xn,style:{width:"75%"}},{default:a(()=>i[42]||(i[42]=[k(" 添加用户 ")])),_:1})]),default:a(({row:c})=>[s(ze,null,{default:a(()=>[s(B,{size:"small",type:c.enabled?"danger":"success",onClick:H=>Qn(c)},{default:a(()=>[k(G(c.enabled?"禁用":"启用"),1)]),_:2},1032,["type","onClick"]),s(B,{size:"small",type:"primary",onClick:H=>Zn(c)},{default:a(()=>i[43]||(i[43]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"warning",onClick:H=>Yn(c)},{default:a(()=>i[44]||(i[44]=[k(" 重置密码 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"danger",onClick:H=>eo(c)},{default:a(()=>i[45]||(i[45]=[k(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Qe,o.users]])]),_:1}),s(Oe,{label:"用户组",name:"groups"},{default:a(()=>[de((F(),W(je,{data:d.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"名称"}),s(U,{label:"关联入站代理"},{default:a(({row:c})=>[(F(!0),J(Ee,null,Ie(c.inboundProxyIds,H=>(F(),W(Z,{key:H,class:"mx-1",type:"success",style:{"margin-right":"4px"}},{default:a(()=>[k(G(H),1)]),_:2},1024))),128)),!c.inboundProxyIds||c.inboundProxyIds.length===0?(F(),J("span",Fa,"无")):ke("",!0)]),_:1}),s(U,{label:"路由方案"},{default:a(({row:c})=>[s(Z,{type:"info"},{default:a(()=>[k(G(c.routeSchemeId),1)]),_:2},1024)]),_:1}),s(U,{label:"用户数"},{default:a(({row:c})=>[s(Z,{type:"warning"},{default:a(()=>[k(G(c.userCount||0)+"人",1)]),_:2},1024)]),_:1}),s(U,{label:"操作",width:"200"},{header:a(()=>[s(B,{type:"primary",onClick:io},{default:a(()=>i[46]||(i[46]=[k("添加用户组")])),_:1})]),default:a(({row:c})=>[s(ze,null,{default:a(()=>[s(B,{size:"small",onClick:H=>uo(c)},{default:a(()=>i[47]||(i[47]=[k("编辑")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"danger",onClick:H=>co(c)},{default:a(()=>i[48]||(i[48]=[k("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Qe,o.groups]])]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(Oe,{label:"路由管理",name:"routes"},{default:a(()=>[de((F(),W(je,{data:b.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"方案名称"}),s(U,{prop:"description",label:"描述"}),s(U,{prop:"enabled",label:"状态"},{default:a(({row:c})=>[s(ye,{modelValue:c.enabled,"onUpdate:modelValue":H=>c.enabled=H,onChange:H=>ho(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),s(U,{label:"关联用户组"},{default:a(({row:c})=>[(F(!0),J(Ee,null,Ie(Jt(c.id),H=>(F(),W(Z,{key:H.id,class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[k(G(H.id)+" ("+G(H.userCount||0)+") ",1)]),_:2},1024))),128)),Jt(c.id).length===0?(F(),J("span",Aa,"无")):ke("",!0)]),_:1}),s(U,{label:"操作",width:"300"},{header:a(()=>[s(B,{type:"primary",onClick:po,style:{width:"75%"}},{default:a(()=>i[49]||(i[49]=[k(" 添加路由方案 ")])),_:1})]),default:a(({row:c})=>[s(ze,null,{default:a(()=>[s(B,{size:"small",type:"primary",onClick:H=>vo(c)},{default:a(()=>i[50]||(i[50]=[k(" 查看规则 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"success",onClick:H=>mo(c)},{default:a(()=>i[51]||(i[51]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"info",onClick:H=>yo(c)},{default:a(()=>i[52]||(i[52]=[k(" 复制 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"danger",onClick:H=>bo(c)},{default:a(()=>i[53]||(i[53]=[k(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Qe,o.routes]])]),_:1}),s(Oe,{label:"出站代理",name:"outbound"},{default:a(()=>[de((F(),W(je,{data:l.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"代理名称"}),s(U,{prop:"scheme",label:"代理类型"}),s(U,{label:"延迟"},{default:a(({row:c})=>[c.latency!==void 0?(F(),J("span",Ua,G(c.latency),1)):(F(),J("span",Oa,"-"))]),_:1}),s(U,{label:"操作",width:"250"},{header:a(()=>[s(B,{type:"primary",onClick:i[2]||(i[2]=c=>jt("outbound")),style:{width:"75%"}},{default:a(()=>i[54]||(i[54]=[k(" 添加出站代理 ")])),_:1})]),default:a(({row:c})=>[s(ze,null,{default:a(()=>[s(B,{size:"small",type:"warning",onClick:H=>oo(c),loading:c.testing},{default:a(()=>i[55]||(i[55]=[k(" 测试延迟 ")])),_:2},1032,["onClick","loading"]),s(B,{size:"small",type:"primary",onClick:H=>Mt(c,"outbound")},{default:a(()=>i[56]||(i[56]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"danger",onClick:H=>Gt(c,"outbound")},{default:a(()=>i[57]||(i[57]=[k(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Qe,o.outbound]])]),_:1})]),_:1},8,["modelValue"])]),s(Te,{modelValue:y.value,"onUpdate:modelValue":i[10]||(i[10]=c=>y.value=c),title:w.value==="add"?"添加用户":"编辑用户",width:"500px"},{footer:a(()=>[h("span",Da,[s(B,{onClick:i[9]||(i[9]=c=>y.value=!1)},{default:a(()=>i[58]||(i[58]=[k("取消")])),_:1}),s(B,{type:"primary",onClick:to},{default:a(()=>i[59]||(i[59]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(Me,{ref_key:"userFormRef",ref:A,model:ee,rules:Hn,"label-width":"100px"},{default:a(()=>[s(oe,{label:"用户名",prop:"id"},{default:a(()=>[s(ie,{modelValue:ee.id,"onUpdate:modelValue":i[4]||(i[4]=c=>ee.id=c),disabled:w.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(oe,{label:"邮箱",prop:"email"},{default:a(()=>[s(ie,{modelValue:ee.email,"onUpdate:modelValue":i[5]||(i[5]=c=>ee.email=c)},null,8,["modelValue"])]),_:1}),s(oe,{label:"用户组",prop:"userGroupId"},{default:a(()=>[s(Ze,{modelValue:ee.userGroupId,"onUpdate:modelValue":i[6]||(i[6]=c=>ee.userGroupId=c),placeholder:"请选择用户组"},{default:a(()=>[(F(!0),J(Ee,null,Ie(d.value,c=>(F(),W(Pe,{key:c.id,label:c.id,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),w.value==="add"?(F(),W(oe,{key:0,label:"密码",prop:"password"},{default:a(()=>[s(ie,{modelValue:ee.password,"onUpdate:modelValue":i[7]||(i[7]=c=>ee.password=c),type:"password","show-password":"",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1})):ke("",!0),s(oe,{label:"状态",prop:"enabled"},{default:a(()=>[s(ye,{modelValue:ee.enabled,"onUpdate:modelValue":i[8]||(i[8]=c=>ee.enabled=c),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Te,{modelValue:E.value,"onUpdate:modelValue":i[15]||(i[15]=c=>E.value=c),title:R.value==="add"?"添加代理":"编辑代理",width:"500px"},{footer:a(()=>[h("span",$a,[s(B,{onClick:i[14]||(i[14]=c=>E.value=!1)},{default:a(()=>i[60]||(i[60]=[k("取消")])),_:1}),s(B,{type:"primary",onClick:lo},{default:a(()=>i[61]||(i[61]=[k(" 确定 ")])),_:1})])]),default:a(()=>[R.value==="add"?(F(),W(Et,{key:0,modelValue:m.value,"onUpdate:modelValue":i[11]||(i[11]=c=>m.value=c)},{default:a(()=>[s(Oe,{label:"JSON导入",name:"json"})]),_:1},8,["modelValue"])):ke("",!0),m.value==="json"||R.value==="edit"?(F(),J("div",Ia,[s(Me,{ref_key:"proxyFormRef",ref:S,model:z,rules:Jn},{default:a(()=>[s(oe,{label:"名称",prop:"id"},{default:a(()=>[s(ie,{modelValue:z.id,"onUpdate:modelValue":i[12]||(i[12]=c=>z.id=c),type:"textarea",rows:1,disabled:R.value==="edit",placeholder:"请输入代理名称"},null,8,["modelValue","disabled"])]),_:1}),s(oe,{label:"配置",prop:"config"},{default:a(()=>[s(ie,{modelValue:z.config,"onUpdate:modelValue":i[13]||(i[13]=c=>z.config=c),type:"textarea",rows:10,placeholder:"请输入JSON配置",onKeydown:[Pt(Xt(Co,["prevent"]),["tab"]),Pt(Xt(Po,["shift","prevent"]),["tab"])]},null,8,["modelValue","onKeydown"])]),_:1})]),_:1},8,["model"])])):ke("",!0)]),_:1},8,["modelValue","title"]),s(Te,{modelValue:T.value,"onUpdate:modelValue":i[20]||(i[20]=c=>T.value=c),title:C.value==="add"?"添加用户组":"编辑用户组",width:"500px"},{footer:a(()=>[h("span",Va,[s(B,{onClick:i[19]||(i[19]=c=>T.value=!1)},{default:a(()=>i[62]||(i[62]=[k("取消")])),_:1}),s(B,{type:"primary",onClick:fo},{default:a(()=>i[63]||(i[63]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(Me,{ref_key:"groupFormRef",ref:v,model:fe,rules:Kn,"label-width":"100px"},{default:a(()=>[s(oe,{label:"名称",prop:"id"},{default:a(()=>[s(ie,{modelValue:fe.id,"onUpdate:modelValue":i[16]||(i[16]=c=>fe.id=c),disabled:C.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(oe,{label:"入站代理",prop:"inboundProxyIds"},{default:a(()=>[s(Ze,{modelValue:fe.inboundProxyIds,"onUpdate:modelValue":i[17]||(i[17]=c=>fe.inboundProxyIds=c),multiple:"",placeholder:"请选择入站代理"},{default:a(()=>[(F(!0),J(Ee,null,Ie(u.value,c=>(F(),W(Pe,{key:c.id,label:c.id,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(oe,{label:"路由方案",prop:"routeSchemeId"},{default:a(()=>[s(Ze,{modelValue:fe.routeSchemeId,"onUpdate:modelValue":i[18]||(i[18]=c=>fe.routeSchemeId=c),placeholder:"请选择路由方案"},{default:a(()=>[(F(!0),J(Ee,null,Ie(b.value,c=>(F(),W(Pe,{key:c.id,label:c.id,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Te,{modelValue:K.value,"onUpdate:modelValue":i[24]||(i[24]=c=>K.value=c),title:D.value==="add"?"添加方案":"编辑方案",width:"500px"},{footer:a(()=>[h("span",Ba,[s(B,{onClick:i[23]||(i[23]=c=>K.value=!1)},{default:a(()=>i[64]||(i[64]=[k("取消")])),_:1}),s(B,{type:"primary",onClick:wo},{default:a(()=>i[65]||(i[65]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(Me,{ref_key:"schemeFormRef",ref:$,model:ve,rules:zt,"label-width":"100px"},{default:a(()=>[s(oe,{label:"方案名称",prop:"id"},{default:a(()=>[s(ie,{modelValue:ve.id,"onUpdate:modelValue":i[21]||(i[21]=c=>ve.id=c),disabled:D.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(oe,{label:"描述",prop:"description"},{default:a(()=>[s(ie,{modelValue:ve.description,"onUpdate:modelValue":i[22]||(i[22]=c=>ve.description=c),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Te,{modelValue:ae.value,"onUpdate:modelValue":i[25]||(i[25]=c=>ae.value=c),title:((Kt=p.value)==null?void 0:Kt.id)+" - 路由规则",width:"800px"},{default:a(()=>{var c,H;return[h("div",Na,[s(B,{type:"primary",onClick:_o},{default:a(()=>i[66]||(i[66]=[k("添加规则")])),_:1})]),s(je,{data:((H=(c=p.value)==null?void 0:c.rules)==null?void 0:H.sort((ge,De)=>(ge.priority||0)-(De.priority||0)))||[],style:{width:"100%"}},{default:a(()=>[s(U,{type:"index",label:"序号",width:"80"}),s(U,{prop:"name",label:"规则名称"}),s(U,{prop:"type",label:"目的类型"},{default:a(({row:ge})=>[s(Z,{type:ko(ge.type)},{default:a(()=>[k(G(Ro(ge.type)),1)]),_:2},1032,["type"])]),_:1}),s(U,{prop:"pattern",label:"匹配模式"}),s(U,{prop:"outbounds",label:"出站代理"},{default:a(({row:ge})=>[(F(!0),J(Ee,null,Ie(ge.outbounds,De=>(F(),W(Z,{key:De,class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[k(G(De),1)]),_:2},1024))),128))]),_:1}),s(U,{label:"操作",width:"150"},{default:a(({row:ge,$index:De})=>[s(ze,null,{default:a(()=>{var Wt;return[s(B,{size:"small",type:"primary",onClick:St=>Eo(ge)},{default:a(()=>i[67]||(i[67]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(B,{size:"small",type:"danger",onClick:St=>So(ge)},{default:a(()=>i[68]||(i[68]=[k(" 删除 ")])),_:2},1032,["onClick"]),s(B,{size:"small",disabled:De===0,onClick:St=>Ht(ge,"up")},{default:a(()=>i[69]||(i[69]=[k(" ↑ ")])),_:2},1032,["disabled","onClick"]),s(B,{size:"small",disabled:De===(((Wt=p.value)==null?void 0:Wt.rules.length)||0)-1,onClick:St=>Ht(ge,"down")},{default:a(()=>i[70]||(i[70]=[k(" ↓ ")])),_:2},1032,["disabled","onClick"])]}),_:2},1024)]),_:1})]),_:1},8,["data"])]}),_:1},8,["modelValue","title"]),s(Te,{modelValue:te.value,"onUpdate:modelValue":i[31]||(i[31]=c=>te.value=c),title:se.value==="add"?"添加规则":"编辑规则",width:"500px"},{footer:a(()=>[h("span",La,[s(B,{onClick:i[30]||(i[30]=c=>te.value=!1)},{default:a(()=>i[71]||(i[71]=[k("取消")])),_:1}),s(B,{type:"primary",onClick:xo},{default:a(()=>i[72]||(i[72]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(Me,{ref_key:"ruleFormRef",ref:X,model:ne,rules:Wn,"label-width":"100px"},{default:a(()=>[s(oe,{label:"规则名称",prop:"name"},{default:a(()=>[s(ie,{modelValue:ne.name,"onUpdate:modelValue":i[26]||(i[26]=c=>ne.name=c)},null,8,["modelValue"])]),_:1}),s(oe,{label:"目的类型",prop:"type"},{default:a(()=>[s(Ze,{modelValue:ne.type,"onUpdate:modelValue":i[27]||(i[27]=c=>ne.type=c),placeholder:"请选择目的类型"},{default:a(()=>[s(Pe,{label:"域名",value:"domain"}),s(Pe,{label:"IP",value:"ip"}),s(Pe,{label:"Geosite",value:"geosite"}),s(Pe,{label:"任何",value:"any"})]),_:1},8,["modelValue"])]),_:1}),s(oe,{label:"匹配模式",prop:"pattern"},{default:a(()=>[s(ie,{modelValue:ne.pattern,"onUpdate:modelValue":i[28]||(i[28]=c=>ne.pattern=c)},null,8,["modelValue"])]),_:1}),s(oe,{label:"出站代理",prop:"outbounds"},{default:a(()=>[s(Ze,{modelValue:ne.outbounds,"onUpdate:modelValue":i[29]||(i[29]=c=>ne.outbounds=c),multiple:"",placeholder:"请选择出站代理"},{default:a(()=>[(F(!0),J(Ee,null,Ie(l.value,c=>(F(),W(Pe,{key:c.id,label:c.id,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Te,{modelValue:Re.value,"onUpdate:modelValue":i[33]||(i[33]=c=>Re.value=c),title:"连接配置",width:"500px"},{default:a(()=>[xe.value?(F(),J("div",qa,[s(ie,{readonly:"",rows:10,type:"textarea",modelValue:xe.value,"onUpdate:modelValue":i[32]||(i[32]=c=>xe.value=c)},null,8,["modelValue"]),s(B,{onClick:ro,type:"primary",style:{width:"100%"}},{default:a(()=>i[73]||(i[73]=[k("复制")])),_:1}),xe.value?(F(),J("div",za,[s(To,{src:ao(xe.value),fit:"contain",style:{width:"200px",height:"200px"}},null,8,["src"])])):ke("",!0)])):(F(),J("div",ja,[s(V,{description:"获取链接失败"})]))]),_:1},8,["modelValue"]),s(Te,{modelValue:Ue.value,"onUpdate:modelValue":i[37]||(i[37]=c=>Ue.value=c),title:"复制路由方案",width:"500px"},{footer:a(()=>[h("span",Ma,[s(B,{onClick:i[36]||(i[36]=c=>Ue.value=!1)},{default:a(()=>i[74]||(i[74]=[k("取消")])),_:1}),s(B,{type:"primary",onClick:go},{default:a(()=>i[75]||(i[75]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(Me,{ref:"copySchemeFormRef",model:me,rules:zt,"label-width":"100px"},{default:a(()=>[s(oe,{label:"方案名称",prop:"id"},{default:a(()=>[s(ie,{modelValue:me.id,"onUpdate:modelValue":i[34]||(i[34]=c=>me.id=c)},null,8,["modelValue"])]),_:1}),s(oe,{label:"描述",prop:"description"},{default:a(()=>[s(ie,{modelValue:me.description,"onUpdate:modelValue":i[35]||(i[35]=c=>me.description=c),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Ha=qe(Ga,[["__scopeId","data-v-536c7130"]]),Ja=[{path:"/login",name:"Login",component:Lr,meta:{requiresAuth:!1}},{path:"/",component:Ir,meta:{requiresAuth:!0},children:[{path:"",name:"Dashboard",component:ea,meta:{adminOnly:!0}},{path:"system",name:"System",component:sa,meta:{adminOnly:!0}},{path:"my-proxies",name:"UserProxies",component:Ea,meta:{adminOnly:!1}},{path:"/integrated",name:"IntegratedManagement",component:Ha,meta:{adminOnly:!0}}]}],Gn=Do({history:Io(),routes:Ja});Gn.beforeEach(async(e,t,n)=>{const o=localStorage.getItem("userGroupId");console.log("userGroupId",o),console.log("to.meta.requiresAuth",e.path),e.matched.length<1&&n("/login"),e.meta.requiresAuth?o==null?n("/login"):e.meta.adminOnly?o=="管理员"?n():n("/my-proxies"):n():e.path=="/login"&&o!=null?n("/"):n()});/*! Element Plus v2.9.6 */var Ka={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const st=$o(Ho);for(const[e,t]of Object.entries(qo))st.component(e,t);st.use(Vo());st.use(Gn);st.use(zo,{locale:Ka});const Wa=async()=>{try{const e=await Be.getSystemName();document.title=e.systemName||"ZIP管理面板"}catch(e){console.error("获取系统名称失败",e),document.title="ZIP管理面板"}};Wa();st.mount("#app");
//# sourceMappingURL=index-BQenkUv_.js.map
