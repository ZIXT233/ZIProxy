import{d as Pe,G as J,ag as T,o as F,aw as Tn,r as P,X as ae,m as Ve,S as et,c as G,P as s,H as a,O as _e,a as w,J as xe,D as ye,I as fe,u as M,M as q,ax as Fn,Q as An,L as C,ay as po,a4 as Pt,b as On,p as Tt,aq as yt,n as Ft,a6 as Oe,V as Xt,az as Un,aA as Dn,at as In,aB as $n}from"./vue-core-grCPbCnX.js";import{m as Vn,c as xt,d as Zt,s as lt,u as At,a as Bn,b as Qt,E as x,l as Nn,r as Ln,e as je,f as qn,i as jn}from"./element-plus-BgKziJp-.js";import{u as mo,E as yo,i as go,a as Mn,b as bo,c as ho,d as wo,e as zn,f as Gn}from"./echarts-ECTwgUBz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(r){if(r.ep)return;r.ep=!0;const u=o(r);fetch(r.href,u)}})();const Hn=Pe({__name:"App",setup(e){return(t,o)=>{const n=T("router-view");return F(),J(n)}}});function vo(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jn}=Object.prototype,{getPrototypeOf:Bt}=Object,gt=(e=>t=>{const o=Jn.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),be=e=>(e=e.toLowerCase(),t=>gt(t)===e),bt=e=>t=>typeof t===e,{isArray:Ge}=Array,Ye=bt("undefined");function Kn(e){return e!==null&&!Ye(e)&&e.constructor!==null&&!Ye(e.constructor)&&le(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _o=be("ArrayBuffer");function Wn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_o(e.buffer),t}const Xn=bt("string"),le=bt("function"),Eo=bt("number"),ht=e=>e!==null&&typeof e=="object",Zn=e=>e===!0||e===!1,dt=e=>{if(gt(e)!=="object")return!1;const t=Bt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qn=be("Date"),Yn=be("File"),es=be("Blob"),ts=be("FileList"),os=e=>ht(e)&&le(e.pipe),ns=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||le(e.append)&&((t=gt(e))==="formdata"||t==="object"&&le(e.toString)&&e.toString()==="[object FormData]"))},ss=be("URLSearchParams"),[rs,as,ls,is]=["ReadableStream","Request","Response","Headers"].map(be),us=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tt(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),Ge(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const u=o?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let d;for(n=0;n<l;n++)d=u[n],t.call(null,e[d],d,e)}}function So(e,t){t=t.toLowerCase();const o=Object.keys(e);let n=o.length,r;for(;n-- >0;)if(r=o[n],t===r.toLowerCase())return r;return null}const De=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xo=e=>!Ye(e)&&e!==De;function Ot(){const{caseless:e}=xo(this)&&this||{},t={},o=(n,r)=>{const u=e&&So(t,r)||r;dt(t[u])&&dt(n)?t[u]=Ot(t[u],n):dt(n)?t[u]=Ot({},n):Ge(n)?t[u]=n.slice():t[u]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&tt(arguments[n],o);return t}const ds=(e,t,o,{allOwnKeys:n}={})=>(tt(t,(r,u)=>{o&&le(r)?e[u]=vo(r,o):e[u]=r},{allOwnKeys:n}),e),cs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fs=(e,t,o,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},ps=(e,t,o,n)=>{let r,u,l;const d={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),u=r.length;u-- >0;)l=r[u],(!n||n(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=o!==!1&&Bt(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},ms=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const n=e.indexOf(t,o);return n!==-1&&n===o},ys=e=>{if(!e)return null;if(Ge(e))return e;let t=e.length;if(!Eo(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},gs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Bt(Uint8Array)),bs=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const u=r.value;t.call(e,u[0],u[1])}},hs=(e,t)=>{let o;const n=[];for(;(o=e.exec(t))!==null;)n.push(o);return n},ws=be("HTMLFormElement"),vs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,n,r){return n.toUpperCase()+r}),Yt=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),_s=be("RegExp"),ko=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),n={};tt(o,(r,u)=>{let l;(l=t(r,u,e))!==!1&&(n[u]=l||r)}),Object.defineProperties(e,n)},Es=e=>{ko(e,(t,o)=>{if(le(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const n=e[o];if(le(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Ss=(e,t)=>{const o={},n=r=>{r.forEach(u=>{o[u]=!0})};return Ge(e)?n(e):n(String(e).split(t)),o},xs=()=>{},ks=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rs(e){return!!(e&&le(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Cs=e=>{const t=new Array(10),o=(n,r)=>{if(ht(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const u=Ge(n)?[]:{};return tt(n,(l,d)=>{const b=o(l,r+1);!Ye(b)&&(u[d]=b)}),t[r]=void 0,u}}return n};return o(e,0)},Ps=be("AsyncFunction"),Ts=e=>e&&(ht(e)||le(e))&&le(e.then)&&le(e.catch),Ro=((e,t)=>e?setImmediate:t?((o,n)=>(De.addEventListener("message",({source:r,data:u})=>{r===De&&u===o&&n.length&&n.shift()()},!1),r=>{n.push(r),De.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",le(De.postMessage)),Fs=typeof queueMicrotask<"u"?queueMicrotask.bind(De):typeof process<"u"&&process.nextTick||Ro,f={isArray:Ge,isArrayBuffer:_o,isBuffer:Kn,isFormData:ns,isArrayBufferView:Wn,isString:Xn,isNumber:Eo,isBoolean:Zn,isObject:ht,isPlainObject:dt,isReadableStream:rs,isRequest:as,isResponse:ls,isHeaders:is,isUndefined:Ye,isDate:Qn,isFile:Yn,isBlob:es,isRegExp:_s,isFunction:le,isStream:os,isURLSearchParams:ss,isTypedArray:gs,isFileList:ts,forEach:tt,merge:Ot,extend:ds,trim:us,stripBOM:cs,inherits:fs,toFlatObject:ps,kindOf:gt,kindOfTest:be,endsWith:ms,toArray:ys,forEachEntry:bs,matchAll:hs,isHTMLForm:ws,hasOwnProperty:Yt,hasOwnProp:Yt,reduceDescriptors:ko,freezeMethods:Es,toObjectSet:Ss,toCamelCase:vs,noop:xs,toFiniteNumber:ks,findKey:So,global:De,isContextDefined:xo,isSpecCompliantForm:Rs,toJSONObject:Cs,isAsyncFn:Ps,isThenable:Ts,setImmediate:Ro,asap:Fs};function N(e,t,o,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}f.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const Co=N.prototype,Po={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Po[e]={value:e}});Object.defineProperties(N,Po);Object.defineProperty(Co,"isAxiosError",{value:!0});N.from=(e,t,o,n,r,u)=>{const l=Object.create(Co);return f.toFlatObject(e,l,function(b){return b!==Error.prototype},d=>d!=="isAxiosError"),N.call(l,e.message,t,o,n,r),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const As=null;function Ut(e){return f.isPlainObject(e)||f.isArray(e)}function To(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function eo(e,t,o){return e?e.concat(t).map(function(r,u){return r=To(r),!o&&u?"["+r+"]":r}).join(o?".":""):t}function Os(e){return f.isArray(e)&&!e.some(Ut)}const Us=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function wt(e,t,o){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,o=f.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,R){return!f.isUndefined(R[k])});const n=o.metaTokens,r=o.visitor||p,u=o.dots,l=o.indexes,b=(o.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(r))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(f.isDate(S))return S.toISOString();if(!b&&f.isBlob(S))throw new N("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(S)||f.isTypedArray(S)?b&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,k,R){let D=S;if(S&&!R&&typeof S=="object"){if(f.endsWith(k,"{}"))k=n?k:k.slice(0,-2),S=JSON.stringify(S);else if(f.isArray(S)&&Os(S)||(f.isFileList(S)||f.endsWith(k,"[]"))&&(D=f.toArray(S)))return k=To(k),D.forEach(function(_,E){!(f.isUndefined(_)||_===null)&&t.append(l===!0?eo([k],E,u):l===null?k:k+"[]",m(_))}),!1}return Ut(S)?!0:(t.append(eo(R,k,u),m(S)),!1)}const v=[],O=Object.assign(Us,{defaultVisitor:p,convertValue:m,isVisitable:Ut});function V(S,k){if(!f.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(S),f.forEach(S,function(D,y){(!(f.isUndefined(D)||D===null)&&r.call(t,D,f.isString(y)?y.trim():y,k,O))===!0&&V(D,k?k.concat(y):[y])}),v.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return V(e),t}function to(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Nt(e,t){this._pairs=[],e&&wt(e,this,t)}const Fo=Nt.prototype;Fo.append=function(t,o){this._pairs.push([t,o])};Fo.toString=function(t){const o=t?function(n){return t.call(this,n,to)}:to;return this._pairs.map(function(r){return o(r[0])+"="+o(r[1])},"").join("&")};function Ds(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ao(e,t,o){if(!t)return e;const n=o&&o.encode||Ds;f.isFunction(o)&&(o={serialize:o});const r=o&&o.serialize;let u;if(r?u=r(t,o):u=f.isURLSearchParams(t)?t.toString():new Nt(t,o).toString(n),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class oo{constructor(){this.handlers=[]}use(t,o,n){return this.handlers.push({fulfilled:t,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Oo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Is=typeof URLSearchParams<"u"?URLSearchParams:Nt,$s=typeof FormData<"u"?FormData:null,Vs=typeof Blob<"u"?Blob:null,Bs={isBrowser:!0,classes:{URLSearchParams:Is,FormData:$s,Blob:Vs},protocols:["http","https","file","blob","url","data"]},Lt=typeof window<"u"&&typeof document<"u",Dt=typeof navigator=="object"&&navigator||void 0,Ns=Lt&&(!Dt||["ReactNative","NativeScript","NS"].indexOf(Dt.product)<0),Ls=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qs=Lt&&window.location.href||"http://localhost",js=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lt,hasStandardBrowserEnv:Ns,hasStandardBrowserWebWorkerEnv:Ls,navigator:Dt,origin:qs},Symbol.toStringTag,{value:"Module"})),oe={...js,...Bs};function Ms(e,t){return wt(e,new oe.classes.URLSearchParams,Object.assign({visitor:function(o,n,r,u){return oe.isNode&&f.isBuffer(o)?(this.append(n,o.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function zs(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gs(e){const t={},o=Object.keys(e);let n;const r=o.length;let u;for(n=0;n<r;n++)u=o[n],t[u]=e[u];return t}function Uo(e){function t(o,n,r,u){let l=o[u++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),b=u>=o.length;return l=!l&&f.isArray(r)?r.length:l,b?(f.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!d):((!r[l]||!f.isObject(r[l]))&&(r[l]=[]),t(o,n,r[l],u)&&f.isArray(r[l])&&(r[l]=Gs(r[l])),!d)}if(f.isFormData(e)&&f.isFunction(e.entries)){const o={};return f.forEachEntry(e,(n,r)=>{t(zs(n),r,o,0)}),o}return null}function Hs(e,t,o){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(o||JSON.stringify)(e)}const ot={transitional:Oo,adapter:["xhr","http","fetch"],transformRequest:[function(t,o){const n=o.getContentType()||"",r=n.indexOf("application/json")>-1,u=f.isObject(t);if(u&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return r?JSON.stringify(Uo(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t)||f.isReadableStream(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ms(t,this.formSerializer).toString();if((d=f.isFileList(t))||n.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return wt(d?{"files[]":t}:t,b&&new b,this.formSerializer)}}return u||r?(o.setContentType("application/json",!1),Hs(t)):t}],transformResponse:[function(t){const o=this.transitional||ot.transitional,n=o&&o.forcedJSONParsing,r=this.responseType==="json";if(f.isResponse(t)||f.isReadableStream(t))return t;if(t&&f.isString(t)&&(n&&!this.responseType||r)){const l=!(o&&o.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?N.from(d,N.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oe.classes.FormData,Blob:oe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],e=>{ot.headers[e]={}});const Js=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ks=e=>{const t={};let o,n,r;return e&&e.split(`
`).forEach(function(l){r=l.indexOf(":"),o=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!o||t[o]&&Js[o])&&(o==="set-cookie"?t[o]?t[o].push(n):t[o]=[n]:t[o]=t[o]?t[o]+", "+n:n)}),t},no=Symbol("internals");function Qe(e){return e&&String(e).trim().toLowerCase()}function ct(e){return e===!1||e==null?e:f.isArray(e)?e.map(ct):String(e)}function Ws(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=o.exec(e);)t[n[1]]=n[2];return t}const Xs=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kt(e,t,o,n,r){if(f.isFunction(n))return n.call(this,t,o);if(r&&(t=o),!!f.isString(t)){if(f.isString(n))return t.indexOf(n)!==-1;if(f.isRegExp(n))return n.test(t)}}function Zs(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,n)=>o.toUpperCase()+n)}function Qs(e,t){const o=f.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+o,{value:function(r,u,l){return this[n].call(this,t,r,u,l)},configurable:!0})})}let se=class{constructor(t){t&&this.set(t)}set(t,o,n){const r=this;function u(d,b,m){const p=Qe(b);if(!p)throw new Error("header name must be a non-empty string");const v=f.findKey(r,p);(!v||r[v]===void 0||m===!0||m===void 0&&r[v]!==!1)&&(r[v||b]=ct(d))}const l=(d,b)=>f.forEach(d,(m,p)=>u(m,p,b));if(f.isPlainObject(t)||t instanceof this.constructor)l(t,o);else if(f.isString(t)&&(t=t.trim())&&!Xs(t))l(Ks(t),o);else if(f.isHeaders(t))for(const[d,b]of t.entries())u(b,d,n);else t!=null&&u(o,t,n);return this}get(t,o){if(t=Qe(t),t){const n=f.findKey(this,t);if(n){const r=this[n];if(!o)return r;if(o===!0)return Ws(r);if(f.isFunction(o))return o.call(this,r,n);if(f.isRegExp(o))return o.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=Qe(t),t){const n=f.findKey(this,t);return!!(n&&this[n]!==void 0&&(!o||kt(this,this[n],n,o)))}return!1}delete(t,o){const n=this;let r=!1;function u(l){if(l=Qe(l),l){const d=f.findKey(n,l);d&&(!o||kt(n,n[d],d,o))&&(delete n[d],r=!0)}}return f.isArray(t)?t.forEach(u):u(t),r}clear(t){const o=Object.keys(this);let n=o.length,r=!1;for(;n--;){const u=o[n];(!t||kt(this,this[u],u,t,!0))&&(delete this[u],r=!0)}return r}normalize(t){const o=this,n={};return f.forEach(this,(r,u)=>{const l=f.findKey(n,u);if(l){o[l]=ct(r),delete o[u];return}const d=t?Zs(u):String(u).trim();d!==u&&delete o[u],o[d]=ct(r),n[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return f.forEach(this,(n,r)=>{n!=null&&n!==!1&&(o[r]=t&&f.isArray(n)?n.join(", "):n)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const n=new this(t);return o.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[no]=this[no]={accessors:{}}).accessors,r=this.prototype;function u(l){const d=Qe(l);n[d]||(Qs(r,l),n[d]=!0)}return f.isArray(t)?t.forEach(u):u(t),this}};se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(se.prototype,({value:e},t)=>{let o=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[o]=n}}});f.freezeMethods(se);function Rt(e,t){const o=this||ot,n=t||o,r=se.from(n.headers);let u=n.data;return f.forEach(e,function(d){u=d.call(o,u,r.normalize(),t?t.status:void 0)}),r.normalize(),u}function Do(e){return!!(e&&e.__CANCEL__)}function He(e,t,o){N.call(this,e??"canceled",N.ERR_CANCELED,t,o),this.name="CanceledError"}f.inherits(He,N,{__CANCEL__:!0});function Io(e,t,o){const n=o.config.validateStatus;!o.status||!n||n(o.status)?e(o):t(new N("Request failed with status code "+o.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Ys(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function er(e,t){e=e||10;const o=new Array(e),n=new Array(e);let r=0,u=0,l;return t=t!==void 0?t:1e3,function(b){const m=Date.now(),p=n[u];l||(l=m),o[r]=b,n[r]=m;let v=u,O=0;for(;v!==r;)O+=o[v++],v=v%e;if(r=(r+1)%e,r===u&&(u=(u+1)%e),m-l<t)return;const V=p&&m-p;return V?Math.round(O*1e3/V):void 0}}function tr(e,t){let o=0,n=1e3/t,r,u;const l=(m,p=Date.now())=>{o=p,r=null,u&&(clearTimeout(u),u=null),e.apply(null,m)};return[(...m)=>{const p=Date.now(),v=p-o;v>=n?l(m,p):(r=m,u||(u=setTimeout(()=>{u=null,l(r)},n-v)))},()=>r&&l(r)]}const pt=(e,t,o=3)=>{let n=0;const r=er(50,250);return tr(u=>{const l=u.loaded,d=u.lengthComputable?u.total:void 0,b=l-n,m=r(b),p=l<=d;n=l;const v={loaded:l,total:d,progress:d?l/d:void 0,bytes:b,rate:m||void 0,estimated:m&&d&&p?(d-l)/m:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(v)},o)},so=(e,t)=>{const o=e!=null;return[n=>t[0]({lengthComputable:o,total:e,loaded:n}),t[1]]},ro=e=>(...t)=>f.asap(()=>e(...t)),or=oe.hasStandardBrowserEnv?((e,t)=>o=>(o=new URL(o,oe.origin),e.protocol===o.protocol&&e.host===o.host&&(t||e.port===o.port)))(new URL(oe.origin),oe.navigator&&/(msie|trident)/i.test(oe.navigator.userAgent)):()=>!0,nr=oe.hasStandardBrowserEnv?{write(e,t,o,n,r,u){const l=[e+"="+encodeURIComponent(t)];f.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),f.isString(n)&&l.push("path="+n),f.isString(r)&&l.push("domain="+r),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $o(e,t,o){let n=!sr(t);return e&&(n||o==!1)?rr(e,t):t}const ao=e=>e instanceof se?{...e}:e;function $e(e,t){t=t||{};const o={};function n(m,p,v,O){return f.isPlainObject(m)&&f.isPlainObject(p)?f.merge.call({caseless:O},m,p):f.isPlainObject(p)?f.merge({},p):f.isArray(p)?p.slice():p}function r(m,p,v,O){if(f.isUndefined(p)){if(!f.isUndefined(m))return n(void 0,m,v,O)}else return n(m,p,v,O)}function u(m,p){if(!f.isUndefined(p))return n(void 0,p)}function l(m,p){if(f.isUndefined(p)){if(!f.isUndefined(m))return n(void 0,m)}else return n(void 0,p)}function d(m,p,v){if(v in t)return n(m,p);if(v in e)return n(void 0,m)}const b={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(m,p,v)=>r(ao(m),ao(p),v,!0)};return f.forEach(Object.keys(Object.assign({},e,t)),function(p){const v=b[p]||r,O=v(e[p],t[p],p);f.isUndefined(O)&&v!==d||(o[p]=O)}),o}const Vo=e=>{const t=$e({},e);let{data:o,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:u,headers:l,auth:d}=t;t.headers=l=se.from(l),t.url=Ao($o(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let b;if(f.isFormData(o)){if(oe.hasStandardBrowserEnv||oe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((b=l.getContentType())!==!1){const[m,...p]=b?b.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...p].join("; "))}}if(oe.hasStandardBrowserEnv&&(n&&f.isFunction(n)&&(n=n(t)),n||n!==!1&&or(t.url))){const m=r&&u&&nr.read(u);m&&l.set(r,m)}return t},ar=typeof XMLHttpRequest<"u",lr=ar&&function(e){return new Promise(function(o,n){const r=Vo(e);let u=r.data;const l=se.from(r.headers).normalize();let{responseType:d,onUploadProgress:b,onDownloadProgress:m}=r,p,v,O,V,S;function k(){V&&V(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let R=new XMLHttpRequest;R.open(r.method.toUpperCase(),r.url,!0),R.timeout=r.timeout;function D(){if(!R)return;const _=se.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),h={data:!d||d==="text"||d==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:_,config:e,request:R};Io(function(L){o(L),k()},function(L){n(L),k()},h),R=null}"onloadend"in R?R.onloadend=D:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(D)},R.onabort=function(){R&&(n(new N("Request aborted",N.ECONNABORTED,e,R)),R=null)},R.onerror=function(){n(new N("Network Error",N.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const h=r.transitional||Oo;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),n(new N(E,h.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,R)),R=null},u===void 0&&l.setContentType(null),"setRequestHeader"in R&&f.forEach(l.toJSON(),function(E,h){R.setRequestHeader(h,E)}),f.isUndefined(r.withCredentials)||(R.withCredentials=!!r.withCredentials),d&&d!=="json"&&(R.responseType=r.responseType),m&&([O,S]=pt(m,!0),R.addEventListener("progress",O)),b&&R.upload&&([v,V]=pt(b),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",V)),(r.cancelToken||r.signal)&&(p=_=>{R&&(n(!_||_.type?new He(null,e,R):_),R.abort(),R=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const y=Ys(r.url);if(y&&oe.protocols.indexOf(y)===-1){n(new N("Unsupported protocol "+y+":",N.ERR_BAD_REQUEST,e));return}R.send(u||null)})},ir=(e,t)=>{const{length:o}=e=e?e.filter(Boolean):[];if(t||o){let n=new AbortController,r;const u=function(m){if(!r){r=!0,d();const p=m instanceof Error?m:this.reason;n.abort(p instanceof N?p:new He(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,u(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),e=null)};e.forEach(m=>m.addEventListener("abort",u));const{signal:b}=n;return b.unsubscribe=()=>f.asap(d),b}},ur=function*(e,t){let o=e.byteLength;if(o<t){yield e;return}let n=0,r;for(;n<o;)r=n+t,yield e.slice(n,r),n=r},dr=async function*(e,t){for await(const o of cr(e))yield*ur(o,t)},cr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:o,value:n}=await t.read();if(o)break;yield n}}finally{await t.cancel()}},lo=(e,t,o,n)=>{const r=dr(e,t);let u=0,l,d=b=>{l||(l=!0,n&&n(b))};return new ReadableStream({async pull(b){try{const{done:m,value:p}=await r.next();if(m){d(),b.close();return}let v=p.byteLength;if(o){let O=u+=v;o(O)}b.enqueue(new Uint8Array(p))}catch(m){throw d(m),m}},cancel(b){return d(b),r.return()}},{highWaterMark:2})},vt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Bo=vt&&typeof ReadableStream=="function",fr=vt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),No=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pr=Bo&&No(()=>{let e=!1;const t=new Request(oe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),io=64*1024,It=Bo&&No(()=>f.isReadableStream(new Response("").body)),mt={stream:It&&(e=>e.body)};vt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!mt[t]&&(mt[t]=f.isFunction(e[t])?o=>o[t]():(o,n)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,n)})})})(new Response);const mr=async e=>{if(e==null)return 0;if(f.isBlob(e))return e.size;if(f.isSpecCompliantForm(e))return(await new Request(oe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(f.isArrayBufferView(e)||f.isArrayBuffer(e))return e.byteLength;if(f.isURLSearchParams(e)&&(e=e+""),f.isString(e))return(await fr(e)).byteLength},yr=async(e,t)=>{const o=f.toFiniteNumber(e.getContentLength());return o??mr(t)},gr=vt&&(async e=>{let{url:t,method:o,data:n,signal:r,cancelToken:u,timeout:l,onDownloadProgress:d,onUploadProgress:b,responseType:m,headers:p,withCredentials:v="same-origin",fetchOptions:O}=Vo(e);m=m?(m+"").toLowerCase():"text";let V=ir([r,u&&u.toAbortSignal()],l),S;const k=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let R;try{if(b&&pr&&o!=="get"&&o!=="head"&&(R=await yr(p,n))!==0){let h=new Request(t,{method:"POST",body:n,duplex:"half"}),B;if(f.isFormData(n)&&(B=h.headers.get("content-type"))&&p.setContentType(B),h.body){const[L,K]=so(R,pt(ro(b)));n=lo(h.body,io,L,K)}}f.isString(v)||(v=v?"include":"omit");const D="credentials"in Request.prototype;S=new Request(t,{...O,signal:V,method:o.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:D?v:void 0});let y=await fetch(S);const _=It&&(m==="stream"||m==="response");if(It&&(d||_&&k)){const h={};["status","statusText","headers"].forEach(W=>{h[W]=y[W]});const B=f.toFiniteNumber(y.headers.get("content-length")),[L,K]=d&&so(B,pt(ro(d),!0))||[];y=new Response(lo(y.body,io,L,()=>{K&&K(),k&&k()}),h)}m=m||"text";let E=await mt[f.findKey(mt,m)||"text"](y,e);return!_&&k&&k(),await new Promise((h,B)=>{Io(h,B,{data:E,headers:se.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:S})})}catch(D){throw k&&k(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,S),{cause:D.cause||D}):N.from(D,D&&D.code,e,S)}}),$t={http:As,xhr:lr,fetch:gr};f.forEach($t,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uo=e=>`- ${e}`,br=e=>f.isFunction(e)||e===null||e===!1,Lo={getAdapter:e=>{e=f.isArray(e)?e:[e];const{length:t}=e;let o,n;const r={};for(let u=0;u<t;u++){o=e[u];let l;if(n=o,!br(o)&&(n=$t[(l=String(o)).toLowerCase()],n===void 0))throw new N(`Unknown adapter '${l}'`);if(n)break;r[l||"#"+u]=n}if(!n){const u=Object.entries(r).map(([d,b])=>`adapter ${d} `+(b===!1?"is not supported by the environment":"is not available in the build"));let l=t?u.length>1?`since :
`+u.map(uo).join(`
`):" "+uo(u[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:$t};function Ct(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new He(null,e)}function co(e){return Ct(e),e.headers=se.from(e.headers),e.data=Rt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lo.getAdapter(e.adapter||ot.adapter)(e).then(function(n){return Ct(e),n.data=Rt.call(e,e.transformResponse,n),n.headers=se.from(n.headers),n},function(n){return Do(n)||(Ct(e),n&&n.response&&(n.response.data=Rt.call(e,e.transformResponse,n.response),n.response.headers=se.from(n.response.headers))),Promise.reject(n)})}const qo="1.8.4",_t={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_t[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const fo={};_t.transitional=function(t,o,n){function r(u,l){return"[Axios v"+qo+"] Transitional option '"+u+"'"+l+(n?". "+n:"")}return(u,l,d)=>{if(t===!1)throw new N(r(l," has been removed"+(o?" in "+o:"")),N.ERR_DEPRECATED);return o&&!fo[l]&&(fo[l]=!0,console.warn(r(l," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(u,l,d):!0}};_t.spelling=function(t){return(o,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function hr(e,t,o){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const u=n[r],l=t[u];if(l){const d=e[u],b=d===void 0||l(d,u,e);if(b!==!0)throw new N("option "+u+" must be "+b,N.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new N("Unknown option "+u,N.ERR_BAD_OPTION)}}const ft={assertOptions:hr,validators:_t},ve=ft.validators;let Ie=class{constructor(t){this.defaults=t,this.interceptors={request:new oo,response:new oo}}async request(t,o){try{return await this._request(t,o)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const u=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?u&&!String(n.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+u):n.stack=u}catch{}}throw n}}_request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=$e(this.defaults,o);const{transitional:n,paramsSerializer:r,headers:u}=o;n!==void 0&&ft.assertOptions(n,{silentJSONParsing:ve.transitional(ve.boolean),forcedJSONParsing:ve.transitional(ve.boolean),clarifyTimeoutError:ve.transitional(ve.boolean)},!1),r!=null&&(f.isFunction(r)?o.paramsSerializer={serialize:r}:ft.assertOptions(r,{encode:ve.function,serialize:ve.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),ft.assertOptions(o,{baseUrl:ve.spelling("baseURL"),withXsrfToken:ve.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let l=u&&f.merge(u.common,u[o.method]);u&&f.forEach(["delete","get","head","post","put","patch","common"],S=>{delete u[S]}),o.headers=se.concat(l,u);const d=[];let b=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(o)===!1||(b=b&&k.synchronous,d.unshift(k.fulfilled,k.rejected))});const m=[];this.interceptors.response.forEach(function(k){m.push(k.fulfilled,k.rejected)});let p,v=0,O;if(!b){const S=[co.bind(this),void 0];for(S.unshift.apply(S,d),S.push.apply(S,m),O=S.length,p=Promise.resolve(o);v<O;)p=p.then(S[v++],S[v++]);return p}O=d.length;let V=o;for(v=0;v<O;){const S=d[v++],k=d[v++];try{V=S(V)}catch(R){k.call(this,R);break}}try{p=co.call(this,V)}catch(S){return Promise.reject(S)}for(v=0,O=m.length;v<O;)p=p.then(m[v++],m[v++]);return p}getUri(t){t=$e(this.defaults,t);const o=$o(t.baseURL,t.url,t.allowAbsoluteUrls);return Ao(o,t.params,t.paramsSerializer)}};f.forEach(["delete","get","head","options"],function(t){Ie.prototype[t]=function(o,n){return this.request($e(n||{},{method:t,url:o,data:(n||{}).data}))}});f.forEach(["post","put","patch"],function(t){function o(n){return function(u,l,d){return this.request($e(d||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}Ie.prototype[t]=o(),Ie.prototype[t+"Form"]=o(!0)});let wr=class jo{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(u){o=u});const n=this;this.promise.then(r=>{if(!n._listeners)return;let u=n._listeners.length;for(;u-- >0;)n._listeners[u](r);n._listeners=null}),this.promise.then=r=>{let u;const l=new Promise(d=>{n.subscribe(d),u=d}).then(r);return l.cancel=function(){n.unsubscribe(u)},l},t(function(u,l,d){n.reason||(n.reason=new He(u,l,d),o(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const t=new AbortController,o=n=>{t.abort(n)};return this.subscribe(o),t.signal.unsubscribe=()=>this.unsubscribe(o),t.signal}static source(){let t;return{token:new jo(function(r){t=r}),cancel:t}}};function vr(e){return function(o){return e.apply(null,o)}}function _r(e){return f.isObject(e)&&e.isAxiosError===!0}const Vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vt).forEach(([e,t])=>{Vt[t]=e});function Mo(e){const t=new Ie(e),o=vo(Ie.prototype.request,t);return f.extend(o,Ie.prototype,t,{allOwnKeys:!0}),f.extend(o,t,null,{allOwnKeys:!0}),o.create=function(r){return Mo($e(e,r))},o}const Q=Mo(ot);Q.Axios=Ie;Q.CanceledError=He;Q.CancelToken=wr;Q.isCancel=Do;Q.VERSION=qo;Q.toFormData=wt;Q.AxiosError=N;Q.Cancel=Q.CanceledError;Q.all=function(t){return Promise.all(t)};Q.spread=vr;Q.isAxiosError=_r;Q.mergeConfig=$e;Q.AxiosHeaders=se;Q.formToJSON=e=>Uo(f.isHTMLForm(e)?new FormData(e):e);Q.getAdapter=Lo.getAdapter;Q.HttpStatusCode=Vt;Q.default=Q;const{Axios:Ya,AxiosError:el,CanceledError:tl,isCancel:ol,CancelToken:nl,VERSION:sl,all:rl,Cancel:al,isAxiosError:ll,spread:il,toFormData:ul,AxiosHeaders:dl,HttpStatusCode:cl,formToJSON:fl,getAdapter:pl,mergeConfig:ml}=Q,Er="/api",Me=Q.create({baseURL:Er,timeout:1e4,headers:{"Content-Type":"application/json"}});Me.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Me.interceptors.response.use(e=>e.data,e=>e.response?(e.response.status===401&&window.location.pathname!=="/login"&&(localStorage.removeItem("token"),localStorage.removeItem("userGroupId"),window.location.href="/login"),Promise.reject(e.response.data)):e.request?Promise.reject({code:-1,message:"网络错误，请稍后重试"}):Promise.reject({code:-2,message:"请求错误"}));const U={get:async(e,t)=>(await Me.get(e,{params:t})).data,post:async(e,t)=>(await Me.post(e,t)).data,put:async(e,t)=>(await Me.put(e,t)).data,delete:async e=>(await Me.delete(e)).data},Ue={getSystemStatus:()=>U.get("/dashboard/system-status"),getTrafficStatus:()=>U.get("/dashboard/traffic-status"),getProxyTrafficRank:e=>U.get(`/dashboard/proxy-traffic-rank/${e}`),getUserTrafficRank:()=>U.get("/dashboard/user-traffic-rank"),getTrafficHistory:e=>U.get(`/dashboard/traffic-history/${e}`),getActiveUserLinks:()=>U.get("/dashboard/active-user-link"),getActiveLinks:(e,t)=>U.get("/dashboard/active-links",{params:{index:e,pageSize:t}}),getMyTrafficStatus:()=>U.get("/dashboard/my-traffic")};async function it(e){const o=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")}const Ee={getUsers:()=>U.get("/users"),getUser:e=>U.get(`/users/${e}`),createUser:async e=>(e.password=(await it(e.password)).toString(),U.post("/users",e)),updateUser:(e,t)=>U.put(`/users/${e}`,t),deleteUser:e=>U.delete(`/users/${e}`),resetPassword:e=>U.post(`/users/${e}/reset-password`),login:async e=>(e.password=(await it(e.password)).toString(),U.post("/auth/login",e)),logout:()=>(qt().logout(),!0),changePassword:async(e,t)=>{const o=(await it(e)).toString(),n=(await it(t)).toString();return U.post("/auth/change-password",{oldPassword:o,newPassword:n})},getMyToken:()=>U.get("/user/my-token"),updateMyToken:()=>U.put("/user/my-token")},ge={getInboundProxies:()=>U.get("/proxies/inbound"),getOutboundProxies:()=>U.get("/proxies/outbound"),getInboundProxy:e=>U.get(`/proxies/inbound/${e}`),getOutboundProxy:e=>U.get(`/proxies/outbound/${e}`),createInboundProxy:e=>U.post("/proxies/inbound",e),createOutboundProxy:e=>U.post("/proxies/outbound",e),updateInboundProxy:(e,t)=>U.put(`/proxies/inbound/${e}`,t),updateOutboundProxy:(e,t)=>U.put(`/proxies/outbound/${e}`,t),deleteInboundProxy:e=>U.delete(`/proxies/inbound/${e}`),deleteOutboundProxy:e=>U.delete(`/proxies/outbound/${e}`),getUsableInboundProxies:()=>U.get("/proxies/usable-inbounds"),testOutboundProxySpeed:e=>U.post(`/proxies/outbound/${e}/test-speed`)},ce={getRouteSchemes:()=>U.get("/routes/schemes"),getRouteScheme:e=>U.get(`/routes/schemes/${e}`),createRouteScheme:e=>U.post("/routes/schemes",e),updateRouteScheme:(e,t)=>U.put(`/routes/schemes/${e}`,t),deleteRouteScheme:e=>U.delete(`/routes/schemes/${e}`),toggleRouteSchemeStatus:e=>U.post(`/routes/schemes/${e}/toggle-status`),getRules:e=>U.get(`/routes/schemes/${e}/rules`),addRule:(e,t)=>U.post(`/routes/schemes/${e}/rules`,t),updateRule:(e,t,o)=>U.put(`/routes/schemes/${e}/rules/${t}`,o),deleteRule:(e,t)=>U.delete(`/routes/schemes/${e}/rules/${t}`),updateRuleOrder:(e,t)=>U.post(`/routes/schemes/${e}/rules/reorder`,{ruleIds:t})},ut={getUserGroups:()=>U.get("/user-groups"),getUserGroup:e=>U.get(`/user-groups/${e}`),createUserGroup:e=>U.post("/user-groups",e),updateUserGroup:(e,t)=>U.put(`/user-groups/${e}`,t),deleteUserGroup:e=>U.delete(`/user-groups/${e}`),getUsersInGroup:e=>U.get(`/user-groups/${e}/users`),addUserToGroup:(e,t)=>U.post(`/user-groups/${e}/users/${t}`),removeUserFromGroup:(e,t)=>U.delete(`/user-groups/${e}/users/${t}`)},ze={getSystemInfo:()=>U.get("/system/info"),getSystemName:()=>U.get("/system/name"),updateSystemInfo:e=>U.put("/system/info",e)},qt=Tn("user",()=>{const e=P(localStorage.getItem("token")||"");P(localStorage.getItem("username")||"");const t=P(localStorage.getItem("userId")||""),o=P(localStorage.getItem("userGroupId")||"");return{token:e,userId:t,userGroupId:o,login:async(u,l)=>{try{console.log("Login attempt:",{inputUsername:u,password:l});const d=await Ee.login({username:u,password:l});return d.token&&d.userId?(e.value=d.token,t.value=d.userId,o.value=d.userGroupId,localStorage.setItem("token",d.token),localStorage.setItem("userId",d.userId),localStorage.setItem("userGroupId",d.userGroupId),!0):(console.log("Login failed: invalid credentials"),!1)}catch(d){return console.error("Login failed:",d),!1}},logout:()=>{e.value="",t.value="",o.value="",localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userGroupId")}}}),Sr={class:"dock-nav"},xr={class:"dock-content"},kr={class:"dock-menu"},Rr={class:"dock-item"},Cr={class:"system-title"},Pr={class:"user-submenu"},Tr={key:0,class:"mobile-tab-bar"},Fr={class:"mobile-user-menu"},Ar={class:"user-header"},Or={class:"menu-list"},Ur={class:"dialog-footer"},Dr=Pe({__name:"MainLayout",setup(e){const t=Fn(),o=po(),n=qt(),r=P(!1),u=P("ZIP管理面板"),l=P(!1),d=P(!1),b=P(!1),m=P(),p=ae({oldPassword:"",newPassword:"",confirmPassword:""}),v=ae({oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"},{validator:(D,y,_)=>{y!==p.newPassword?_(new Error("两次输入的密码不一致")):_()},trigger:"blur"}]}),O=P(!1),V=async()=>{try{const D=await ze.getSystemInfo();u.value=D.systemName}catch(D){console.error("获取系统名称失败",D)}},S=()=>{const D=window.innerWidth;l.value=D<768},k=D=>{D==="logout"?(Ee.logout(),o.push("/login")):D==="changePassword"&&(p.oldPassword="",p.newPassword="",p.confirmPassword="",d.value=!0)},R=async()=>{m.value&&await m.value.validate(async D=>{var y,_;if(D){b.value=!0;try{await Ee.changePassword(p.oldPassword,p.newPassword),x.success("密码修改成功"),d.value=!1}catch(E){console.error("修改密码失败",E),x.error(((_=(y=E.response)==null?void 0:y.data)==null?void 0:_.message)||"密码修改失败，请检查旧密码是否正确")}finally{b.value=!1}}})};return Ve(()=>{n.userGroupId==="管理员"&&(r.value=!0),V(),S(),window.addEventListener("resize",S)}),et(()=>{window.removeEventListener("resize",S)}),(D,y)=>{const _=T("router-view"),E=T("el-main"),h=T("el-icon"),B=T("router-link"),L=T("Operation"),K=T("el-drawer"),W=T("el-container"),ne=T("el-input"),ie=T("el-form-item"),ue=T("el-form"),X=T("el-button"),he=T("el-dialog");return F(),G(_e,null,[s(W,{class:"layout-container"},{default:a(()=>[s(E,{class:ye({"mobile-main":l.value})},{default:a(()=>[s(_)]),_:1},8,["class"]),w("div",Sr,[w("div",xr,[w("div",kr,[r.value?(F(),G(_e,{key:0},[w("div",Rr,[s(h,null,{default:a(()=>[s(M(Vn))]),_:1}),w("span",Cr,q(u.value),1)]),s(B,{to:"/my-proxies",class:ye(["dock-item",{active:M(t).path==="/my-proxies"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(M(xt))]),_:1}),y[12]||(y[12]=w("span",null,"我的代理",-1))]),_:1},8,["class"]),s(B,{to:"/",class:ye(["dock-item",{active:M(t).path==="/"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(M(Zt))]),_:1}),y[13]||(y[13]=w("span",null,"统计数据",-1))]),_:1},8,["class"]),s(B,{to:"/integrated",class:ye(["dock-item",{active:M(t).path==="/integrated"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(L)]),_:1}),y[14]||(y[14]=w("span",null,"管理面板",-1))]),_:1},8,["class"]),s(B,{to:"/system",class:ye(["dock-item",{active:M(t).path==="/system"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(M(lt))]),_:1}),y[15]||(y[15]=w("span",null,"基础设置",-1))]),_:1},8,["class"])],64)):(F(),J(B,{key:1,to:"/my-proxies",class:ye(["dock-item",{active:M(t).path==="/my-proxies"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(M(xt))]),_:1}),y[16]||(y[16]=w("span",null,"我的代理",-1))]),_:1},8,["class"])),w("div",{class:"dock-item user-menu",onClick:y[0]||(y[0]=z=>O.value=!O.value)},[s(h,null,{default:a(()=>[s(M(At))]),_:1}),w("span",null,q(M(n).userId),1),s(h,{class:ye(["arrow-icon",{"is-active":O.value}])},{default:a(()=>[s(M(Bn))]),_:1},8,["class"])])])]),fe(w("div",Pr,[w("div",{class:"submenu-item",onClick:y[1]||(y[1]=z=>k("changePassword"))},[s(h,null,{default:a(()=>[s(M(lt))]),_:1}),y[17]||(y[17]=w("span",null,"修改密码",-1))]),w("div",{class:"submenu-item",onClick:y[2]||(y[2]=z=>k("logout"))},[s(h,null,{default:a(()=>[s(M(Qt))]),_:1}),y[18]||(y[18]=w("span",null,"退出登录",-1))])],512),[[An,O.value]])]),l.value?(F(),G("div",Tr,[r.value?(F(),G(_e,{key:0},[s(B,{to:"/",class:ye(["tab-item",{active:M(t).path==="/"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(M(Zt))]),_:1}),y[19]||(y[19]=w("span",null,"统计数据",-1))]),_:1},8,["class"]),s(B,{to:"/integrated",class:ye(["tab-item",{active:M(t).path==="/integrated"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(L)]),_:1}),y[20]||(y[20]=w("span",null,"管理面板",-1))]),_:1},8,["class"]),s(B,{to:"/system",class:ye(["tab-item",{active:M(t).path==="/system"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(M(lt))]),_:1}),y[21]||(y[21]=w("span",null,"基础设置",-1))]),_:1},8,["class"])],64)):(F(),J(B,{key:1,to:"/my-proxies",class:ye(["tab-item",{active:M(t).path==="/my-proxies"}])},{default:a(()=>[s(h,null,{default:a(()=>[s(M(xt))]),_:1}),y[22]||(y[22]=w("span",null,"我的代理",-1))]),_:1},8,["class"])),w("div",{class:"tab-item",onClick:y[3]||(y[3]=z=>O.value=!0)},[s(h,null,{default:a(()=>[s(M(At))]),_:1}),y[23]||(y[23]=w("span",null,"我的",-1))])])):xe("",!0),l.value?(F(),J(K,{key:1,modelValue:O.value,"onUpdate:modelValue":y[6]||(y[6]=z=>O.value=z),direction:"rtl",size:"80%"},{default:a(()=>[w("div",Fr,[w("div",Ar,[w("h3",null,q(M(n).userId),1)]),w("div",Or,[w("div",{class:"menu-item",onClick:y[4]||(y[4]=z=>k("changePassword"))},[s(h,null,{default:a(()=>[s(M(lt))]),_:1}),y[24]||(y[24]=w("span",null,"修改密码",-1))]),w("div",{class:"menu-item",onClick:y[5]||(y[5]=z=>k("logout"))},[s(h,null,{default:a(()=>[s(M(Qt))]),_:1}),y[25]||(y[25]=w("span",null,"退出登录",-1))])])])]),_:1},8,["modelValue"])):xe("",!0)]),_:1}),s(he,{modelValue:d.value,"onUpdate:modelValue":y[11]||(y[11]=z=>d.value=z),title:"修改密码",width:"400px"},{footer:a(()=>[w("span",Ur,[s(X,{onClick:y[10]||(y[10]=z=>d.value=!1)},{default:a(()=>y[26]||(y[26]=[C("取消")])),_:1}),s(X,{type:"primary",onClick:R,loading:b.value},{default:a(()=>y[27]||(y[27]=[C("确定")])),_:1},8,["loading"])])]),default:a(()=>[s(ue,{ref_key:"passwordFormRef",ref:m,model:p,rules:v,"label-width":"100px"},{default:a(()=>[s(ie,{label:"旧密码",prop:"oldPassword"},{default:a(()=>[s(ne,{modelValue:p.oldPassword,"onUpdate:modelValue":y[7]||(y[7]=z=>p.oldPassword=z),type:"password",placeholder:"请输入旧密码","show-password":""},null,8,["modelValue"])]),_:1}),s(ie,{label:"新密码",prop:"newPassword"},{default:a(()=>[s(ne,{modelValue:p.newPassword,"onUpdate:modelValue":y[8]||(y[8]=z=>p.newPassword=z),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),s(ie,{label:"确认新密码",prop:"confirmPassword"},{default:a(()=>[s(ne,{modelValue:p.confirmPassword,"onUpdate:modelValue":y[9]||(y[9]=z=>p.confirmPassword=z),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])],64)}}}),Be=(e,t)=>{const o=e.__vccOpts||e;for(const[n,r]of t)o[n]=r;return o},Ir=Be(Dr,[["__scopeId","data-v-c63429e8"]]),$r={class:"login-container"},Vr={class:"login-box"},Br={class:"login-header"},Nr=Pe({__name:"Login",setup(e){const t=po(),o=qt(),n=P(),r=P(!1),u=P("ZIP管理面板"),l=ae({username:"",password:""}),d={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},b=async()=>{try{const p=await ze.getSystemName();u.value=p.systemName||"ZIP管理面板"}catch(p){console.error("获取系统名称失败",p)}};Ve(()=>{b()});const m=async()=>{n.value&&await n.value.validate(async p=>{if(p){r.value=!0;try{console.log("Form submitted:",l);const v=await o.login(l.username,l.password);console.log("Login result:",v),v?(x.success("登录成功"),t.push("/")):x.error("用户名或密码错误")}catch(v){console.error("Login error:",v),x.error("登录失败，请重试")}finally{r.value=!1}}else console.log("Form validation failed")})};return(p,v)=>{const O=T("el-input"),V=T("el-form-item"),S=T("el-button"),k=T("el-form"),R=T("el-card");return F(),G("div",$r,[w("div",Vr,[s(R,{class:"login-card"},{header:a(()=>[w("div",Br,[w("h2",null,q(u.value),1),v[2]||(v[2]=w("p",{class:"subtitle"},"(～￣▽￣)→))*￣▽￣*)o ",-1))])]),default:a(()=>[s(k,{ref_key:"formRef",ref:n,model:l,rules:d,"label-position":"top",size:"large",class:"login-form"},{default:a(()=>[s(V,{prop:"username"},{default:a(()=>[s(O,{modelValue:l.username,"onUpdate:modelValue":v[0]||(v[0]=D=>l.username=D),placeholder:"用户名","prefix-icon":M(At)},null,8,["modelValue","prefix-icon"])]),_:1}),s(V,{prop:"password"},{default:a(()=>[s(O,{modelValue:l.password,"onUpdate:modelValue":v[1]||(v[1]=D=>l.password=D),type:"password",placeholder:"密码","show-password":"","prefix-icon":M(Nn),onKeyup:Pt(m,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),s(V,null,{default:a(()=>[s(S,{type:"primary",onClick:m,loading:r.value,class:"login-button"},{default:a(()=>[C(q(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])}}}),Lr=Be(Nr,[["__scopeId","data-v-c1ee71ba"]]),qr={class:"dashboard-container"},jr={class:"card-header"},Mr={class:"chart-container"},zr={class:"status-content"},Gr={class:"status-item"},Hr={class:"value"},Jr={class:"status-item"},Kr={class:"value"},Wr={class:"status-item"},Xr={class:"value"},Zr=Pe({__name:"Dashboard",setup(e){mo([go,Mn,bo,ho,wo,zn]);const t=P({upload:0,download:0,total:0}),o=P([]),n=P([]),r=P([]),u=P([]),l=P("day"),d=P({labels:[],upload:[],download:[]}),b=ae({systemStatus:!0,proxyStatus:!0,trafficStatus:!0,inboundTrafficRank:!0,outboundTrafficRank:!0,userTrafficRank:!0,trafficHistory:!0,recentLogs:!0,activeUserLinks:!0}),m=async()=>{b.trafficStatus=!0;try{t.value=await Ue.getTrafficStatus()}catch(_){console.error("获取流量状态失败",_),x.error("获取流量状态失败")}finally{b.trafficStatus=!1}},p=async()=>{b.inboundTrafficRank=!0,b.outboundTrafficRank=!0,Ue.getProxyTrafficRank("i").then(_=>{o.value=_}).catch(_=>{console.error("获取入站代理流量排行失败",_),x.error("获取入站代理流量排行失败")}).finally(()=>{b.inboundTrafficRank=!1}),Ue.getProxyTrafficRank("o").then(_=>{n.value=_}).catch(_=>{console.error("获取出站代理流量排行失败",_),x.error("获取出站代理流量排行失败")}).finally(()=>{b.outboundTrafficRank=!1})},v=async()=>{b.userTrafficRank=!0;try{r.value=await Ue.getUserTrafficRank()}catch(_){console.error("获取用户流量排行失败",_),x.error("获取用户流量排行失败")}finally{b.userTrafficRank=!1}},O=async()=>{b.activeUserLinks=!0;try{u.value=await Ue.getActiveUserLinks()}catch(_){console.error("获取在线用户失败",_),x.error("获取在线用户失败")}finally{b.activeUserLinks=!1}},V=async()=>{b.trafficHistory=!0;try{d.value=await Ue.getTrafficHistory(l.value)}catch(_){console.error("获取流量历史数据失败",_),x.error("获取流量历史数据失败")}finally{b.trafficHistory=!1}},S=On(()=>({tooltip:{trigger:"axis",formatter:function(_){let E=_[0].name+"<br/>";return _.forEach(h=>{E+=h.seriesName+": "+k(h.value)+"<br/>"}),E}},legend:{data:["上传流量","下载流量"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:d.value.labels||[]},yAxis:{type:"value",axisLabel:{formatter:function(_){return k(_)}}},series:[{name:"上传流量",type:"line",data:d.value.upload||[],areaStyle:{opacity:.3},lineStyle:{width:2},itemStyle:{color:"#409EFF"}},{name:"下载流量",type:"line",data:d.value.download||[],areaStyle:{opacity:.3},lineStyle:{width:2},itemStyle:{color:"#67C23A"}}]}));Tt(l,()=>{V()}),Tt(d,()=>{},{deep:!0});const k=_=>{if(_===0)return"0 B";const E=1e3,h=["B","KB","MB","GB","TB","PB"],B=Math.floor(Math.log(_)/Math.log(E));return parseFloat((_/Math.pow(E,B)).toFixed(2))+" "+h[B]},R=_=>{if(_===0)return"0 b";const E=_*8,h=1e3,B=["bps","Kbps","Mbps","Gbps","Tbps","Pbps"],L=Math.floor(Math.log(E)/Math.log(h));return parseFloat((E/Math.pow(h,L)).toFixed(2))+" "+B[L]};Ve(async()=>{await Promise.all([m(),p(),v(),V(),O()])});const D=setInterval(async()=>{O()},5e3),y=setInterval(async()=>{m()},1e3);return et(()=>{clearInterval(y),clearInterval(D)}),(_,E)=>{const h=T("el-radio-button"),B=T("el-radio-group"),L=T("el-card"),K=T("el-col"),W=T("el-table-column"),ne=T("el-table"),ie=T("el-row"),ue=yt("loading");return F(),G("div",qr,[s(ie,{gutter:20,class:"mb-4"},{default:a(()=>[s(K,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-4"},{default:a(()=>[fe((F(),J(L,{shadow:"hover",class:"traffic-trend"},{header:a(()=>[w("div",jr,[E[4]||(E[4]=w("span",null,"流量趋势",-1)),s(B,{modelValue:l.value,"onUpdate:modelValue":E[0]||(E[0]=X=>l.value=X),size:"small"},{default:a(()=>[s(h,{label:"hour"},{default:a(()=>E[1]||(E[1]=[C("小时")])),_:1}),s(h,{label:"day"},{default:a(()=>E[2]||(E[2]=[C("天")])),_:1}),s(h,{label:"week"},{default:a(()=>E[3]||(E[3]=[C("周")])),_:1})]),_:1},8,["modelValue"])])]),default:a(()=>[w("div",Mr,[s(M(yo),{class:"chart",option:S.value,autoresize:""},null,8,["option"])])]),_:1})),[[ue,b.trafficHistory]])]),_:1}),s(K,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(L,{shadow:"hover",class:"daily-traffic"},{header:a(()=>E[5]||(E[5]=[w("div",{class:"card-header"},[w("span",null,"实时速率")],-1)])),default:a(()=>[w("div",zr,[w("div",Gr,[E[6]||(E[6]=w("span",{class:"label"},"上传",-1)),w("span",Hr,q(R(t.value.upload)),1)]),w("div",Jr,[E[7]||(E[7]=w("span",{class:"label"},"下载",-1)),w("span",Kr,q(R(t.value.download)),1)]),w("div",Wr,[E[8]||(E[8]=w("span",{class:"label"},"总和",-1)),w("span",Xr,q(R(t.value.total)),1)])])]),_:1})]),_:1}),s(K,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(L,{shadow:"hover",class:"online-users"},{header:a(()=>E[9]||(E[9]=[w("div",{class:"card-header"},[w("span",null,"在线用户")],-1)])),default:a(()=>[s(ne,{data:u.value,style:{width:"100%"}},{default:a(()=>[s(W,{prop:"userId",label:"用户ID"}),s(W,{prop:"links",label:"连接数"})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),s(ie,{gutter:20,class:"mb-4"},{default:a(()=>[s(K,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(L,{shadow:"hover",class:"inbound-rank"},{header:a(()=>E[10]||(E[10]=[w("div",{class:"card-header"},[w("span",null,"入站代理流量排行 (7日)")],-1)])),default:a(()=>[s(ne,{data:o.value,style:{width:"100%"}},{default:a(()=>[s(W,{prop:"name",label:"代理名称"}),s(W,{prop:"traffic",label:"流量总计"},{default:a(({row:X})=>[C(q(k(X.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),s(K,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(L,{shadow:"hover",class:"outbound-rank"},{header:a(()=>E[11]||(E[11]=[w("div",{class:"card-header"},[w("span",null,"出站代理流量排行 (7日)")],-1)])),default:a(()=>[s(ne,{data:n.value,style:{width:"100%"}},{default:a(()=>[s(W,{prop:"name",label:"代理名称"}),s(W,{prop:"traffic",label:"流量总计"},{default:a(({row:X})=>[C(q(k(X.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),s(K,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-4"},{default:a(()=>[s(L,{shadow:"hover",class:"user-rank"},{header:a(()=>E[12]||(E[12]=[w("div",{class:"card-header"},[w("span",null,"用户流量排行 (7日)")],-1)])),default:a(()=>[s(ne,{data:r.value,style:{width:"100%"}},{default:a(()=>[s(W,{prop:"name",label:"用户名"}),s(W,{prop:"upload",label:"上传"},{default:a(({row:X})=>[C(q(k(X.upload)),1)]),_:1}),s(W,{prop:"download",label:"下载"},{default:a(({row:X})=>[C(q(k(X.download)),1)]),_:1}),s(W,{prop:"traffic",label:"流量总计"},{default:a(({row:X})=>[C(q(k(X.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})])}}}),Qr=Be(Zr,[["__scopeId","data-v-ab60c994"]]),Yr={class:"system-container"},ea={class:"card-header"},ta=Pe({__name:"System",setup(e){const t=P({systemName:"",description:"",version:"",startUpTime:"",trafficRecordDays:30}),o=ae({systemName:"",description:"",trafficRecordDays:30}),n=ae({save:!1,info:!1}),r=async()=>{n.info=!0;try{const d=await ze.getSystemInfo();t.value=d,o.systemName=d.systemName,o.description=d.description,o.trafficRecordDays=d.trafficRecordDays}catch(d){console.error("获取系统信息失败",d),x.error("获取系统信息失败")}finally{n.info=!1}},u=async()=>{n.save=!0;try{await ze.updateSystemInfo(o),x.success("设置保存成功"),await r()}catch(d){console.error("保存设置失败",d),x.error("保存设置失败")}finally{n.save=!1}};Ve(()=>{r()});const l=setInterval(r,6e4);return et(()=>{clearInterval(l)}),(d,b)=>{const m=T("el-icon"),p=T("el-button"),v=T("el-descriptions-item"),O=T("el-descriptions"),V=T("el-card"),S=T("el-input"),k=T("el-form-item"),R=T("el-input-number"),D=T("el-form"),y=yt("loading");return F(),G("div",Yr,[s(V,{class:"box-card mb-4"},{header:a(()=>[w("div",ea,[b[3]||(b[3]=w("span",null,"系统信息",-1)),s(p,{type:"primary",link:"",onClick:r},{default:a(()=>[s(m,null,{default:a(()=>[s(M(Ln))]),_:1})]),_:1})])]),default:a(()=>[fe((F(),J(O,{column:2,border:""},{default:a(()=>[s(v,{label:"启动时间"},{default:a(()=>[C(q(t.value.startUpTime),1)]),_:1}),s(v,{label:"版本"},{default:a(()=>[C(q(t.value.version),1)]),_:1})]),_:1})),[[y,n.info]])]),_:1}),s(V,{class:"box-card"},{header:a(()=>b[4]||(b[4]=[w("div",{class:"card-header"},[w("span",null,"基本设置")],-1)])),default:a(()=>[s(D,{model:o,"label-width":"120px"},{default:a(()=>[s(k,{label:"系统名称"},{default:a(()=>[s(S,{modelValue:o.systemName,"onUpdate:modelValue":b[0]||(b[0]=_=>o.systemName=_)},null,8,["modelValue"])]),_:1}),s(k,{label:"系统公告"},{default:a(()=>[s(S,{modelValue:o.description,"onUpdate:modelValue":b[1]||(b[1]=_=>o.description=_),type:"textarea",rows:7},null,8,["modelValue"])]),_:1}),s(k,{label:"流量记录保留"},{default:a(()=>[s(R,{modelValue:o.trafficRecordDays,"onUpdate:modelValue":b[2]||(b[2]=_=>o.trafficRecordDays=_),min:1,max:90},null,8,["modelValue"]),b[5]||(b[5]=w("span",{class:"form-help"},"天",-1))]),_:1}),s(k,null,{default:a(()=>[s(p,{type:"primary",onClick:u,loading:n.save},{default:a(()=>b[6]||(b[6]=[C(" 保存设置 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}}),oa=Be(ta,[["__scopeId","data-v-cf83b9d5"]]),na={class:"user-proxies-container"},sa={class:"card-header"},ra={class:"traffic-stats"},aa={class:"traffic-item"},la={class:"traffic-value"},ia={class:"traffic-item"},ua={class:"traffic-value"},da={class:"traffic-item"},ca={class:"traffic-value"},fa={class:"traffic-item"},pa={class:"traffic-value"},ma={class:"system-description"},ya={class:"card-header"},ga={key:0},ba={key:0,class:"qrcode-container"},ha={key:1},wa=Pe({__name:"UserProxies",setup(e){const t=P([]),o=P(!0),n=P(""),r=P(!1),u=P(""),l=P({upload:0,download:0,total:0,used:0,remaining:0,limit:0,links:0}),d=P(!0),b=P({systemName:"",description:"",version:"",startUpTime:"",trafficRecordDays:30}),m=P(!0);let p=null;const v=async()=>{m.value=!0;try{b.value=await ze.getSystemInfo()}catch(E){console.error("获取系统信息失败",E),x.error("获取系统信息失败")}finally{m.value=!1}},O=async()=>{o.value=!0;try{t.value=await ge.getUsableInboundProxies()}catch(E){console.error("获取用户代理失败",E),x.error("获取用户代理失败")}finally{o.value=!1}},V=async()=>{try{l.value=await Ue.getMyTrafficStatus()}catch(E){console.error("获取流量状态失败",E),x.error("获取流量状态失败")}finally{d.value=!1}},S=E=>{let h=JSON.parse(E.linkConfig);for(;h.upper!=null;)h=h.upper;return h.url},k=E=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(E)}`,R=async E=>{try{n.value=E.linkConfig||"",r.value=!0}catch(h){x.error("获取连接配置失败"),console.error(h)}},D=async()=>{try{u.value=await Ee.updateMyToken(),O(),x.success("刷新凭证成功，旧凭证将失效")}catch{x.error("刷新凭证失败")}},y=()=>{navigator.clipboard.writeText(n.value),x.success("连接配置已复制到剪贴板")},_=E=>{if(E===0)return"0 B";const h=1e3,B=["B","KB","MB","GB","TB","PB"],L=Math.floor(Math.log(E)/Math.log(h));return parseFloat((E/Math.pow(h,L)).toFixed(2))+" "+B[L]};return Ve(async()=>{await Promise.all([O(),V(),v()]),p=window.setInterval(()=>{V()},5e3)}),et(()=>{p&&clearInterval(p)}),(E,h)=>{const B=T("el-button"),L=T("el-card"),K=T("el-table-column"),W=T("el-table"),ne=T("el-input"),ie=T("el-image"),ue=T("el-empty"),X=T("el-dialog"),he=yt("loading");return F(),G("div",na,[fe((F(),J(L,{class:"traffic-stats-card"},{header:a(()=>[w("div",sa,[h[4]||(h[4]=w("span",null,"7日流量统计",-1)),s(B,{size:"small",type:"primary",onClick:V},{default:a(()=>h[3]||(h[3]=[C("刷新")])),_:1})])]),default:a(()=>[w("div",ra,[w("div",aa,[h[5]||(h[5]=w("div",{class:"traffic-label"},"上传流量",-1)),w("div",la,q(_(l.value.upload)),1)]),w("div",ia,[h[6]||(h[6]=w("div",{class:"traffic-label"},"下载流量",-1)),w("div",ua,q(_(l.value.download)),1)]),w("div",da,[h[7]||(h[7]=w("div",{class:"traffic-label"},"总流量",-1)),w("div",ca,q(_(l.value.total)),1)]),w("div",fa,[h[8]||(h[8]=w("div",{class:"traffic-label"},"当前连接数",-1)),w("div",pa,q(l.value.links||0),1)])])]),_:1})),[[he,d.value]]),fe((F(),J(L,{class:"system-info-card"},{header:a(()=>h[9]||(h[9]=[w("div",{class:"card-header"},[w("span",null,"系统公告")],-1)])),default:a(()=>[w("div",ma,q(b.value.description),1)]),_:1})),[[he,m.value]]),fe((F(),J(L,{class:"user-proxies-card"},{header:a(()=>[w("div",ya,[h[11]||(h[11]=w("span",null,"代理列表",-1)),s(B,{type:"primary",onClick:h[0]||(h[0]=z=>D())},{default:a(()=>h[10]||(h[10]=[C("刷新代理凭证")])),_:1})])]),default:a(()=>[fe((F(),J(W,{data:t.value,style:{width:"100%"}},{default:a(()=>[s(K,{prop:"id",label:"代理名称",width:"180"}),s(K,{prop:"scheme",label:"代理类型",width:"120"}),s(K,{label:"地址","show-overflow-tooltip":""},{default:a(({row:z})=>[C(q(S(z)),1)]),_:1}),s(K,{label:"操作",width:"120"},{default:a(({row:z})=>[s(B,{type:"success",onClick:st=>R(z)},{default:a(()=>h[12]||(h[12]=[C("完整配置")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[he,o.value]])]),_:1})),[[he,o.value]]),s(X,{modelValue:r.value,"onUpdate:modelValue":h[2]||(h[2]=z=>r.value=z),title:"连接配置",width:"500px"},{default:a(()=>[n.value?(F(),G("div",ga,[s(ne,{readonly:"",rows:10,type:"textarea",modelValue:n.value,"onUpdate:modelValue":h[1]||(h[1]=z=>n.value=z)},null,8,["modelValue"]),s(B,{onClick:y,type:"primary",style:{width:"100%"}},{default:a(()=>h[13]||(h[13]=[C("复制")])),_:1}),n.value?(F(),G("div",ba,[s(ie,{src:k(n.value),fit:"contain",style:{width:"200px",height:"200px"}},null,8,["src"])])):xe("",!0)])):(F(),G("div",ha,[s(ue,{description:"获取链接失败"})]))]),_:1},8,["modelValue"])])}}}),va=Be(wa,[["__scopeId","data-v-6a4380fe"]]),_a={class:"card-header"},Ea=Pe({__name:"NetworkGraph",props:{inboundProxies:{},outboundProxies:{},userGroups:{},routeSchemes:{}},setup(e){mo([go,Gn,bo,ho,wo]);const t=e,o=P({title:{top:0,left:"center"},tooltip:{trigger:"item",formatter:l=>{if(l.dataType==="node")return`${l.data.name}`;if(l.dataType==="edge")return l.data.info?`${l.data.info}`:`${l.data.source} -> ${l.data.target}`}},legend:{data:[{name:"入站代理",icon:"circle",itemStyle:{color:"#4CAF50"}},{name:"用户组",icon:"circle",itemStyle:{color:"#2196F3"}},{name:"路由方案",icon:"circle",itemStyle:{color:"#FF9800"}},{name:"出站代理",icon:"circle",itemStyle:{color:"#9C27B0"}}]},animationDurationUpdate:150,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",data:[],links:[],categories:[{name:"入站代理",itemStyle:{color:"#4CAF50"}},{name:"用户组",itemStyle:{color:"#2196F3"}},{name:"路由方案",itemStyle:{color:"#FF9800"}},{name:"出站代理",itemStyle:{color:"#9C27B0"}}],label:{show:!0,position:"bottom",formatter:"{b}",backgroundColor:"transparent",borderWidth:0,color:"#333",fontSize:12,distance:10},lineStyle:{color:"#999",width:2,curveness:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]});Tt([()=>t.inboundProxies,()=>t.outboundProxies,()=>t.userGroups,()=>t.routeSchemes],()=>{Ft(()=>{n()})},{deep:!0});const n=()=>{console.log("Generating graph data with:",{inboundProxies:t.inboundProxies,userGroups:t.userGroups,routeSchemes:t.routeSchemes,outboundProxies:t.outboundProxies});const l=[],d=[];let b=parseInt(getComputedStyle(document.querySelector(".chart")).width),p=550*parseInt(getComputedStyle(document.querySelector(".chart")).height)/b,v=Math.max(t.inboundProxies.length,t.outboundProxies.length,t.userGroups.length,t.routeSchemes.length),O=p/(v-1);console.log("max_node_count:",v);const V=y=>{if(y<=1)return[p/2];const _=[];let E=O*(y-1),h=p/2-E/2;for(let B=0;B<y;B++)_.push(h+O*B);return _},S=V(t.inboundProxies.length);t.inboundProxies.forEach((y,_)=>{l.push({id:`inbound-${y.id}`,name:y.id,symbolSize:40,category:0,value:y.enabled?1:0,itemStyle:{color:y.enabled?"#4CAF50":"#BDBDBD"},x:100,y:S[_],fixed:!0})});const k=V(t.userGroups.length);t.userGroups.forEach((y,_)=>{const E=`group-${y.id}`;l.push({id:E,name:y.id,symbolSize:40,category:1,itemStyle:{color:"#2196F3"},x:300,y:k[_],fixed:!0}),y.inboundProxyIds.forEach(h=>{d.push({source:`inbound-${h}`,target:E,value:1})})});const R=V(t.routeSchemes.length);t.routeSchemes.forEach((y,_)=>{var h;const E=`scheme-${y.id}`;l.push({id:E,name:y.id,symbolSize:40,category:2,itemStyle:{color:y.enabled?"#FF9800":"#BDBDBD"},x:500,y:R[_],fixed:!0}),(h=y.rules)==null||h.forEach(B=>{B.outbounds.forEach(L=>{d.push({source:E,info:"rule: "+B.priority+" - "+B.name,target:`outbound-${L}`,value:1})})})});const D=V(t.outboundProxies.length);t.outboundProxies.forEach((y,_)=>{l.push({id:`outbound-${y.id}`,name:y.id,symbolSize:40,category:3,value:y.enabled?1:0,itemStyle:{color:"#9C27B0"},x:700,y:D[_],fixed:!0})}),t.userGroups.forEach(y=>{const _=`scheme-${y.routeSchemeId}`;d.push({source:`group-${y.id}`,target:_,value:1})}),console.log("Generated nodes:",l),console.log("Generated links:",d),o.value.series[0].data=l,o.value.series[0].links=d},r=()=>{n()},u=()=>{console.log("Window resized, regenerating graph..."),n()};return Ve(()=>{window.addEventListener("resize",u),n()}),et(()=>{window.removeEventListener("resize",u)}),(l,d)=>{const b=T("el-button"),m=T("el-card");return F(),J(m,{shadow:"never",class:"network-graph"},{header:a(()=>[w("div",_a,[d[1]||(d[1]=w("span",null,"路由拓扑图",-1)),s(b,{type:"primary",onClick:r},{default:a(()=>d[0]||(d[0]=[C("刷新")])),_:1})])]),default:a(()=>[s(M(yo),{class:"chart",option:o.value,autoresize:""},null,8,["option"])]),_:1})}}}),Sa=Be(Ea,[["__scopeId","data-v-ec3d4b10"]]),xa={class:"integrated-management"},ka={key:0},Ra={key:1,class:"network-graph-container"},Ca={class:"main-tabs-container"},Pa={key:0},Ta={key:0},Fa={key:0},Aa={key:1},Oa={class:"dialog-footer"},Ua={key:1},Da={class:"dialog-footer"},Ia={class:"dialog-footer"},$a={class:"dialog-footer"},Va={class:"rules-header"},Ba={class:"dialog-footer"},Na={key:0},La={key:0,class:"qrcode-container"},qa={key:1},ja={class:"dialog-footer"},Ma=Pe({__name:"IntegratedManagement",setup(e){const t=P("inbound"),o=P("users"),n=ae({users:!0,inbound:!0,outbound:!0,groups:!0,routes:!0}),r=P([]),u=P([]),l=P([]),d=P([]),b=P([]),m=P(null),p=P(!1),v=P("add"),O=P(),V=P(null),S=P(!1),k=P("add"),R=P(),D=P(null),y=P("json"),_=P(!1),E=P("add"),h=P(),B=P(null),L=P(!1),K=P("add"),W=P(),ne=P(null),ie=P(!1),ue=P(!1),X=P("add"),he=P(),z=P(null),st=P(!1),Te=P(""),Je=P(!1),Se=ae({id:"",description:""}),te=ae({id:"",email:"",userGroupId:"",password:"",enabled:!0}),Z=ae({id:"",config:""}),de=ae({id:"",inboundProxyIds:[],routeSchemeId:""}),we=ae({id:"",description:"",enabled:!0}),Y=ae({name:"",type:"domain",pattern:"",priority:0,outbounds:[],enabled:!0}),Go={id:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],userGroupId:[{required:!0,message:"请选择用户组",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],enabled:[{required:!0,message:"请选择状态",trigger:"change"}]},Ho={id:[{required:!0,message:"请输入代理名称",trigger:"blur"}],config:[{required:!0,message:"请输入配置",trigger:"blur"}]},Jo={id:[{required:!0,message:"请输入用户组名称",trigger:"blur"}],inboundProxyIds:[{required:!0,message:"请选择入站代理",trigger:"change"}],routeSchemeId:[{required:!0,message:"请选择路由方案",trigger:"change"}]},jt={id:[{required:!0,message:"请输入方案名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]},Ko={name:[{required:!0,message:"请输入规则名称",trigger:"blur"}],type:[{required:!0,message:"请选择目的类型",trigger:"change"}],pattern:[{required:!0,message:"请输入匹配模式",trigger:"blur"}],outbounds:[{required:!0,message:"请选择出站代理",trigger:"change"}]};Ve(async()=>{await Promise.all([Ke(),We(),rt(),at(),ke()])});const Ke=async()=>{try{r.value=await Ee.getUsers()}catch(g){x.error("获取用户列表失败"),console.error(g)}finally{n.users=!1}},We=async()=>{try{u.value=await ge.getInboundProxies()}catch(g){x.error("获取入站代理列表失败"),console.error(g)}finally{n.inbound=!1}},rt=async()=>{try{l.value=await ge.getOutboundProxies()}catch(g){x.error("获取出站代理列表失败"),console.error(g)}finally{n.outbound=!1}},at=async()=>{try{d.value=await ut.getUserGroups()}catch(g){x.error("获取用户组列表失败"),console.error(g)}finally{n.groups=!1}},ke=async()=>{try{b.value=await ce.getRouteSchemes()}catch(g){x.error("获取路由方案列表失败"),console.error(g)}finally{n.routes=!1}},Wo=()=>{v.value="add",Object.assign(te,{id:"",email:"",userGroupId:"",password:"",enabled:!0}),p.value=!0},Xo=g=>{v.value="edit",V.value=g,Object.assign(te,{id:g.id,email:g.email,userGroupId:g.userGroupId,enabled:g.enabled}),p.value=!0},Zo=async g=>{try{g.enabled=!g.enabled,await Ee.updateUser(g.id,g)?(x.success("状态更新成功"),await Ke()):x.error("状态更新失败")}catch(i){x.error("状态更新失败"),console.error(i)}},Qo=async g=>{try{await je.confirm("确定要重置该用户的密码吗？","提示",{type:"warning"}),await Ee.resetPassword(g.id)?x.success("密码重置为用户名"):x.error("密码重置失败")}catch{}},Yo=async g=>{try{await je.confirm("确定要删除该用户吗？","提示",{type:"warning"}),await Ee.deleteUser(g.id)?(x.success("删除成功"),await Ke()):x.error("删除失败")}catch{}},en=async()=>{O.value&&await O.value.validate(async g=>{if(g)try{v.value==="add"?await Ee.createUser(te)?(x.success("添加成功"),p.value=!1,await Ke()):x.error("添加失败"):await Ee.updateUser(te.id,te)?(x.success("更新成功"),p.value=!1,await Ke()):x.error("更新失败")}catch(i){x.error(v.value==="add"?"添加失败":"更新失败"),console.error(i)}})},Mt=g=>{k.value="add",Object.assign(Z,{id:"",config:""}),S.value=!0},zt=(g,i)=>{k.value="edit",D.value=g,Object.assign(Z,{id:g.id,config:typeof g.config=="string"?g.config:JSON.stringify(g.config,null,2)}),S.value=!0},tn=async(g,i)=>{try{let I;i==="inbound"&&(I=await ge.updateInboundProxy(g.id,g)),I?(x.success("状态更新成功"),i==="inbound"&&await We()):(g.enabled=!g.enabled,x.error("状态更新失败"))}catch(I){g.enabled=!g.enabled,x.error("状态更新失败"),console.error(I)}},Gt=async(g,i)=>{try{await je.confirm("确定要删除该代理吗？","提示",{type:"warning"});let I;i==="inbound"?I=await ge.deleteInboundProxy(g.id):I=await ge.deleteOutboundProxy(g.id),I?(x.success("删除成功"),i==="inbound"?await We():await rt()):x.error("删除失败")}catch{}},on=async g=>{try{g.testing=!0;const i=await ge.testOutboundProxySpeed(g.id);g.latency=i.latency,x.success(`延迟测试完成：${i.latency}`)}catch(i){x.error("延迟测试失败"),console.error(i)}finally{g.testing=!1}},nn=async g=>{try{Te.value=g.linkConfig||"",st.value=!0}catch(i){x.error("获取连接配置失败"),console.error(i)}},sn=()=>{navigator.clipboard.writeText(Te.value),x.success("连接配置已复制到剪贴板")},rn=g=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(g)}`,an=async()=>{R.value&&await R.value.validate(async g=>{var i,I;try{JSON.parse(Z.config)}catch(A){x.error("配置格式错误"),console.error(A);return}if(g)try{let A=Z.config;if(k.value==="add"){let H;t.value==="inbound"?H=await ge.createInboundProxy({id:Z.id,enabled:!0,config:A}):H=await ge.createOutboundProxy({id:Z.id,enabled:!0,config:A}),H?(x.success("添加成功"),S.value=!1,await Promise.all([We(),rt()])):x.error("添加失败")}else{let H;t.value==="inbound"?H=await ge.updateInboundProxy(Z.id,{enabled:(i=D.value)==null?void 0:i.enabled,config:A}):H=await ge.updateOutboundProxy(Z.id,{enabled:(I=D.value)==null?void 0:I.enabled,config:A}),H?(x.success("更新成功"),S.value=!1,await Promise.all([We(),rt()])):x.error("更新失败")}}catch(A){x.error("更新配置失败"),console.error(A)}})},ln=()=>{E.value="add",Object.assign(de,{id:"",inboundProxyIds:[],routeSchemeId:""}),_.value=!0},un=g=>{E.value="edit",B.value=g,Object.assign(de,{id:g.id,inboundProxyIds:g.inboundProxyIds,routeSchemeId:g.routeSchemeId}),_.value=!0},dn=async g=>{try{await je.confirm("确定要删除该用户组吗？","提示",{type:"warning"}),await ut.deleteUserGroup(g.id)?(x.success("删除成功"),await at()):x.error("删除失败")}catch{}},cn=async()=>{h.value&&await h.value.validate(async g=>{if(g)try{E.value==="add"?await ut.createUserGroup(de)?(x.success("添加成功"),_.value=!1,await at()):x.error("添加失败"):await ut.updateUserGroup(de.id,de)?(x.success("更新成功"),_.value=!1,await at()):x.error("更新失败")}catch(i){x.error(E.value==="add"?"添加失败":"更新失败"),console.error(i)}})},fn=()=>{K.value="add",Object.assign(we,{id:"",description:"",enabled:!0}),L.value=!0},pn=g=>{K.value="edit",ne.value=g,Object.assign(we,{id:g.id,description:g.description,enabled:g.enabled}),L.value=!0},mn=g=>{ne.value=g,Se.id=`${g.id} 副本`,Se.description=`${g.description||""} (复制于 ${g.id})`,Je.value=!0},yn=async()=>{if(ne.value)try{const g=await ce.createRouteScheme({id:Se.id,description:Se.description,enabled:!1}),i=await ce.getRules(ne.value.id);if(i&&i.length>0)for(const I of i)await ce.addRule(g.id,{name:I.name,type:I.type,pattern:I.pattern,priority:I.priority||0,outbounds:I.outbounds,enabled:I.enabled||!0});x.success("复制方案成功"),Je.value=!1,await ke()}catch(g){console.error("复制方案失败",g),x.error("复制方案失败")}},gn=async g=>{try{await je.confirm("确定要删除该路由方案吗？","提示",{type:"warning"}),await ce.deleteRouteScheme(g.id),x.success("删除成功"),await ke()}catch(i){console.error("删除路由方案失败",i),x.error("删除路由方案失败")}},bn=async g=>{try{await ce.updateRouteScheme(g.id,{enabled:g.enabled}),x.success("更新成功"),await ke()}catch(i){g.enabled=!g.enabled,console.error("更新路由方案状态失败",i),x.error("更新路由方案状态失败")}},hn=async()=>{W.value&&await W.value.validate(async g=>{if(g)try{K.value==="add"?(await ce.createRouteScheme(we),x.success("添加成功")):(await ce.updateRouteScheme(we.id,we),x.success("更新成功")),L.value=!1,await ke()}catch(i){console.error("保存路由方案失败",i),x.error("保存路由方案失败")}})},wn=g=>{m.value=g,ie.value=!0},vn=()=>{X.value="add",Object.assign(Y,{name:"",type:"domain",pattern:"",priority:0,outbounds:[],enabled:!0}),ue.value=!0},_n=g=>{X.value="edit",z.value=g,Object.assign(Y,{name:g.name,type:g.type,pattern:g.pattern,priority:g.priority,outbounds:g.outbounds,enabled:g.enabled}),ue.value=!0},En=async g=>{try{if(await je.confirm("确定要删除该规则吗？","提示",{type:"warning"}),!m.value)return;await ce.deleteRule(m.value.id,g.id),x.success("删除成功"),await ke(),m.value=b.value.find(i=>{var I;return i.id===((I=m.value)==null?void 0:I.id)})||null}catch(i){console.error("删除规则失败",i),x.error("删除规则失败")}},Ht=async(g,i)=>{if(!m.value)return;const I=m.value.rules,A=I.findIndex(H=>H.id===g.id);i==="up"&&A>0?[I[A],I[A-1]]=[I[A-1],I[A]]:i==="down"&&A<I.length-1&&([I[A],I[A+1]]=[I[A+1],I[A]]);try{const H=I.map(pe=>pe.id);await ce.updateRuleOrder(m.value.id,H),x.success("规则顺序更新成功"),await ke(),m.value=b.value.find(pe=>{var $;return pe.id===(($=m.value)==null?void 0:$.id)})||null}catch(H){console.error("更新规则顺序失败",H),x.error("更新规则顺序失败")}},Sn=async()=>{!he.value||!m.value||await he.value.validate(async g=>{if(g)try{X.value==="add"?(await ce.addRule(m.value.id,Y),x.success("添加成功")):z.value&&(await ce.updateRule(m.value.id,z.value.id,{id:z.value.id,name:Y.name,type:Y.type,pattern:Y.pattern,priority:Y.priority,outbounds:Y.outbounds,enabled:Y.enabled}),x.success("更新成功")),ue.value=!1,await ke(),m.value=b.value.find(i=>{var I;return i.id===((I=m.value)==null?void 0:I.id)})||null}catch(i){console.error("保存规则失败",i),x.error("保存规则失败")}})},Jt=g=>d.value.filter(i=>i.routeSchemeId===g),xn=g=>({domain:"success",ip:"warning",geosite:"info",any:"danger"})[g]||"info",kn=g=>({domain:"域名",ip:"IP",geosite:"Geosite",any:"任何"})[g]||g,Rn=g=>{const i=g.target,I=i.selectionStart,A=i.selectionEnd;Z.config=Z.config.substring(0,I)+"    "+Z.config.substring(A),Ft(()=>{i.selectionStart=i.selectionEnd=I+4})},Cn=g=>{const i=g.target,I=i.selectionStart;i.selectionEnd;const H=Z.config.substring(0,I).split(`
`),pe=I-H[H.length-1].length;Z.config.substring(pe,I).match(/^    /)&&(Z.config=Z.config.substring(0,pe)+Z.config.substring(I),Ft(()=>{i.selectionStart=i.selectionEnd=pe}))};return(g,i)=>{var Kt;const I=T("el-empty"),A=T("el-table-column"),H=T("el-tag"),pe=T("el-switch"),$=T("el-button"),Ne=T("el-button-group"),Le=T("el-table"),Fe=T("el-tab-pane"),Et=T("el-tabs"),re=T("el-input"),ee=T("el-form-item"),Re=T("el-option"),Xe=T("el-select"),qe=T("el-form"),Ce=T("el-dialog"),Pn=T("el-image"),Ze=yt("loading");return F(),G("div",xa,[!n.routes&&!n.groups&&!n.inbound&&!n.outbound?(F(),G("div",ka,[s(Sa,{"inbound-proxies":u.value,"outbound-proxies":l.value,"user-groups":d.value,"route-schemes":b.value},null,8,["inbound-proxies","outbound-proxies","user-groups","route-schemes"])])):(F(),G("div",Ra,[s(I,{description:"数据加载中，请稍候..."})])),w("div",Ca,[s(Et,{modelValue:t.value,"onUpdate:modelValue":i[3]||(i[3]=c=>t.value=c),class:"management-tabs"},{default:a(()=>[s(Fe,{label:"入站代理",name:"inbound"},{default:a(()=>[fe((F(),J(Le,{data:u.value,style:{width:"100%"}},{default:a(()=>[s(A,{prop:"id",label:"代理名称"}),s(A,{prop:"scheme",label:"代理类型"}),s(A,{prop:"running",label:"运行状态"},{default:a(({row:c})=>[s(H,{type:c.running?"success":"danger"},{default:a(()=>[C(q(c.running?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),s(A,{prop:"enabled",label:"启用"},{default:a(({row:c})=>[s(pe,{modelValue:c.enabled,"onUpdate:modelValue":j=>c.enabled=j,onChange:j=>tn(c,"inbound")},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),s(A,{label:"操作",width:"300"},{header:a(()=>[s($,{type:"primary",onClick:i[0]||(i[0]=c=>Mt("inbound")),style:{width:"70%"}},{default:a(()=>i[38]||(i[38]=[C(" 添加入站代理 ")])),_:1})]),default:a(({row:c})=>[s(Ne,null,{default:a(()=>[s($,{size:"small",type:"success",onClick:j=>nn(c)},{default:a(()=>i[39]||(i[39]=[C(" 获取连接配置 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"primary",onClick:j=>zt(c,"inbound")},{default:a(()=>i[40]||(i[40]=[C(" 编辑 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"danger",onClick:j=>Gt(c,"inbound")},{default:a(()=>i[41]||(i[41]=[C(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.inbound]])]),_:1}),s(Fe,{label:"用户管理",name:"user_manage"},{default:a(()=>[s(Et,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=c=>o.value=c)},{default:a(()=>[s(Fe,{label:"用户",name:"users"},{default:a(()=>[fe((F(),J(Le,{data:r.value,style:{width:"100%"}},{default:a(()=>[s(A,{prop:"id",label:"用户名"}),s(A,{prop:"email",label:"邮箱"}),s(A,{prop:"userGroupId",label:"用户组"}),s(A,{prop:"enabled",label:"状态"},{default:a(({row:c})=>[s(H,{type:c.enabled?"success":"danger"},{default:a(()=>[C(q(c.enabled?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),s(A,{label:"操作",width:"300"},{header:a(()=>[s($,{type:"primary",onClick:Wo,style:{width:"75%"}},{default:a(()=>i[42]||(i[42]=[C(" 添加用户 ")])),_:1})]),default:a(({row:c})=>[s(Ne,null,{default:a(()=>[s($,{size:"small",type:c.enabled?"danger":"success",onClick:j=>Zo(c)},{default:a(()=>[C(q(c.enabled?"禁用":"启用"),1)]),_:2},1032,["type","onClick"]),s($,{size:"small",type:"primary",onClick:j=>Xo(c)},{default:a(()=>i[43]||(i[43]=[C(" 编辑 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"warning",onClick:j=>Qo(c)},{default:a(()=>i[44]||(i[44]=[C(" 重置密码 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"danger",onClick:j=>Yo(c)},{default:a(()=>i[45]||(i[45]=[C(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.users]])]),_:1}),s(Fe,{label:"用户组",name:"groups"},{default:a(()=>[fe((F(),J(Le,{data:d.value,style:{width:"100%"}},{default:a(()=>[s(A,{prop:"id",label:"名称"}),s(A,{label:"关联入站代理"},{default:a(({row:c})=>[(F(!0),G(_e,null,Oe(c.inboundProxyIds,j=>(F(),J(H,{key:j,class:"mx-1",type:"success",style:{"margin-right":"4px"}},{default:a(()=>[C(q(j),1)]),_:2},1024))),128)),!c.inboundProxyIds||c.inboundProxyIds.length===0?(F(),G("span",Pa,"无")):xe("",!0)]),_:1}),s(A,{label:"路由方案"},{default:a(({row:c})=>[s(H,{type:"info"},{default:a(()=>[C(q(c.routeSchemeId),1)]),_:2},1024)]),_:1}),s(A,{label:"用户数"},{default:a(({row:c})=>[s(H,{type:"warning"},{default:a(()=>[C(q(c.userCount||0)+"人",1)]),_:2},1024)]),_:1}),s(A,{label:"操作",width:"200"},{header:a(()=>[s($,{type:"primary",onClick:ln},{default:a(()=>i[46]||(i[46]=[C("添加用户组")])),_:1})]),default:a(({row:c})=>[s(Ne,null,{default:a(()=>[s($,{size:"small",onClick:j=>un(c)},{default:a(()=>i[47]||(i[47]=[C("编辑")])),_:2},1032,["onClick"]),s($,{size:"small",type:"danger",onClick:j=>dn(c)},{default:a(()=>i[48]||(i[48]=[C("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.groups]])]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(Fe,{label:"路由管理",name:"routes"},{default:a(()=>[fe((F(),J(Le,{data:b.value,style:{width:"100%"}},{default:a(()=>[s(A,{prop:"id",label:"方案名称"}),s(A,{prop:"description",label:"描述"}),s(A,{prop:"enabled",label:"状态"},{default:a(({row:c})=>[s(pe,{modelValue:c.enabled,"onUpdate:modelValue":j=>c.enabled=j,onChange:j=>bn(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),s(A,{label:"关联用户组"},{default:a(({row:c})=>[(F(!0),G(_e,null,Oe(Jt(c.id),j=>(F(),J(H,{key:j.id,class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[C(q(j.id)+" ("+q(j.userCount||0)+") ",1)]),_:2},1024))),128)),Jt(c.id).length===0?(F(),G("span",Ta,"无")):xe("",!0)]),_:1}),s(A,{label:"操作",width:"300"},{header:a(()=>[s($,{type:"primary",onClick:fn,style:{width:"75%"}},{default:a(()=>i[49]||(i[49]=[C(" 添加路由方案 ")])),_:1})]),default:a(({row:c})=>[s(Ne,null,{default:a(()=>[s($,{size:"small",type:"primary",onClick:j=>wn(c)},{default:a(()=>i[50]||(i[50]=[C(" 查看规则 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"success",onClick:j=>pn(c)},{default:a(()=>i[51]||(i[51]=[C(" 编辑 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"info",onClick:j=>mn(c)},{default:a(()=>i[52]||(i[52]=[C(" 复制 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"danger",onClick:j=>gn(c)},{default:a(()=>i[53]||(i[53]=[C(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.routes]])]),_:1}),s(Fe,{label:"出站代理",name:"outbound"},{default:a(()=>[fe((F(),J(Le,{data:l.value,style:{width:"100%"}},{default:a(()=>[s(A,{prop:"id",label:"代理名称"}),s(A,{prop:"scheme",label:"代理类型"}),s(A,{label:"延迟"},{default:a(({row:c})=>[c.latency!==void 0?(F(),G("span",Fa,q(c.latency),1)):(F(),G("span",Aa,"-"))]),_:1}),s(A,{label:"操作",width:"250"},{header:a(()=>[s($,{type:"primary",onClick:i[2]||(i[2]=c=>Mt("outbound")),style:{width:"75%"}},{default:a(()=>i[54]||(i[54]=[C(" 添加出站代理 ")])),_:1})]),default:a(({row:c})=>[s(Ne,null,{default:a(()=>[s($,{size:"small",type:"warning",onClick:j=>on(c),loading:c.testing},{default:a(()=>i[55]||(i[55]=[C(" 测试延迟 ")])),_:2},1032,["onClick","loading"]),s($,{size:"small",type:"primary",onClick:j=>zt(c,"outbound")},{default:a(()=>i[56]||(i[56]=[C(" 编辑 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"danger",onClick:j=>Gt(c,"outbound")},{default:a(()=>i[57]||(i[57]=[C(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,n.outbound]])]),_:1})]),_:1},8,["modelValue"])]),s(Ce,{modelValue:p.value,"onUpdate:modelValue":i[10]||(i[10]=c=>p.value=c),title:v.value==="add"?"添加用户":"编辑用户",width:"500px"},{footer:a(()=>[w("span",Oa,[s($,{onClick:i[9]||(i[9]=c=>p.value=!1)},{default:a(()=>i[58]||(i[58]=[C("取消")])),_:1}),s($,{type:"primary",onClick:en},{default:a(()=>i[59]||(i[59]=[C(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref_key:"userFormRef",ref:O,model:te,rules:Go,"label-width":"100px"},{default:a(()=>[s(ee,{label:"用户名",prop:"id"},{default:a(()=>[s(re,{modelValue:te.id,"onUpdate:modelValue":i[4]||(i[4]=c=>te.id=c),disabled:v.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(ee,{label:"邮箱",prop:"email"},{default:a(()=>[s(re,{modelValue:te.email,"onUpdate:modelValue":i[5]||(i[5]=c=>te.email=c)},null,8,["modelValue"])]),_:1}),s(ee,{label:"用户组",prop:"userGroupId"},{default:a(()=>[s(Xe,{modelValue:te.userGroupId,"onUpdate:modelValue":i[6]||(i[6]=c=>te.userGroupId=c),placeholder:"请选择用户组"},{default:a(()=>[(F(!0),G(_e,null,Oe(d.value,c=>(F(),J(Re,{key:c.id,label:c.id,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),v.value==="add"?(F(),J(ee,{key:0,label:"密码",prop:"password"},{default:a(()=>[s(re,{modelValue:te.password,"onUpdate:modelValue":i[7]||(i[7]=c=>te.password=c),type:"password","show-password":"",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1})):xe("",!0),s(ee,{label:"状态",prop:"enabled"},{default:a(()=>[s(pe,{modelValue:te.enabled,"onUpdate:modelValue":i[8]||(i[8]=c=>te.enabled=c),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:S.value,"onUpdate:modelValue":i[15]||(i[15]=c=>S.value=c),title:k.value==="add"?"添加代理":"编辑代理",width:"500px"},{footer:a(()=>[w("span",Da,[s($,{onClick:i[14]||(i[14]=c=>S.value=!1)},{default:a(()=>i[60]||(i[60]=[C("取消")])),_:1}),s($,{type:"primary",onClick:an},{default:a(()=>i[61]||(i[61]=[C(" 确定 ")])),_:1})])]),default:a(()=>[k.value==="add"?(F(),J(Et,{key:0,modelValue:y.value,"onUpdate:modelValue":i[11]||(i[11]=c=>y.value=c)},{default:a(()=>[s(Fe,{label:"JSON导入",name:"json"})]),_:1},8,["modelValue"])):xe("",!0),y.value==="json"||k.value==="edit"?(F(),G("div",Ua,[s(qe,{ref_key:"proxyFormRef",ref:R,model:Z,rules:Ho},{default:a(()=>[s(ee,{label:"名称",prop:"id"},{default:a(()=>[s(re,{modelValue:Z.id,"onUpdate:modelValue":i[12]||(i[12]=c=>Z.id=c),type:"textarea",rows:1,disabled:k.value==="edit",placeholder:"请输入代理名称"},null,8,["modelValue","disabled"])]),_:1}),s(ee,{label:"配置",prop:"config"},{default:a(()=>[s(re,{modelValue:Z.config,"onUpdate:modelValue":i[13]||(i[13]=c=>Z.config=c),type:"textarea",rows:10,placeholder:"请输入JSON配置",onKeydown:[Pt(Xt(Rn,["prevent"]),["tab"]),Pt(Xt(Cn,["shift","prevent"]),["tab"])]},null,8,["modelValue","onKeydown"])]),_:1})]),_:1},8,["model"])])):xe("",!0)]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:_.value,"onUpdate:modelValue":i[20]||(i[20]=c=>_.value=c),title:E.value==="add"?"添加用户组":"编辑用户组",width:"500px"},{footer:a(()=>[w("span",Ia,[s($,{onClick:i[19]||(i[19]=c=>_.value=!1)},{default:a(()=>i[62]||(i[62]=[C("取消")])),_:1}),s($,{type:"primary",onClick:cn},{default:a(()=>i[63]||(i[63]=[C(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref_key:"groupFormRef",ref:h,model:de,rules:Jo,"label-width":"100px"},{default:a(()=>[s(ee,{label:"名称",prop:"id"},{default:a(()=>[s(re,{modelValue:de.id,"onUpdate:modelValue":i[16]||(i[16]=c=>de.id=c),disabled:E.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(ee,{label:"入站代理",prop:"inboundProxyIds"},{default:a(()=>[s(Xe,{modelValue:de.inboundProxyIds,"onUpdate:modelValue":i[17]||(i[17]=c=>de.inboundProxyIds=c),multiple:"",placeholder:"请选择入站代理"},{default:a(()=>[(F(!0),G(_e,null,Oe(u.value,c=>(F(),J(Re,{key:c.id,label:c.id,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(ee,{label:"路由方案",prop:"routeSchemeId"},{default:a(()=>[s(Xe,{modelValue:de.routeSchemeId,"onUpdate:modelValue":i[18]||(i[18]=c=>de.routeSchemeId=c),placeholder:"请选择路由方案"},{default:a(()=>[(F(!0),G(_e,null,Oe(b.value,c=>(F(),J(Re,{key:c.id,label:c.id,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:L.value,"onUpdate:modelValue":i[24]||(i[24]=c=>L.value=c),title:K.value==="add"?"添加方案":"编辑方案",width:"500px"},{footer:a(()=>[w("span",$a,[s($,{onClick:i[23]||(i[23]=c=>L.value=!1)},{default:a(()=>i[64]||(i[64]=[C("取消")])),_:1}),s($,{type:"primary",onClick:hn},{default:a(()=>i[65]||(i[65]=[C(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref_key:"schemeFormRef",ref:W,model:we,rules:jt,"label-width":"100px"},{default:a(()=>[s(ee,{label:"方案名称",prop:"id"},{default:a(()=>[s(re,{modelValue:we.id,"onUpdate:modelValue":i[21]||(i[21]=c=>we.id=c),disabled:K.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(ee,{label:"描述",prop:"description"},{default:a(()=>[s(re,{modelValue:we.description,"onUpdate:modelValue":i[22]||(i[22]=c=>we.description=c),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:ie.value,"onUpdate:modelValue":i[25]||(i[25]=c=>ie.value=c),title:((Kt=m.value)==null?void 0:Kt.id)+" - 路由规则",width:"800px"},{default:a(()=>{var c,j;return[w("div",Va,[s($,{type:"primary",onClick:vn},{default:a(()=>i[66]||(i[66]=[C("添加规则")])),_:1})]),s(Le,{data:((j=(c=m.value)==null?void 0:c.rules)==null?void 0:j.sort((me,Ae)=>(me.priority||0)-(Ae.priority||0)))||[],style:{width:"100%"}},{default:a(()=>[s(A,{type:"index",label:"序号",width:"80"}),s(A,{prop:"name",label:"规则名称"}),s(A,{prop:"type",label:"目的类型"},{default:a(({row:me})=>[s(H,{type:xn(me.type)},{default:a(()=>[C(q(kn(me.type)),1)]),_:2},1032,["type"])]),_:1}),s(A,{prop:"pattern",label:"匹配模式"}),s(A,{prop:"outbounds",label:"出站代理"},{default:a(({row:me})=>[(F(!0),G(_e,null,Oe(me.outbounds,Ae=>(F(),J(H,{key:Ae,class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[C(q(Ae),1)]),_:2},1024))),128))]),_:1}),s(A,{label:"操作",width:"150"},{default:a(({row:me,$index:Ae})=>[s(Ne,null,{default:a(()=>{var Wt;return[s($,{size:"small",type:"primary",onClick:St=>_n(me)},{default:a(()=>i[67]||(i[67]=[C(" 编辑 ")])),_:2},1032,["onClick"]),s($,{size:"small",type:"danger",onClick:St=>En(me)},{default:a(()=>i[68]||(i[68]=[C(" 删除 ")])),_:2},1032,["onClick"]),s($,{size:"small",disabled:Ae===0,onClick:St=>Ht(me,"up")},{default:a(()=>i[69]||(i[69]=[C(" ↑ ")])),_:2},1032,["disabled","onClick"]),s($,{size:"small",disabled:Ae===(((Wt=m.value)==null?void 0:Wt.rules.length)||0)-1,onClick:St=>Ht(me,"down")},{default:a(()=>i[70]||(i[70]=[C(" ↓ ")])),_:2},1032,["disabled","onClick"])]}),_:2},1024)]),_:1})]),_:1},8,["data"])]}),_:1},8,["modelValue","title"]),s(Ce,{modelValue:ue.value,"onUpdate:modelValue":i[31]||(i[31]=c=>ue.value=c),title:X.value==="add"?"添加规则":"编辑规则",width:"500px"},{footer:a(()=>[w("span",Ba,[s($,{onClick:i[30]||(i[30]=c=>ue.value=!1)},{default:a(()=>i[71]||(i[71]=[C("取消")])),_:1}),s($,{type:"primary",onClick:Sn},{default:a(()=>i[72]||(i[72]=[C(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref_key:"ruleFormRef",ref:he,model:Y,rules:Ko,"label-width":"100px"},{default:a(()=>[s(ee,{label:"规则名称",prop:"name"},{default:a(()=>[s(re,{modelValue:Y.name,"onUpdate:modelValue":i[26]||(i[26]=c=>Y.name=c)},null,8,["modelValue"])]),_:1}),s(ee,{label:"目的类型",prop:"type"},{default:a(()=>[s(Xe,{modelValue:Y.type,"onUpdate:modelValue":i[27]||(i[27]=c=>Y.type=c),placeholder:"请选择目的类型"},{default:a(()=>[s(Re,{label:"域名",value:"domain"}),s(Re,{label:"IP",value:"ip"}),s(Re,{label:"Geosite",value:"geosite"}),s(Re,{label:"任何",value:"any"})]),_:1},8,["modelValue"])]),_:1}),s(ee,{label:"匹配模式",prop:"pattern"},{default:a(()=>[s(re,{modelValue:Y.pattern,"onUpdate:modelValue":i[28]||(i[28]=c=>Y.pattern=c)},null,8,["modelValue"])]),_:1}),s(ee,{label:"出站代理",prop:"outbounds"},{default:a(()=>[s(Xe,{modelValue:Y.outbounds,"onUpdate:modelValue":i[29]||(i[29]=c=>Y.outbounds=c),multiple:"",placeholder:"请选择出站代理"},{default:a(()=>[(F(!0),G(_e,null,Oe(l.value,c=>(F(),J(Re,{key:c.id,label:c.id,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:st.value,"onUpdate:modelValue":i[33]||(i[33]=c=>st.value=c),title:"连接配置",width:"500px"},{default:a(()=>[Te.value?(F(),G("div",Na,[s(re,{readonly:"",rows:10,type:"textarea",modelValue:Te.value,"onUpdate:modelValue":i[32]||(i[32]=c=>Te.value=c)},null,8,["modelValue"]),s($,{onClick:sn,type:"primary",style:{width:"100%"}},{default:a(()=>i[73]||(i[73]=[C("复制")])),_:1}),Te.value?(F(),G("div",La,[s(Pn,{src:rn(Te.value),fit:"contain",style:{width:"200px",height:"200px"}},null,8,["src"])])):xe("",!0)])):(F(),G("div",qa,[s(I,{description:"获取链接失败"})]))]),_:1},8,["modelValue"]),s(Ce,{modelValue:Je.value,"onUpdate:modelValue":i[37]||(i[37]=c=>Je.value=c),title:"复制路由方案",width:"500px"},{footer:a(()=>[w("span",ja,[s($,{onClick:i[36]||(i[36]=c=>Je.value=!1)},{default:a(()=>i[74]||(i[74]=[C("取消")])),_:1}),s($,{type:"primary",onClick:yn},{default:a(()=>i[75]||(i[75]=[C(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref:"copySchemeFormRef",model:Se,rules:jt,"label-width":"100px"},{default:a(()=>[s(ee,{label:"方案名称",prop:"id"},{default:a(()=>[s(re,{modelValue:Se.id,"onUpdate:modelValue":i[34]||(i[34]=c=>Se.id=c)},null,8,["modelValue"])]),_:1}),s(ee,{label:"描述",prop:"description"},{default:a(()=>[s(re,{modelValue:Se.description,"onUpdate:modelValue":i[35]||(i[35]=c=>Se.description=c),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),za=Be(Ma,[["__scopeId","data-v-536c7130"]]),Ga=[{path:"/login",name:"Login",component:Lr,meta:{requiresAuth:!1}},{path:"/",component:Ir,meta:{requiresAuth:!0},children:[{path:"",name:"Dashboard",component:Qr,meta:{adminOnly:!0}},{path:"system",name:"System",component:oa,meta:{adminOnly:!0}},{path:"my-proxies",name:"UserProxies",component:va,meta:{adminOnly:!1}},{path:"/integrated",name:"IntegratedManagement",component:za,meta:{adminOnly:!0}}]}],zo=Un({history:Dn(),routes:Ga});zo.beforeEach(async(e,t,o)=>{const n=localStorage.getItem("userGroupId");console.log("userGroupId",n),console.log("to.meta.requiresAuth",e.path),e.matched.length<1&&o("/login"),e.meta.requiresAuth?n==null?o("/login"):e.meta.adminOnly?n=="管理员"?o():o("/my-proxies"):o():e.path=="/login"&&n!=null?o("/"):o()});/*! Element Plus v2.9.6 */var Ha={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const nt=In(Hn);for(const[e,t]of Object.entries(qn))nt.component(e,t);nt.use($n());nt.use(zo);nt.use(jn,{locale:Ha});const Ja=async()=>{try{const e=await ze.getSystemName();document.title=e.systemName||"ZIP管理面板"}catch(e){console.error("获取系统名称失败",e),document.title="ZIP管理面板"}};Ja();nt.mount("#app");
//# sourceMappingURL=index-CFUEgHn8.js.map
