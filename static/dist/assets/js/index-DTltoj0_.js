import{d as Pe,G as J,ag as T,o as F,aw as To,r as P,X as re,m as Ie,S as et,c as G,P as s,H as a,O as ve,a as h,J as xe,D as pe,I as de,u as z,M as q,ax as Fo,Q as Ao,L as k,ay as pn,a4 as Pt,b as Oo,p as Tt,aq as yt,n as Ft,a6 as Oe,V as Xt,az as Uo,aA as Do,at as $o,aB as Vo}from"./vue-core-grCPbCnX.js";import{m as Io,c as xt,d as Zt,s as lt,u as At,a as Bo,b as Qt,E as x,l as No,r as Lo,e as je,f as qo,i as jo}from"./element-plus-BgKziJp-.js";import{u as mn,E as yn,i as gn,a as zo,b as bn,c as hn,d as wn,e as Mo,f as Go}from"./echarts-ECTwgUBz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();const Ho=Pe({__name:"App",setup(e){return(t,n)=>{const o=T("router-view");return F(),J(o)}}});function vn(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jo}=Object.prototype,{getPrototypeOf:Bt}=Object,gt=(e=>t=>{const n=Jo.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ye=e=>(e=e.toLowerCase(),t=>gt(t)===e),bt=e=>t=>typeof t===e,{isArray:Ge}=Array,Ye=bt("undefined");function Ko(e){return e!==null&&!Ye(e)&&e.constructor!==null&&!Ye(e.constructor)&&ae(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _n=ye("ArrayBuffer");function Wo(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_n(e.buffer),t}const Xo=bt("string"),ae=bt("function"),En=bt("number"),ht=e=>e!==null&&typeof e=="object",Zo=e=>e===!0||e===!1,dt=e=>{if(gt(e)!=="object")return!1;const t=Bt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qo=ye("Date"),Yo=ye("File"),es=ye("Blob"),ts=ye("FileList"),ns=e=>ht(e)&&ae(e.pipe),os=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ae(e.append)&&((t=gt(e))==="formdata"||t==="object"&&ae(e.toString)&&e.toString()==="[object FormData]"))},ss=ye("URLSearchParams"),[rs,as,ls,is]=["ReadableStream","Request","Response","Headers"].map(ye),us=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tt(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,r;if(typeof e!="object"&&(e=[e]),Ge(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;let d;for(o=0;o<l;o++)d=u[o],t.call(null,e[d],d,e)}}function Sn(e,t){t=t.toLowerCase();const n=Object.keys(e);let o=n.length,r;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const De=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xn=e=>!Ye(e)&&e!==De;function Ot(){const{caseless:e}=xn(this)&&this||{},t={},n=(o,r)=>{const u=e&&Sn(t,r)||r;dt(t[u])&&dt(o)?t[u]=Ot(t[u],o):dt(o)?t[u]=Ot({},o):Ge(o)?t[u]=o.slice():t[u]=o};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&tt(arguments[o],n);return t}const ds=(e,t,n,{allOwnKeys:o}={})=>(tt(t,(r,u)=>{n&&ae(r)?e[u]=vn(r,n):e[u]=r},{allOwnKeys:o}),e),cs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fs=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ps=(e,t,n,o)=>{let r,u,l;const d={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),u=r.length;u-- >0;)l=r[u],(!o||o(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&Bt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ms=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},ys=e=>{if(!e)return null;if(Ge(e))return e;let t=e.length;if(!En(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},gs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Bt(Uint8Array)),bs=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=o.next())&&!r.done;){const u=r.value;t.call(e,u[0],u[1])}},hs=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},ws=ye("HTMLFormElement"),vs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,r){return o.toUpperCase()+r}),Yt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_s=ye("RegExp"),Rn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};tt(n,(r,u)=>{let l;(l=t(r,u,e))!==!1&&(o[u]=l||r)}),Object.defineProperties(e,o)},Es=e=>{Rn(e,(t,n)=>{if(ae(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(ae(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ss=(e,t)=>{const n={},o=r=>{r.forEach(u=>{n[u]=!0})};return Ge(e)?o(e):o(String(e).split(t)),n},xs=()=>{},Rs=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ks(e){return!!(e&&ae(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Cs=e=>{const t=new Array(10),n=(o,r)=>{if(ht(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[r]=o;const u=Ge(o)?[]:{};return tt(o,(l,d)=>{const b=n(l,r+1);!Ye(b)&&(u[d]=b)}),t[r]=void 0,u}}return o};return n(e,0)},Ps=ye("AsyncFunction"),Ts=e=>e&&(ht(e)||ae(e))&&ae(e.then)&&ae(e.catch),kn=((e,t)=>e?setImmediate:t?((n,o)=>(De.addEventListener("message",({source:r,data:u})=>{r===De&&u===n&&o.length&&o.shift()()},!1),r=>{o.push(r),De.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ae(De.postMessage)),Fs=typeof queueMicrotask<"u"?queueMicrotask.bind(De):typeof process<"u"&&process.nextTick||kn,p={isArray:Ge,isArrayBuffer:_n,isBuffer:Ko,isFormData:os,isArrayBufferView:Wo,isString:Xo,isNumber:En,isBoolean:Zo,isObject:ht,isPlainObject:dt,isReadableStream:rs,isRequest:as,isResponse:ls,isHeaders:is,isUndefined:Ye,isDate:Qo,isFile:Yo,isBlob:es,isRegExp:_s,isFunction:ae,isStream:ns,isURLSearchParams:ss,isTypedArray:gs,isFileList:ts,forEach:tt,merge:Ot,extend:ds,trim:us,stripBOM:cs,inherits:fs,toFlatObject:ps,kindOf:gt,kindOfTest:ye,endsWith:ms,toArray:ys,forEachEntry:bs,matchAll:hs,isHTMLForm:ws,hasOwnProperty:Yt,hasOwnProp:Yt,reduceDescriptors:Rn,freezeMethods:Es,toObjectSet:Ss,toCamelCase:vs,noop:xs,toFiniteNumber:Rs,findKey:Sn,global:De,isContextDefined:xn,isSpecCompliantForm:ks,toJSONObject:Cs,isAsyncFn:Ps,isThenable:Ts,setImmediate:kn,asap:Fs};function N(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}p.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.status}}});const Cn=N.prototype,Pn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Pn[e]={value:e}});Object.defineProperties(N,Pn);Object.defineProperty(Cn,"isAxiosError",{value:!0});N.from=(e,t,n,o,r,u)=>{const l=Object.create(Cn);return p.toFlatObject(e,l,function(b){return b!==Error.prototype},d=>d!=="isAxiosError"),N.call(l,e.message,t,n,o,r),l.cause=e,l.name=e.name,u&&Object.assign(l,u),l};const As=null;function Ut(e){return p.isPlainObject(e)||p.isArray(e)}function Tn(e){return p.endsWith(e,"[]")?e.slice(0,-2):e}function en(e,t,n){return e?e.concat(t).map(function(r,u){return r=Tn(r),!n&&u?"["+r+"]":r}).join(n?".":""):t}function Os(e){return p.isArray(e)&&!e.some(Ut)}const Us=p.toFlatObject(p,{},null,function(t){return/^is[A-Z]/.test(t)});function wt(e,t,n){if(!p.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=p.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,R){return!p.isUndefined(R[E])});const o=n.metaTokens,r=n.visitor||m,u=n.dots,l=n.indexes,b=(n.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(t);if(!p.isFunction(r))throw new TypeError("visitor must be a function");function y(_){if(_===null)return"";if(p.isDate(_))return _.toISOString();if(!b&&p.isBlob(_))throw new N("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(_)||p.isTypedArray(_)?b&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,E,R){let S=_;if(_&&!R&&typeof _=="object"){if(p.endsWith(E,"{}"))E=o?E:E.slice(0,-2),_=JSON.stringify(_);else if(p.isArray(_)&&Os(_)||(p.isFileList(_)||p.endsWith(E,"[]"))&&(S=p.toArray(_)))return E=Tn(E),S.forEach(function(C,O){!(p.isUndefined(C)||C===null)&&t.append(l===!0?en([E],O,u):l===null?E:E+"[]",y(C))}),!1}return Ut(_)?!0:(t.append(en(R,E,u),y(_)),!1)}const v=[],A=Object.assign(Us,{defaultVisitor:m,convertValue:y,isVisitable:Ut});function I(_,E){if(!p.isUndefined(_)){if(v.indexOf(_)!==-1)throw Error("Circular reference detected in "+E.join("."));v.push(_),p.forEach(_,function(S,c){(!(p.isUndefined(S)||S===null)&&r.call(t,S,p.isString(c)?c.trim():c,E,A))===!0&&I(S,E?E.concat(c):[c])}),v.pop()}}if(!p.isObject(e))throw new TypeError("data must be an object");return I(e),t}function tn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Nt(e,t){this._pairs=[],e&&wt(e,this,t)}const Fn=Nt.prototype;Fn.append=function(t,n){this._pairs.push([t,n])};Fn.toString=function(t){const n=t?function(o){return t.call(this,o,tn)}:tn;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Ds(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function An(e,t,n){if(!t)return e;const o=n&&n.encode||Ds;p.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let u;if(r?u=r(t,n):u=p.isURLSearchParams(t)?t.toString():new Nt(t,n).toString(o),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class nn{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){p.forEach(this.handlers,function(o){o!==null&&t(o)})}}const On={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$s=typeof URLSearchParams<"u"?URLSearchParams:Nt,Vs=typeof FormData<"u"?FormData:null,Is=typeof Blob<"u"?Blob:null,Bs={isBrowser:!0,classes:{URLSearchParams:$s,FormData:Vs,Blob:Is},protocols:["http","https","file","blob","url","data"]},Lt=typeof window<"u"&&typeof document<"u",Dt=typeof navigator=="object"&&navigator||void 0,Ns=Lt&&(!Dt||["ReactNative","NativeScript","NS"].indexOf(Dt.product)<0),Ls=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qs=Lt&&window.location.href||"http://localhost",js=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lt,hasStandardBrowserEnv:Ns,hasStandardBrowserWebWorkerEnv:Ls,navigator:Dt,origin:qs},Symbol.toStringTag,{value:"Module"})),te={...js,...Bs};function zs(e,t){return wt(e,new te.classes.URLSearchParams,Object.assign({visitor:function(n,o,r,u){return te.isNode&&p.isBuffer(n)?(this.append(o,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function Ms(e){return p.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gs(e){const t={},n=Object.keys(e);let o;const r=n.length;let u;for(o=0;o<r;o++)u=n[o],t[u]=e[u];return t}function Un(e){function t(n,o,r,u){let l=n[u++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),b=u>=n.length;return l=!l&&p.isArray(r)?r.length:l,b?(p.hasOwnProp(r,l)?r[l]=[r[l],o]:r[l]=o,!d):((!r[l]||!p.isObject(r[l]))&&(r[l]=[]),t(n,o,r[l],u)&&p.isArray(r[l])&&(r[l]=Gs(r[l])),!d)}if(p.isFormData(e)&&p.isFunction(e.entries)){const n={};return p.forEachEntry(e,(o,r)=>{t(Ms(o),r,n,0)}),n}return null}function Hs(e,t,n){if(p.isString(e))try{return(t||JSON.parse)(e),p.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const nt={transitional:On,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",r=o.indexOf("application/json")>-1,u=p.isObject(t);if(u&&p.isHTMLForm(t)&&(t=new FormData(t)),p.isFormData(t))return r?JSON.stringify(Un(t)):t;if(p.isArrayBuffer(t)||p.isBuffer(t)||p.isStream(t)||p.isFile(t)||p.isBlob(t)||p.isReadableStream(t))return t;if(p.isArrayBufferView(t))return t.buffer;if(p.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return zs(t,this.formSerializer).toString();if((d=p.isFileList(t))||o.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return wt(d?{"files[]":t}:t,b&&new b,this.formSerializer)}}return u||r?(n.setContentType("application/json",!1),Hs(t)):t}],transformResponse:[function(t){const n=this.transitional||nt.transitional,o=n&&n.forcedJSONParsing,r=this.responseType==="json";if(p.isResponse(t)||p.isReadableStream(t))return t;if(t&&p.isString(t)&&(o&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?N.from(d,N.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:te.classes.FormData,Blob:te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],e=>{nt.headers[e]={}});const Js=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ks=e=>{const t={};let n,o,r;return e&&e.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),o=l.substring(r+1).trim(),!(!n||t[n]&&Js[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},on=Symbol("internals");function Qe(e){return e&&String(e).trim().toLowerCase()}function ct(e){return e===!1||e==null?e:p.isArray(e)?e.map(ct):String(e)}function Ws(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const Xs=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rt(e,t,n,o,r){if(p.isFunction(o))return o.call(this,t,n);if(r&&(t=n),!!p.isString(t)){if(p.isString(o))return t.indexOf(o)!==-1;if(p.isRegExp(o))return o.test(t)}}function Zs(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function Qs(e,t){const n=p.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(r,u,l){return this[o].call(this,t,r,u,l)},configurable:!0})})}let ne=class{constructor(t){t&&this.set(t)}set(t,n,o){const r=this;function u(d,b,y){const m=Qe(b);if(!m)throw new Error("header name must be a non-empty string");const v=p.findKey(r,m);(!v||r[v]===void 0||y===!0||y===void 0&&r[v]!==!1)&&(r[v||b]=ct(d))}const l=(d,b)=>p.forEach(d,(y,m)=>u(y,m,b));if(p.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(p.isString(t)&&(t=t.trim())&&!Xs(t))l(Ks(t),n);else if(p.isHeaders(t))for(const[d,b]of t.entries())u(b,d,o);else t!=null&&u(n,t,o);return this}get(t,n){if(t=Qe(t),t){const o=p.findKey(this,t);if(o){const r=this[o];if(!n)return r;if(n===!0)return Ws(r);if(p.isFunction(n))return n.call(this,r,o);if(p.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Qe(t),t){const o=p.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||Rt(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let r=!1;function u(l){if(l=Qe(l),l){const d=p.findKey(o,l);d&&(!n||Rt(o,o[d],d,n))&&(delete o[d],r=!0)}}return p.isArray(t)?t.forEach(u):u(t),r}clear(t){const n=Object.keys(this);let o=n.length,r=!1;for(;o--;){const u=n[o];(!t||Rt(this,this[u],u,t,!0))&&(delete this[u],r=!0)}return r}normalize(t){const n=this,o={};return p.forEach(this,(r,u)=>{const l=p.findKey(o,u);if(l){n[l]=ct(r),delete n[u];return}const d=t?Zs(u):String(u).trim();d!==u&&delete n[u],n[d]=ct(r),o[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return p.forEach(this,(o,r)=>{o!=null&&o!==!1&&(n[r]=t&&p.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(r=>o.set(r)),o}static accessor(t){const o=(this[on]=this[on]={accessors:{}}).accessors,r=this.prototype;function u(l){const d=Qe(l);o[d]||(Qs(r,l),o[d]=!0)}return p.isArray(t)?t.forEach(u):u(t),this}};ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(ne.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});p.freezeMethods(ne);function kt(e,t){const n=this||nt,o=t||n,r=ne.from(o.headers);let u=o.data;return p.forEach(e,function(d){u=d.call(n,u,r.normalize(),t?t.status:void 0)}),r.normalize(),u}function Dn(e){return!!(e&&e.__CANCEL__)}function He(e,t,n){N.call(this,e??"canceled",N.ERR_CANCELED,t,n),this.name="CanceledError"}p.inherits(He,N,{__CANCEL__:!0});function $n(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new N("Request failed with status code "+n.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ys(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function er(e,t){e=e||10;const n=new Array(e),o=new Array(e);let r=0,u=0,l;return t=t!==void 0?t:1e3,function(b){const y=Date.now(),m=o[u];l||(l=y),n[r]=b,o[r]=y;let v=u,A=0;for(;v!==r;)A+=n[v++],v=v%e;if(r=(r+1)%e,r===u&&(u=(u+1)%e),y-l<t)return;const I=m&&y-m;return I?Math.round(A*1e3/I):void 0}}function tr(e,t){let n=0,o=1e3/t,r,u;const l=(y,m=Date.now())=>{n=m,r=null,u&&(clearTimeout(u),u=null),e.apply(null,y)};return[(...y)=>{const m=Date.now(),v=m-n;v>=o?l(y,m):(r=y,u||(u=setTimeout(()=>{u=null,l(r)},o-v)))},()=>r&&l(r)]}const pt=(e,t,n=3)=>{let o=0;const r=er(50,250);return tr(u=>{const l=u.loaded,d=u.lengthComputable?u.total:void 0,b=l-o,y=r(b),m=l<=d;o=l;const v={loaded:l,total:d,progress:d?l/d:void 0,bytes:b,rate:y||void 0,estimated:y&&d&&m?(d-l)/y:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(v)},n)},sn=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},rn=e=>(...t)=>p.asap(()=>e(...t)),nr=te.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,te.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(te.origin),te.navigator&&/(msie|trident)/i.test(te.navigator.userAgent)):()=>!0,or=te.hasStandardBrowserEnv?{write(e,t,n,o,r,u){const l=[e+"="+encodeURIComponent(t)];p.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),p.isString(o)&&l.push("path="+o),p.isString(r)&&l.push("domain="+r),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vn(e,t,n){let o=!sr(t);return e&&(o||n==!1)?rr(e,t):t}const an=e=>e instanceof ne?{...e}:e;function Ve(e,t){t=t||{};const n={};function o(y,m,v,A){return p.isPlainObject(y)&&p.isPlainObject(m)?p.merge.call({caseless:A},y,m):p.isPlainObject(m)?p.merge({},m):p.isArray(m)?m.slice():m}function r(y,m,v,A){if(p.isUndefined(m)){if(!p.isUndefined(y))return o(void 0,y,v,A)}else return o(y,m,v,A)}function u(y,m){if(!p.isUndefined(m))return o(void 0,m)}function l(y,m){if(p.isUndefined(m)){if(!p.isUndefined(y))return o(void 0,y)}else return o(void 0,m)}function d(y,m,v){if(v in t)return o(y,m);if(v in e)return o(void 0,y)}const b={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(y,m,v)=>r(an(y),an(m),v,!0)};return p.forEach(Object.keys(Object.assign({},e,t)),function(m){const v=b[m]||r,A=v(e[m],t[m],m);p.isUndefined(A)&&v!==d||(n[m]=A)}),n}const In=e=>{const t=Ve({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:u,headers:l,auth:d}=t;t.headers=l=ne.from(l),t.url=An(Vn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let b;if(p.isFormData(n)){if(te.hasStandardBrowserEnv||te.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((b=l.getContentType())!==!1){const[y,...m]=b?b.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([y||"multipart/form-data",...m].join("; "))}}if(te.hasStandardBrowserEnv&&(o&&p.isFunction(o)&&(o=o(t)),o||o!==!1&&nr(t.url))){const y=r&&u&&or.read(u);y&&l.set(r,y)}return t},ar=typeof XMLHttpRequest<"u",lr=ar&&function(e){return new Promise(function(n,o){const r=In(e);let u=r.data;const l=ne.from(r.headers).normalize();let{responseType:d,onUploadProgress:b,onDownloadProgress:y}=r,m,v,A,I,_;function E(){I&&I(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let R=new XMLHttpRequest;R.open(r.method.toUpperCase(),r.url,!0),R.timeout=r.timeout;function S(){if(!R)return;const C=ne.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),w={data:!d||d==="text"||d==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:C,config:e,request:R};$n(function(L){n(L),E()},function(L){o(L),E()},w),R=null}"onloadend"in R?R.onloadend=S:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(S)},R.onabort=function(){R&&(o(new N("Request aborted",N.ECONNABORTED,e,R)),R=null)},R.onerror=function(){o(new N("Network Error",N.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||On;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),o(new N(O,w.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,R)),R=null},u===void 0&&l.setContentType(null),"setRequestHeader"in R&&p.forEach(l.toJSON(),function(O,w){R.setRequestHeader(w,O)}),p.isUndefined(r.withCredentials)||(R.withCredentials=!!r.withCredentials),d&&d!=="json"&&(R.responseType=r.responseType),y&&([A,_]=pt(y,!0),R.addEventListener("progress",A)),b&&R.upload&&([v,I]=pt(b),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",I)),(r.cancelToken||r.signal)&&(m=C=>{R&&(o(!C||C.type?new He(null,e,R):C),R.abort(),R=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const c=Ys(r.url);if(c&&te.protocols.indexOf(c)===-1){o(new N("Unsupported protocol "+c+":",N.ERR_BAD_REQUEST,e));return}R.send(u||null)})},ir=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,r;const u=function(y){if(!r){r=!0,d();const m=y instanceof Error?y:this.reason;o.abort(m instanceof N?m:new He(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,u(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(y=>{y.unsubscribe?y.unsubscribe(u):y.removeEventListener("abort",u)}),e=null)};e.forEach(y=>y.addEventListener("abort",u));const{signal:b}=o;return b.unsubscribe=()=>p.asap(d),b}},ur=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,r;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},dr=async function*(e,t){for await(const n of cr(e))yield*ur(n,t)},cr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},ln=(e,t,n,o)=>{const r=dr(e,t);let u=0,l,d=b=>{l||(l=!0,o&&o(b))};return new ReadableStream({async pull(b){try{const{done:y,value:m}=await r.next();if(y){d(),b.close();return}let v=m.byteLength;if(n){let A=u+=v;n(A)}b.enqueue(new Uint8Array(m))}catch(y){throw d(y),y}},cancel(b){return d(b),r.return()}},{highWaterMark:2})},vt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Bn=vt&&typeof ReadableStream=="function",fr=vt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Nn=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pr=Bn&&Nn(()=>{let e=!1;const t=new Request(te.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),un=64*1024,$t=Bn&&Nn(()=>p.isReadableStream(new Response("").body)),mt={stream:$t&&(e=>e.body)};vt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!mt[t]&&(mt[t]=p.isFunction(e[t])?n=>n[t]():(n,o)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,o)})})})(new Response);const mr=async e=>{if(e==null)return 0;if(p.isBlob(e))return e.size;if(p.isSpecCompliantForm(e))return(await new Request(te.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(p.isArrayBufferView(e)||p.isArrayBuffer(e))return e.byteLength;if(p.isURLSearchParams(e)&&(e=e+""),p.isString(e))return(await fr(e)).byteLength},yr=async(e,t)=>{const n=p.toFiniteNumber(e.getContentLength());return n??mr(t)},gr=vt&&(async e=>{let{url:t,method:n,data:o,signal:r,cancelToken:u,timeout:l,onDownloadProgress:d,onUploadProgress:b,responseType:y,headers:m,withCredentials:v="same-origin",fetchOptions:A}=In(e);y=y?(y+"").toLowerCase():"text";let I=ir([r,u&&u.toAbortSignal()],l),_;const E=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let R;try{if(b&&pr&&n!=="get"&&n!=="head"&&(R=await yr(m,o))!==0){let w=new Request(t,{method:"POST",body:o,duplex:"half"}),B;if(p.isFormData(o)&&(B=w.headers.get("content-type"))&&m.setContentType(B),w.body){const[L,K]=sn(R,pt(rn(b)));o=ln(w.body,un,L,K)}}p.isString(v)||(v=v?"include":"omit");const S="credentials"in Request.prototype;_=new Request(t,{...A,signal:I,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:o,duplex:"half",credentials:S?v:void 0});let c=await fetch(_);const C=$t&&(y==="stream"||y==="response");if($t&&(d||C&&E)){const w={};["status","statusText","headers"].forEach(oe=>{w[oe]=c[oe]});const B=p.toFiniteNumber(c.headers.get("content-length")),[L,K]=d&&sn(B,pt(rn(d),!0))||[];c=new Response(ln(c.body,un,L,()=>{K&&K(),E&&E()}),w)}y=y||"text";let O=await mt[p.findKey(mt,y)||"text"](c,e);return!C&&E&&E(),await new Promise((w,B)=>{$n(w,B,{data:O,headers:ne.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:_})})}catch(S){throw E&&E(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,_),{cause:S.cause||S}):N.from(S,S&&S.code,e,_)}}),Vt={http:As,xhr:lr,fetch:gr};p.forEach(Vt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dn=e=>`- ${e}`,br=e=>p.isFunction(e)||e===null||e===!1,Ln={getAdapter:e=>{e=p.isArray(e)?e:[e];const{length:t}=e;let n,o;const r={};for(let u=0;u<t;u++){n=e[u];let l;if(o=n,!br(n)&&(o=Vt[(l=String(n)).toLowerCase()],o===void 0))throw new N(`Unknown adapter '${l}'`);if(o)break;r[l||"#"+u]=o}if(!o){const u=Object.entries(r).map(([d,b])=>`adapter ${d} `+(b===!1?"is not supported by the environment":"is not available in the build"));let l=t?u.length>1?`since :
`+u.map(dn).join(`
`):" "+dn(u[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:Vt};function Ct(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new He(null,e)}function cn(e){return Ct(e),e.headers=ne.from(e.headers),e.data=kt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ln.getAdapter(e.adapter||nt.adapter)(e).then(function(o){return Ct(e),o.data=kt.call(e,e.transformResponse,o),o.headers=ne.from(o.headers),o},function(o){return Dn(o)||(Ct(e),o&&o.response&&(o.response.data=kt.call(e,e.transformResponse,o.response),o.response.headers=ne.from(o.response.headers))),Promise.reject(o)})}const qn="1.8.4",_t={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_t[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const fn={};_t.transitional=function(t,n,o){function r(u,l){return"[Axios v"+qn+"] Transitional option '"+u+"'"+l+(o?". "+o:"")}return(u,l,d)=>{if(t===!1)throw new N(r(l," has been removed"+(n?" in "+n:"")),N.ERR_DEPRECATED);return n&&!fn[l]&&(fn[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,l,d):!0}};_t.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function hr(e,t,n){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const u=o[r],l=t[u];if(l){const d=e[u],b=d===void 0||l(d,u,e);if(b!==!0)throw new N("option "+u+" must be "+b,N.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new N("Unknown option "+u,N.ERR_BAD_OPTION)}}const ft={assertOptions:hr,validators:_t},we=ft.validators;let $e=class{constructor(t){this.defaults=t,this.interceptors={request:new nn,response:new nn}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const u=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ve(this.defaults,n);const{transitional:o,paramsSerializer:r,headers:u}=n;o!==void 0&&ft.assertOptions(o,{silentJSONParsing:we.transitional(we.boolean),forcedJSONParsing:we.transitional(we.boolean),clarifyTimeoutError:we.transitional(we.boolean)},!1),r!=null&&(p.isFunction(r)?n.paramsSerializer={serialize:r}:ft.assertOptions(r,{encode:we.function,serialize:we.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ft.assertOptions(n,{baseUrl:we.spelling("baseURL"),withXsrfToken:we.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=u&&p.merge(u.common,u[n.method]);u&&p.forEach(["delete","get","head","post","put","patch","common"],_=>{delete u[_]}),n.headers=ne.concat(l,u);const d=[];let b=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(b=b&&E.synchronous,d.unshift(E.fulfilled,E.rejected))});const y=[];this.interceptors.response.forEach(function(E){y.push(E.fulfilled,E.rejected)});let m,v=0,A;if(!b){const _=[cn.bind(this),void 0];for(_.unshift.apply(_,d),_.push.apply(_,y),A=_.length,m=Promise.resolve(n);v<A;)m=m.then(_[v++],_[v++]);return m}A=d.length;let I=n;for(v=0;v<A;){const _=d[v++],E=d[v++];try{I=_(I)}catch(R){E.call(this,R);break}}try{m=cn.call(this,I)}catch(_){return Promise.reject(_)}for(v=0,A=y.length;v<A;)m=m.then(y[v++],y[v++]);return m}getUri(t){t=Ve(this.defaults,t);const n=Vn(t.baseURL,t.url,t.allowAbsoluteUrls);return An(n,t.params,t.paramsSerializer)}};p.forEach(["delete","get","head","options"],function(t){$e.prototype[t]=function(n,o){return this.request(Ve(o||{},{method:t,url:n,data:(o||{}).data}))}});p.forEach(["post","put","patch"],function(t){function n(o){return function(u,l,d){return this.request(Ve(d||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:l}))}}$e.prototype[t]=n(),$e.prototype[t+"Form"]=n(!0)});let wr=class jn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const o=this;this.promise.then(r=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](r);o._listeners=null}),this.promise.then=r=>{let u;const l=new Promise(d=>{o.subscribe(d),u=d}).then(r);return l.cancel=function(){o.unsubscribe(u)},l},t(function(u,l,d){o.reason||(o.reason=new He(u,l,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new jn(function(r){t=r}),cancel:t}}};function vr(e){return function(n){return e.apply(null,n)}}function _r(e){return p.isObject(e)&&e.isAxiosError===!0}const It={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(It).forEach(([e,t])=>{It[t]=e});function zn(e){const t=new $e(e),n=vn($e.prototype.request,t);return p.extend(n,$e.prototype,t,{allOwnKeys:!0}),p.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return zn(Ve(e,r))},n}const Z=zn(nt);Z.Axios=$e;Z.CanceledError=He;Z.CancelToken=wr;Z.isCancel=Dn;Z.VERSION=qn;Z.toFormData=wt;Z.AxiosError=N;Z.Cancel=Z.CanceledError;Z.all=function(t){return Promise.all(t)};Z.spread=vr;Z.isAxiosError=_r;Z.mergeConfig=Ve;Z.AxiosHeaders=ne;Z.formToJSON=e=>Un(p.isHTMLForm(e)?new FormData(e):e);Z.getAdapter=Ln.getAdapter;Z.HttpStatusCode=It;Z.default=Z;const{Axios:Ya,AxiosError:el,CanceledError:tl,isCancel:nl,CancelToken:ol,VERSION:sl,all:rl,Cancel:al,isAxiosError:ll,spread:il,toFormData:ul,AxiosHeaders:dl,HttpStatusCode:cl,formToJSON:fl,getAdapter:pl,mergeConfig:ml}=Z,Er="/api",ze=Z.create({baseURL:Er,timeout:1e4,headers:{"Content-Type":"application/json"}});ze.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ze.interceptors.response.use(e=>e.data,e=>e.response?(e.response.status===401&&window.location.pathname!=="/login"&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e.response.data)):e.request?Promise.reject({code:-1,message:"网络错误，请稍后重试"}):Promise.reject({code:-2,message:"请求错误"}));const D={get:async(e,t)=>(await ze.get(e,{params:t})).data,post:async(e,t)=>(await ze.post(e,t)).data,put:async(e,t)=>(await ze.put(e,t)).data,delete:async e=>(await ze.delete(e)).data},Ue={getSystemStatus:()=>D.get("/dashboard/system-status"),getTrafficStatus:()=>D.get("/dashboard/traffic-status"),getProxyTrafficRank:e=>D.get(`/dashboard/proxy-traffic-rank/${e}`),getUserTrafficRank:()=>D.get("/dashboard/user-traffic-rank"),getTrafficHistory:e=>D.get(`/dashboard/traffic-history/${e}`),getActiveUserLinks:()=>D.get("/dashboard/active-user-link"),getMyTrafficStatus:()=>D.get("/dashboard/my-traffic")};async function it(e){const n=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(o)).map(l=>l.toString(16).padStart(2,"0")).join("")}const _e={getUsers:()=>D.get("/users"),getUser:e=>D.get(`/users/${e}`),createUser:async e=>(e.password=(await it(e.password)).toString(),D.post("/users",e)),updateUser:(e,t)=>D.put(`/users/${e}`,t),deleteUser:e=>D.delete(`/users/${e}`),resetPassword:e=>D.post(`/users/${e}/reset-password`),login:async e=>(e.password=(await it(e.password)).toString(),D.post("/auth/login",e)),logout:()=>(qt().logout(),!0),changePassword:async(e,t)=>{const n=(await it(e)).toString(),o=(await it(t)).toString();return D.post("/auth/change-password",{oldPassword:n,newPassword:o})},getMyToken:()=>D.get("/user/my-token"),updateMyToken:()=>D.put("/user/my-token")},me={getInboundProxies:()=>D.get("/proxies/inbound"),getOutboundProxies:()=>D.get("/proxies/outbound"),getInboundProxy:e=>D.get(`/proxies/inbound/${e}`),getOutboundProxy:e=>D.get(`/proxies/outbound/${e}`),createInboundProxy:e=>D.post("/proxies/inbound",e),createOutboundProxy:e=>D.post("/proxies/outbound",e),updateInboundProxy:(e,t)=>D.put(`/proxies/inbound/${e}`,t),updateOutboundProxy:(e,t)=>D.put(`/proxies/outbound/${e}`,t),deleteInboundProxy:e=>D.delete(`/proxies/inbound/${e}`),deleteOutboundProxy:e=>D.delete(`/proxies/outbound/${e}`),getUsableInboundProxies:()=>D.get("/proxies/usable-inbounds"),testOutboundProxySpeed:e=>D.post(`/proxies/outbound/${e}/test-speed`)},ue={getRouteSchemes:()=>D.get("/routes/schemes"),getRouteScheme:e=>D.get(`/routes/schemes/${e}`),createRouteScheme:e=>D.post("/routes/schemes",e),updateRouteScheme:(e,t)=>D.put(`/routes/schemes/${e}`,t),deleteRouteScheme:e=>D.delete(`/routes/schemes/${e}`),toggleRouteSchemeStatus:e=>D.post(`/routes/schemes/${e}/toggle-status`),getRules:e=>D.get(`/routes/schemes/${e}/rules`),addRule:(e,t)=>D.post(`/routes/schemes/${e}/rules`,t),updateRule:(e,t,n)=>D.put(`/routes/schemes/${e}/rules/${t}`,n),deleteRule:(e,t)=>D.delete(`/routes/schemes/${e}/rules/${t}`),updateRuleOrder:(e,t)=>D.post(`/routes/schemes/${e}/rules/reorder`,{ruleIds:t})},ut={getUserGroups:()=>D.get("/user-groups"),getUserGroup:e=>D.get(`/user-groups/${e}`),createUserGroup:e=>D.post("/user-groups",e),updateUserGroup:(e,t)=>D.put(`/user-groups/${e}`,t),deleteUserGroup:e=>D.delete(`/user-groups/${e}`),getUsersInGroup:e=>D.get(`/user-groups/${e}/users`),addUserToGroup:(e,t)=>D.post(`/user-groups/${e}/users/${t}`),removeUserFromGroup:(e,t)=>D.delete(`/user-groups/${e}/users/${t}`)},Me={getSystemInfo:()=>D.get("/system/info"),getSystemName:()=>D.get("/system/name"),updateSystemInfo:e=>D.put("/system/info",e)},qt=To("user",()=>{const e=P(localStorage.getItem("token")||"");P(localStorage.getItem("username")||"");const t=P(localStorage.getItem("userId")||""),n=P(localStorage.getItem("userGroupId")||"");return{token:e,userId:t,userGroupId:n,login:async(u,l)=>{try{console.log("Login attempt:",{inputUsername:u,password:l});const d=await _e.login({username:u,password:l});return d.token&&d.userId?(e.value=d.token,t.value=d.userId,n.value=d.userGroupId,localStorage.setItem("token",d.token),localStorage.setItem("userId",d.userId),localStorage.setItem("userGroupId",d.userGroupId),!0):(console.log("Login failed: invalid credentials"),!1)}catch(d){return console.error("Login failed:",d),!1}},logout:()=>{e.value="",t.value="",n.value="",localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userGroupId")}}}),Sr={class:"dock-nav"},xr={class:"dock-content"},Rr={class:"dock-menu"},kr={class:"dock-item"},Cr={class:"system-title"},Pr={class:"user-submenu"},Tr={key:0,class:"mobile-tab-bar"},Fr={class:"mobile-user-menu"},Ar={class:"user-header"},Or={class:"menu-list"},Ur={class:"dialog-footer"},Dr=Pe({__name:"MainLayout",setup(e){const t=Fo(),n=pn(),o=qt(),r=P(!1),u=P("ZIP管理面板"),l=P(!1),d=P(!1),b=P(!1),y=P(),m=re({oldPassword:"",newPassword:"",confirmPassword:""}),v=re({oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"},{validator:(S,c,C)=>{c!==m.newPassword?C(new Error("两次输入的密码不一致")):C()},trigger:"blur"}]}),A=P(!1),I=async()=>{try{const S=await Me.getSystemInfo();u.value=S.systemName}catch(S){console.error("获取系统名称失败",S)}},_=()=>{const S=window.innerWidth;l.value=S<768},E=S=>{S==="logout"?(_e.logout(),n.push("/login")):S==="changePassword"&&(m.oldPassword="",m.newPassword="",m.confirmPassword="",d.value=!0)},R=async()=>{y.value&&await y.value.validate(async S=>{var c,C;if(S){b.value=!0;try{await _e.changePassword(m.oldPassword,m.newPassword),x.success("密码修改成功"),d.value=!1}catch(O){console.error("修改密码失败",O),x.error(((C=(c=O.response)==null?void 0:c.data)==null?void 0:C.message)||"密码修改失败，请检查旧密码是否正确")}finally{b.value=!1}}})};return Ie(()=>{o.userGroupId==="管理员"&&(r.value=!0),I(),_(),window.addEventListener("resize",_)}),et(()=>{window.removeEventListener("resize",_)}),(S,c)=>{const C=T("router-view"),O=T("el-main"),w=T("el-icon"),B=T("router-link"),L=T("Operation"),K=T("el-drawer"),oe=T("el-container"),le=T("el-input"),W=T("el-form-item"),ge=T("el-form"),Ee=T("el-button"),be=T("el-dialog");return F(),G(ve,null,[s(oe,{class:"layout-container"},{default:a(()=>[s(O,{class:pe({"mobile-main":l.value})},{default:a(()=>[s(C)]),_:1},8,["class"]),h("div",Sr,[h("div",xr,[h("div",Rr,[r.value?(F(),G(ve,{key:0},[h("div",kr,[s(w,null,{default:a(()=>[s(z(Io))]),_:1}),h("span",Cr,q(u.value),1)]),s(B,{to:"/my-proxies",class:pe(["dock-item",{active:z(t).path==="/my-proxies"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(z(xt))]),_:1}),c[12]||(c[12]=h("span",null,"我的代理",-1))]),_:1},8,["class"]),s(B,{to:"/",class:pe(["dock-item",{active:z(t).path==="/"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(z(Zt))]),_:1}),c[13]||(c[13]=h("span",null,"统计数据",-1))]),_:1},8,["class"]),s(B,{to:"/integrated",class:pe(["dock-item",{active:z(t).path==="/integrated"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(L)]),_:1}),c[14]||(c[14]=h("span",null,"管理面板",-1))]),_:1},8,["class"]),s(B,{to:"/system",class:pe(["dock-item",{active:z(t).path==="/system"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(z(lt))]),_:1}),c[15]||(c[15]=h("span",null,"基础设置",-1))]),_:1},8,["class"])],64)):(F(),J(B,{key:1,to:"/my-proxies",class:pe(["dock-item",{active:z(t).path==="/my-proxies"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(z(xt))]),_:1}),c[16]||(c[16]=h("span",null,"我的代理",-1))]),_:1},8,["class"])),h("div",{class:"dock-item user-menu",onClick:c[0]||(c[0]=M=>A.value=!A.value)},[s(w,null,{default:a(()=>[s(z(At))]),_:1}),h("span",null,q(z(o).userId),1),s(w,{class:pe(["arrow-icon",{"is-active":A.value}])},{default:a(()=>[s(z(Bo))]),_:1},8,["class"])])])]),de(h("div",Pr,[h("div",{class:"submenu-item",onClick:c[1]||(c[1]=M=>E("changePassword"))},[s(w,null,{default:a(()=>[s(z(lt))]),_:1}),c[17]||(c[17]=h("span",null,"修改密码",-1))]),h("div",{class:"submenu-item",onClick:c[2]||(c[2]=M=>E("logout"))},[s(w,null,{default:a(()=>[s(z(Qt))]),_:1}),c[18]||(c[18]=h("span",null,"退出登录",-1))])],512),[[Ao,A.value]])]),l.value?(F(),G("div",Tr,[r.value?(F(),G(ve,{key:0},[s(B,{to:"/",class:pe(["tab-item",{active:z(t).path==="/"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(z(Zt))]),_:1}),c[19]||(c[19]=h("span",null,"统计数据",-1))]),_:1},8,["class"]),s(B,{to:"/integrated",class:pe(["tab-item",{active:z(t).path==="/integrated"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(L)]),_:1}),c[20]||(c[20]=h("span",null,"管理面板",-1))]),_:1},8,["class"]),s(B,{to:"/system",class:pe(["tab-item",{active:z(t).path==="/system"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(z(lt))]),_:1}),c[21]||(c[21]=h("span",null,"基础设置",-1))]),_:1},8,["class"])],64)):(F(),J(B,{key:1,to:"/my-proxies",class:pe(["tab-item",{active:z(t).path==="/my-proxies"}])},{default:a(()=>[s(w,null,{default:a(()=>[s(z(xt))]),_:1}),c[22]||(c[22]=h("span",null,"我的代理",-1))]),_:1},8,["class"])),h("div",{class:"tab-item",onClick:c[3]||(c[3]=M=>A.value=!0)},[s(w,null,{default:a(()=>[s(z(At))]),_:1}),c[23]||(c[23]=h("span",null,"我的",-1))])])):xe("",!0),l.value?(F(),J(K,{key:1,modelValue:A.value,"onUpdate:modelValue":c[6]||(c[6]=M=>A.value=M),direction:"rtl",size:"80%"},{default:a(()=>[h("div",Fr,[h("div",Ar,[h("h3",null,q(z(o).userId),1)]),h("div",Or,[h("div",{class:"menu-item",onClick:c[4]||(c[4]=M=>E("changePassword"))},[s(w,null,{default:a(()=>[s(z(lt))]),_:1}),c[24]||(c[24]=h("span",null,"修改密码",-1))]),h("div",{class:"menu-item",onClick:c[5]||(c[5]=M=>E("logout"))},[s(w,null,{default:a(()=>[s(z(Qt))]),_:1}),c[25]||(c[25]=h("span",null,"退出登录",-1))])])])]),_:1},8,["modelValue"])):xe("",!0)]),_:1}),s(be,{modelValue:d.value,"onUpdate:modelValue":c[11]||(c[11]=M=>d.value=M),title:"修改密码",width:"400px"},{footer:a(()=>[h("span",Ur,[s(Ee,{onClick:c[10]||(c[10]=M=>d.value=!1)},{default:a(()=>c[26]||(c[26]=[k("取消")])),_:1}),s(Ee,{type:"primary",onClick:R,loading:b.value},{default:a(()=>c[27]||(c[27]=[k("确定")])),_:1},8,["loading"])])]),default:a(()=>[s(ge,{ref_key:"passwordFormRef",ref:y,model:m,rules:v,"label-width":"100px"},{default:a(()=>[s(W,{label:"旧密码",prop:"oldPassword"},{default:a(()=>[s(le,{modelValue:m.oldPassword,"onUpdate:modelValue":c[7]||(c[7]=M=>m.oldPassword=M),type:"password",placeholder:"请输入旧密码","show-password":""},null,8,["modelValue"])]),_:1}),s(W,{label:"新密码",prop:"newPassword"},{default:a(()=>[s(le,{modelValue:m.newPassword,"onUpdate:modelValue":c[8]||(c[8]=M=>m.newPassword=M),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),s(W,{label:"确认新密码",prop:"confirmPassword"},{default:a(()=>[s(le,{modelValue:m.confirmPassword,"onUpdate:modelValue":c[9]||(c[9]=M=>m.confirmPassword=M),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])],64)}}}),Be=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},$r=Be(Dr,[["__scopeId","data-v-c63429e8"]]),Vr={class:"login-container"},Ir={class:"login-box"},Br={class:"login-header"},Nr=Pe({__name:"Login",setup(e){const t=pn(),n=qt(),o=P(),r=P(!1),u=P("ZIP管理面板"),l=re({username:"",password:""}),d={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},b=async()=>{try{const m=await Me.getSystemName();u.value=m.systemName||"ZIP管理面板"}catch(m){console.error("获取系统名称失败",m)}};Ie(()=>{b()});const y=async()=>{o.value&&await o.value.validate(async m=>{if(m){r.value=!0;try{console.log("Form submitted:",l);const v=await n.login(l.username,l.password);console.log("Login result:",v),v?(x.success("登录成功"),t.push("/")):x.error("用户名或密码错误")}catch(v){console.error("Login error:",v),x.error("登录失败，请重试")}finally{r.value=!1}}else console.log("Form validation failed")})};return(m,v)=>{const A=T("el-input"),I=T("el-form-item"),_=T("el-button"),E=T("el-form"),R=T("el-card");return F(),G("div",Vr,[h("div",Ir,[s(R,{class:"login-card"},{header:a(()=>[h("div",Br,[h("h2",null,q(u.value),1),v[2]||(v[2]=h("p",{class:"subtitle"},"(～￣▽￣)→))*￣▽￣*)o ",-1))])]),default:a(()=>[s(E,{ref_key:"formRef",ref:o,model:l,rules:d,"label-position":"top",size:"large",class:"login-form"},{default:a(()=>[s(I,{prop:"username"},{default:a(()=>[s(A,{modelValue:l.username,"onUpdate:modelValue":v[0]||(v[0]=S=>l.username=S),placeholder:"用户名","prefix-icon":z(At)},null,8,["modelValue","prefix-icon"])]),_:1}),s(I,{prop:"password"},{default:a(()=>[s(A,{modelValue:l.password,"onUpdate:modelValue":v[1]||(v[1]=S=>l.password=S),type:"password",placeholder:"密码","show-password":"","prefix-icon":z(No),onKeyup:Pt(y,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),s(I,null,{default:a(()=>[s(_,{type:"primary",onClick:y,loading:r.value,class:"login-button"},{default:a(()=>[k(q(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])}}}),Lr=Be(Nr,[["__scopeId","data-v-c1ee71ba"]]),qr={class:"dashboard-container"},jr={class:"card-header"},zr={class:"chart-container"},Mr={class:"status-content"},Gr={class:"status-item"},Hr={class:"value"},Jr={class:"status-item"},Kr={class:"value"},Wr={class:"status-item"},Xr={class:"value"},Zr=Pe({__name:"Dashboard",setup(e){mn([gn,zo,bn,hn,wn,Mo]);const t=P({upload:0,download:0,total:0}),n=P([]),o=P([]),r=P([]),u=P([]),l=P("day"),d=P({labels:[],upload:[],download:[]}),b=re({systemStatus:!0,proxyStatus:!0,trafficStatus:!0,inboundTrafficRank:!0,outboundTrafficRank:!0,userTrafficRank:!0,trafficHistory:!0,recentLogs:!0,activeUserLinks:!0}),y=async()=>{b.trafficStatus=!0;try{t.value=await Ue.getTrafficStatus()}catch(S){console.error("获取流量状态失败",S),x.error("获取流量状态失败")}finally{b.trafficStatus=!1}},m=async()=>{b.inboundTrafficRank=!0,b.outboundTrafficRank=!0,Ue.getProxyTrafficRank("i").then(S=>{n.value=S}).catch(S=>{console.error("获取入站代理流量排行失败",S),x.error("获取入站代理流量排行失败")}).finally(()=>{b.inboundTrafficRank=!1}),Ue.getProxyTrafficRank("o").then(S=>{o.value=S}).catch(S=>{console.error("获取出站代理流量排行失败",S),x.error("获取出站代理流量排行失败")}).finally(()=>{b.outboundTrafficRank=!1})},v=async()=>{b.userTrafficRank=!0;try{r.value=await Ue.getUserTrafficRank()}catch(S){console.error("获取用户流量排行失败",S),x.error("获取用户流量排行失败")}finally{b.userTrafficRank=!1}},A=async()=>{b.activeUserLinks=!0;try{u.value=await Ue.getActiveUserLinks()}catch(S){console.error("获取在线用户失败",S),x.error("获取在线用户失败")}finally{b.activeUserLinks=!1}},I=async()=>{b.trafficHistory=!0;try{d.value=await Ue.getTrafficHistory(l.value)}catch(S){console.error("获取流量历史数据失败",S),x.error("获取流量历史数据失败")}finally{b.trafficHistory=!1}},_=Oo(()=>({tooltip:{trigger:"axis",formatter:function(S){let c=S[0].name+"<br/>";return S.forEach(C=>{c+=C.seriesName+": "+E(C.value)+"<br/>"}),c}},legend:{data:["上传流量","下载流量"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:d.value.labels||[]},yAxis:{type:"value",axisLabel:{formatter:function(S){return E(S)}}},series:[{name:"上传流量",type:"line",data:d.value.upload||[],areaStyle:{opacity:.3},lineStyle:{width:2},itemStyle:{color:"#409EFF"}},{name:"下载流量",type:"line",data:d.value.download||[],areaStyle:{opacity:.3},lineStyle:{width:2},itemStyle:{color:"#67C23A"}}]}));Tt(l,()=>{I()}),Tt(d,()=>{},{deep:!0});const E=S=>{if(S===0)return"0 B";const c=1024,C=["B","KB","MB","GB","TB","PB"],O=Math.floor(Math.log(S)/Math.log(c));return parseFloat((S/Math.pow(c,O)).toFixed(2))+" "+C[O]};Ie(async()=>{await Promise.all([y(),m(),v(),I(),A()])});const R=setInterval(async()=>{y(),A()},5e3);return et(()=>{clearInterval(R)}),(S,c)=>{const C=T("el-radio-button"),O=T("el-radio-group"),w=T("el-card"),B=T("el-col"),L=T("el-table-column"),K=T("el-table"),oe=T("el-row"),le=yt("loading");return F(),G("div",qr,[s(oe,{gutter:20,class:"mb-4"},{default:a(()=>[s(B,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-4"},{default:a(()=>[de((F(),J(w,{shadow:"hover",class:"traffic-trend"},{header:a(()=>[h("div",jr,[c[4]||(c[4]=h("span",null,"流量趋势",-1)),s(O,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=W=>l.value=W),size:"small"},{default:a(()=>[s(C,{label:"hour"},{default:a(()=>c[1]||(c[1]=[k("小时")])),_:1}),s(C,{label:"day"},{default:a(()=>c[2]||(c[2]=[k("天")])),_:1}),s(C,{label:"week"},{default:a(()=>c[3]||(c[3]=[k("周")])),_:1})]),_:1},8,["modelValue"])])]),default:a(()=>[h("div",zr,[s(z(yn),{class:"chart",option:_.value,autoresize:""},null,8,["option"])])]),_:1})),[[le,b.trafficHistory]])]),_:1}),s(B,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(w,{shadow:"hover",class:"daily-traffic"},{header:a(()=>c[5]||(c[5]=[h("div",{class:"card-header"},[h("span",null,"今日流量")],-1)])),default:a(()=>[h("div",Mr,[h("div",Gr,[c[6]||(c[6]=h("span",{class:"label"},"上传",-1)),h("span",Hr,q(E(t.value.upload)),1)]),h("div",Jr,[c[7]||(c[7]=h("span",{class:"label"},"下载",-1)),h("span",Kr,q(E(t.value.download)),1)]),h("div",Wr,[c[8]||(c[8]=h("span",{class:"label"},"总流量",-1)),h("span",Xr,q(E(t.value.total)),1)])])]),_:1})]),_:1}),s(B,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(w,{shadow:"hover",class:"online-users"},{header:a(()=>c[9]||(c[9]=[h("div",{class:"card-header"},[h("span",null,"在线用户")],-1)])),default:a(()=>[s(K,{data:u.value,style:{width:"100%"}},{default:a(()=>[s(L,{prop:"userId",label:"用户ID"}),s(L,{prop:"links",label:"连接数"})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),s(oe,{gutter:20,class:"mb-4"},{default:a(()=>[s(B,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(w,{shadow:"hover",class:"inbound-rank"},{header:a(()=>c[10]||(c[10]=[h("div",{class:"card-header"},[h("span",null,"入站代理流量排行 (7日)")],-1)])),default:a(()=>[s(K,{data:n.value,style:{width:"100%"}},{default:a(()=>[s(L,{prop:"name",label:"代理名称"}),s(L,{prop:"traffic",label:"流量总计"},{default:a(({row:W})=>[k(q(E(W.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),s(B,{xs:12,sm:12,md:6,lg:6,xl:6,class:"mb-4"},{default:a(()=>[s(w,{shadow:"hover",class:"outbound-rank"},{header:a(()=>c[11]||(c[11]=[h("div",{class:"card-header"},[h("span",null,"出站代理流量排行 (7日)")],-1)])),default:a(()=>[s(K,{data:o.value,style:{width:"100%"}},{default:a(()=>[s(L,{prop:"name",label:"代理名称"}),s(L,{prop:"traffic",label:"流量总计"},{default:a(({row:W})=>[k(q(E(W.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),s(B,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-4"},{default:a(()=>[s(w,{shadow:"hover",class:"user-rank"},{header:a(()=>c[12]||(c[12]=[h("div",{class:"card-header"},[h("span",null,"用户流量排行 (7日)")],-1)])),default:a(()=>[s(K,{data:r.value,style:{width:"100%"}},{default:a(()=>[s(L,{prop:"name",label:"用户名"}),s(L,{prop:"upload",label:"上传"},{default:a(({row:W})=>[k(q(E(W.upload)),1)]),_:1}),s(L,{prop:"download",label:"下载"},{default:a(({row:W})=>[k(q(E(W.download)),1)]),_:1}),s(L,{prop:"traffic",label:"流量总计"},{default:a(({row:W})=>[k(q(E(W.traffic)),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})])}}}),Qr=Be(Zr,[["__scopeId","data-v-c5f3db86"]]),Yr={class:"system-container"},ea={class:"card-header"},ta=Pe({__name:"System",setup(e){const t=P({systemName:"",description:"",version:"",startUpTime:"",trafficRecordDays:30}),n=re({systemName:"",description:"",trafficRecordDays:30}),o=re({save:!1,info:!1}),r=async()=>{o.info=!0;try{const d=await Me.getSystemInfo();t.value=d,n.systemName=d.systemName,n.description=d.description,n.trafficRecordDays=d.trafficRecordDays}catch(d){console.error("获取系统信息失败",d),x.error("获取系统信息失败")}finally{o.info=!1}},u=async()=>{o.save=!0;try{await Me.updateSystemInfo(n),x.success("设置保存成功"),await r()}catch(d){console.error("保存设置失败",d),x.error("保存设置失败")}finally{o.save=!1}};Ie(()=>{r()});const l=setInterval(r,6e4);return et(()=>{clearInterval(l)}),(d,b)=>{const y=T("el-icon"),m=T("el-button"),v=T("el-descriptions-item"),A=T("el-descriptions"),I=T("el-card"),_=T("el-input"),E=T("el-form-item"),R=T("el-input-number"),S=T("el-form"),c=yt("loading");return F(),G("div",Yr,[s(I,{class:"box-card mb-4"},{header:a(()=>[h("div",ea,[b[3]||(b[3]=h("span",null,"系统信息",-1)),s(m,{type:"primary",link:"",onClick:r},{default:a(()=>[s(y,null,{default:a(()=>[s(z(Lo))]),_:1})]),_:1})])]),default:a(()=>[de((F(),J(A,{column:2,border:""},{default:a(()=>[s(v,{label:"启动时间"},{default:a(()=>[k(q(t.value.startUpTime),1)]),_:1}),s(v,{label:"版本"},{default:a(()=>[k(q(t.value.version),1)]),_:1})]),_:1})),[[c,o.info]])]),_:1}),s(I,{class:"box-card"},{header:a(()=>b[4]||(b[4]=[h("div",{class:"card-header"},[h("span",null,"基本设置")],-1)])),default:a(()=>[s(S,{model:n,"label-width":"120px"},{default:a(()=>[s(E,{label:"系统名称"},{default:a(()=>[s(_,{modelValue:n.systemName,"onUpdate:modelValue":b[0]||(b[0]=C=>n.systemName=C)},null,8,["modelValue"])]),_:1}),s(E,{label:"系统公告"},{default:a(()=>[s(_,{modelValue:n.description,"onUpdate:modelValue":b[1]||(b[1]=C=>n.description=C),type:"textarea",rows:7},null,8,["modelValue"])]),_:1}),s(E,{label:"流量记录保留"},{default:a(()=>[s(R,{modelValue:n.trafficRecordDays,"onUpdate:modelValue":b[2]||(b[2]=C=>n.trafficRecordDays=C),min:1,max:90},null,8,["modelValue"]),b[5]||(b[5]=h("span",{class:"form-help"},"天",-1))]),_:1}),s(E,null,{default:a(()=>[s(m,{type:"primary",onClick:u,loading:o.save},{default:a(()=>b[6]||(b[6]=[k(" 保存设置 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}}),na=Be(ta,[["__scopeId","data-v-cf83b9d5"]]),oa={class:"user-proxies-container"},sa={class:"card-header"},ra={class:"traffic-stats"},aa={class:"traffic-item"},la={class:"traffic-value"},ia={class:"traffic-item"},ua={class:"traffic-value"},da={class:"traffic-item"},ca={class:"traffic-value"},fa={class:"traffic-item"},pa={class:"traffic-value"},ma={class:"system-description"},ya={class:"card-header"},ga={key:0},ba={key:0,class:"qrcode-container"},ha={key:1},wa=Pe({__name:"UserProxies",setup(e){const t=P([]),n=P(!0),o=P(""),r=P(!1),u=P(""),l=P({upload:0,download:0,total:0,used:0,remaining:0,limit:0,links:0}),d=P(!0),b=P({systemName:"",description:"",version:"",startUpTime:"",trafficRecordDays:30}),y=P(!0);let m=null;const v=async()=>{y.value=!0;try{b.value=await Me.getSystemInfo()}catch(O){console.error("获取系统信息失败",O),x.error("获取系统信息失败")}finally{y.value=!1}},A=async()=>{n.value=!0;try{t.value=await me.getUsableInboundProxies()}catch(O){console.error("获取用户代理失败",O),x.error("获取用户代理失败")}finally{n.value=!1}},I=async()=>{try{l.value=await Ue.getMyTrafficStatus()}catch(O){console.error("获取流量状态失败",O),x.error("获取流量状态失败")}finally{d.value=!1}},_=O=>{let w=JSON.parse(O.linkConfig);for(;w.upper!=null;)w=w.upper;return w.url},E=O=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(O)}`,R=async O=>{try{o.value=O.linkConfig||"",r.value=!0}catch(w){x.error("获取连接配置失败"),console.error(w)}},S=async()=>{try{u.value=await _e.updateMyToken(),A(),x.success("刷新凭证成功，旧凭证将失效")}catch{x.error("刷新凭证失败")}},c=()=>{navigator.clipboard.writeText(o.value),x.success("连接配置已复制到剪贴板")},C=O=>{if(O===0)return"0 B";const w=1024,B=["B","KB","MB","GB","TB","PB"],L=Math.floor(Math.log(O)/Math.log(w));return parseFloat((O/Math.pow(w,L)).toFixed(2))+" "+B[L]};return Ie(async()=>{await Promise.all([A(),I(),v()]),m=window.setInterval(()=>{I()},5e3)}),et(()=>{m&&clearInterval(m)}),(O,w)=>{const B=T("el-button"),L=T("el-card"),K=T("el-table-column"),oe=T("el-table"),le=T("el-input"),W=T("el-image"),ge=T("el-empty"),Ee=T("el-dialog"),be=yt("loading");return F(),G("div",oa,[de((F(),J(L,{class:"traffic-stats-card"},{header:a(()=>[h("div",sa,[w[4]||(w[4]=h("span",null,"7日流量统计",-1)),s(B,{size:"small",type:"primary",onClick:I},{default:a(()=>w[3]||(w[3]=[k("刷新")])),_:1})])]),default:a(()=>[h("div",ra,[h("div",aa,[w[5]||(w[5]=h("div",{class:"traffic-label"},"上传流量",-1)),h("div",la,q(C(l.value.upload)),1)]),h("div",ia,[w[6]||(w[6]=h("div",{class:"traffic-label"},"下载流量",-1)),h("div",ua,q(C(l.value.download)),1)]),h("div",da,[w[7]||(w[7]=h("div",{class:"traffic-label"},"总流量",-1)),h("div",ca,q(C(l.value.total)),1)]),h("div",fa,[w[8]||(w[8]=h("div",{class:"traffic-label"},"当前连接数",-1)),h("div",pa,q(l.value.links||0),1)])])]),_:1})),[[be,d.value]]),de((F(),J(L,{class:"system-info-card"},{header:a(()=>w[9]||(w[9]=[h("div",{class:"card-header"},[h("span",null,"系统公告")],-1)])),default:a(()=>[h("div",ma,q(b.value.description),1)]),_:1})),[[be,y.value]]),de((F(),J(L,{class:"user-proxies-card"},{header:a(()=>[h("div",ya,[w[11]||(w[11]=h("span",null,"代理列表",-1)),s(B,{type:"primary",onClick:w[0]||(w[0]=M=>S())},{default:a(()=>w[10]||(w[10]=[k("刷新代理凭证")])),_:1})])]),default:a(()=>[de((F(),J(oe,{data:t.value,style:{width:"100%"}},{default:a(()=>[s(K,{prop:"id",label:"代理名称",width:"180"}),s(K,{prop:"scheme",label:"代理类型",width:"120"}),s(K,{label:"地址","show-overflow-tooltip":""},{default:a(({row:M})=>[k(q(_(M)),1)]),_:1}),s(K,{label:"操作",width:"120"},{default:a(({row:M})=>[s(B,{type:"success",onClick:st=>R(M)},{default:a(()=>w[12]||(w[12]=[k("完整配置")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[be,n.value]])]),_:1})),[[be,n.value]]),s(Ee,{modelValue:r.value,"onUpdate:modelValue":w[2]||(w[2]=M=>r.value=M),title:"连接配置",width:"500px"},{default:a(()=>[o.value?(F(),G("div",ga,[s(le,{readonly:"",rows:10,type:"textarea",modelValue:o.value,"onUpdate:modelValue":w[1]||(w[1]=M=>o.value=M)},null,8,["modelValue"]),s(B,{onClick:c,type:"primary",style:{width:"100%"}},{default:a(()=>w[13]||(w[13]=[k("复制")])),_:1}),o.value?(F(),G("div",ba,[s(W,{src:E(o.value),fit:"contain",style:{width:"200px",height:"200px"}},null,8,["src"])])):xe("",!0)])):(F(),G("div",ha,[s(ge,{description:"获取链接失败"})]))]),_:1},8,["modelValue"])])}}}),va=Be(wa,[["__scopeId","data-v-ed89e1f2"]]),_a={class:"card-header"},Ea=Pe({__name:"NetworkGraph",props:{inboundProxies:{},outboundProxies:{},userGroups:{},routeSchemes:{}},setup(e){mn([gn,Go,bn,hn,wn]);const t=e,n=P({title:{top:0,left:"center"},tooltip:{trigger:"item",formatter:l=>{if(l.dataType==="node")return`${l.data.name}`;if(l.dataType==="edge")return l.data.info?`${l.data.info}`:`${l.data.source} -> ${l.data.target}`}},legend:{data:[{name:"入站代理",icon:"circle",itemStyle:{color:"#4CAF50"}},{name:"用户组",icon:"circle",itemStyle:{color:"#2196F3"}},{name:"路由方案",icon:"circle",itemStyle:{color:"#FF9800"}},{name:"出站代理",icon:"circle",itemStyle:{color:"#9C27B0"}}]},animationDurationUpdate:150,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",data:[],links:[],categories:[{name:"入站代理",itemStyle:{color:"#4CAF50"}},{name:"用户组",itemStyle:{color:"#2196F3"}},{name:"路由方案",itemStyle:{color:"#FF9800"}},{name:"出站代理",itemStyle:{color:"#9C27B0"}}],label:{show:!0,position:"bottom",formatter:"{b}",backgroundColor:"transparent",borderWidth:0,color:"#333",fontSize:12,distance:10},lineStyle:{color:"#999",width:2,curveness:.1},emphasis:{focus:"adjacency",lineStyle:{width:4}}}]});Tt([()=>t.inboundProxies,()=>t.outboundProxies,()=>t.userGroups,()=>t.routeSchemes],()=>{Ft(()=>{o()})},{deep:!0});const o=()=>{console.log("Generating graph data with:",{inboundProxies:t.inboundProxies,userGroups:t.userGroups,routeSchemes:t.routeSchemes,outboundProxies:t.outboundProxies});const l=[],d=[];let b=parseInt(getComputedStyle(document.querySelector(".chart")).width),m=550*parseInt(getComputedStyle(document.querySelector(".chart")).height)/b,v=Math.max(t.inboundProxies.length,t.outboundProxies.length,t.userGroups.length,t.routeSchemes.length),A=m/(v-1);console.log("max_node_count:",v);const I=c=>{if(c<=1)return[m/2];const C=[];let O=A*(c-1),w=m/2-O/2;for(let B=0;B<c;B++)C.push(w+A*B);return C},_=I(t.inboundProxies.length);t.inboundProxies.forEach((c,C)=>{l.push({id:`inbound-${c.id}`,name:c.id,symbolSize:40,category:0,value:c.enabled?1:0,itemStyle:{color:c.enabled?"#4CAF50":"#BDBDBD"},x:100,y:_[C],fixed:!0})});const E=I(t.userGroups.length);t.userGroups.forEach((c,C)=>{const O=`group-${c.id}`;l.push({id:O,name:c.id,symbolSize:40,category:1,itemStyle:{color:"#2196F3"},x:300,y:E[C],fixed:!0}),c.inboundProxyIds.forEach(w=>{d.push({source:`inbound-${w}`,target:O,value:1})})});const R=I(t.routeSchemes.length);t.routeSchemes.forEach((c,C)=>{var w;const O=`scheme-${c.id}`;l.push({id:O,name:c.id,symbolSize:40,category:2,itemStyle:{color:c.enabled?"#FF9800":"#BDBDBD"},x:500,y:R[C],fixed:!0}),(w=c.rules)==null||w.forEach(B=>{B.outbounds.forEach(L=>{d.push({source:O,info:"rule: "+B.priority+" - "+B.name,target:`outbound-${L}`,value:1})})})});const S=I(t.outboundProxies.length);t.outboundProxies.forEach((c,C)=>{l.push({id:`outbound-${c.id}`,name:c.id,symbolSize:40,category:3,value:c.enabled?1:0,itemStyle:{color:"#9C27B0"},x:700,y:S[C],fixed:!0})}),t.userGroups.forEach(c=>{const C=`scheme-${c.routeSchemeId}`;d.push({source:`group-${c.id}`,target:C,value:1})}),console.log("Generated nodes:",l),console.log("Generated links:",d),n.value.series[0].data=l,n.value.series[0].links=d},r=()=>{o()},u=()=>{console.log("Window resized, regenerating graph..."),o()};return Ie(()=>{window.addEventListener("resize",u),o()}),et(()=>{window.removeEventListener("resize",u)}),(l,d)=>{const b=T("el-button"),y=T("el-card");return F(),J(y,{shadow:"never",class:"network-graph"},{header:a(()=>[h("div",_a,[d[1]||(d[1]=h("span",null,"路由拓扑图",-1)),s(b,{type:"primary",onClick:r},{default:a(()=>d[0]||(d[0]=[k("刷新")])),_:1})])]),default:a(()=>[s(z(yn),{class:"chart",option:n.value,autoresize:""},null,8,["option"])]),_:1})}}}),Sa=Be(Ea,[["__scopeId","data-v-ec3d4b10"]]),xa={class:"integrated-management"},Ra={key:0},ka={key:1,class:"network-graph-container"},Ca={class:"main-tabs-container"},Pa={key:0},Ta={key:0},Fa={key:0},Aa={key:1},Oa={class:"dialog-footer"},Ua={key:1},Da={class:"dialog-footer"},$a={class:"dialog-footer"},Va={class:"dialog-footer"},Ia={class:"rules-header"},Ba={class:"dialog-footer"},Na={key:0},La={key:0,class:"qrcode-container"},qa={key:1},ja={class:"dialog-footer"},za=Pe({__name:"IntegratedManagement",setup(e){const t=P("inbound"),n=P("users"),o=re({users:!0,inbound:!0,outbound:!0,groups:!0,routes:!0}),r=P([]),u=P([]),l=P([]),d=P([]),b=P([]),y=P(null),m=P(!1),v=P("add"),A=P(),I=P(null),_=P(!1),E=P("add"),R=P(),S=P(null),c=P("json"),C=P(!1),O=P("add"),w=P(),B=P(null),L=P(!1),K=P("add"),oe=P(),le=P(null),W=P(!1),ge=P(!1),Ee=P("add"),be=P(),M=P(null),st=P(!1),Te=P(""),Je=P(!1),Se=re({id:"",description:""}),ee=re({id:"",email:"",userGroupId:"",password:"",enabled:!0}),X=re({id:"",config:""}),ie=re({id:"",inboundProxyIds:[],routeSchemeId:""}),he=re({id:"",description:"",enabled:!0}),Q=re({name:"",type:"domain",pattern:"",priority:0,outbounds:[],enabled:!0}),Gn={id:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],userGroupId:[{required:!0,message:"请选择用户组",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],enabled:[{required:!0,message:"请选择状态",trigger:"change"}]},Hn={id:[{required:!0,message:"请输入代理名称",trigger:"blur"}],config:[{required:!0,message:"请输入配置",trigger:"blur"}]},Jn={id:[{required:!0,message:"请输入用户组名称",trigger:"blur"}],inboundProxyIds:[{required:!0,message:"请选择入站代理",trigger:"change"}],routeSchemeId:[{required:!0,message:"请选择路由方案",trigger:"change"}]},jt={id:[{required:!0,message:"请输入方案名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]},Kn={name:[{required:!0,message:"请输入规则名称",trigger:"blur"}],type:[{required:!0,message:"请选择目的类型",trigger:"change"}],pattern:[{required:!0,message:"请输入匹配模式",trigger:"blur"}],outbounds:[{required:!0,message:"请选择出站代理",trigger:"change"}]};Ie(async()=>{await Promise.all([Ke(),We(),rt(),at(),Re()])});const Ke=async()=>{try{r.value=await _e.getUsers()}catch(g){x.error("获取用户列表失败"),console.error(g)}finally{o.users=!1}},We=async()=>{try{u.value=await me.getInboundProxies()}catch(g){x.error("获取入站代理列表失败"),console.error(g)}finally{o.inbound=!1}},rt=async()=>{try{l.value=await me.getOutboundProxies()}catch(g){x.error("获取出站代理列表失败"),console.error(g)}finally{o.outbound=!1}},at=async()=>{try{d.value=await ut.getUserGroups()}catch(g){x.error("获取用户组列表失败"),console.error(g)}finally{o.groups=!1}},Re=async()=>{try{b.value=await ue.getRouteSchemes()}catch(g){x.error("获取路由方案列表失败"),console.error(g)}finally{o.routes=!1}},Wn=()=>{v.value="add",Object.assign(ee,{id:"",email:"",userGroupId:"",password:"",enabled:!0}),m.value=!0},Xn=g=>{v.value="edit",I.value=g,Object.assign(ee,{id:g.id,email:g.email,userGroupId:g.userGroupId,enabled:g.enabled}),m.value=!0},Zn=async g=>{try{g.enabled=!g.enabled,await _e.updateUser(g.id,g)?(x.success("状态更新成功"),await Ke()):x.error("状态更新失败")}catch(i){x.error("状态更新失败"),console.error(i)}},Qn=async g=>{try{await je.confirm("确定要重置该用户的密码吗？","提示",{type:"warning"}),await _e.resetPassword(g.id)?x.success("密码重置为用户名"):x.error("密码重置失败")}catch{}},Yn=async g=>{try{await je.confirm("确定要删除该用户吗？","提示",{type:"warning"}),await _e.deleteUser(g.id)?(x.success("删除成功"),await Ke()):x.error("删除失败")}catch{}},eo=async()=>{A.value&&await A.value.validate(async g=>{if(g)try{v.value==="add"?await _e.createUser(ee)?(x.success("添加成功"),m.value=!1,await Ke()):x.error("添加失败"):await _e.updateUser(ee.id,ee)?(x.success("更新成功"),m.value=!1,await Ke()):x.error("更新失败")}catch(i){x.error(v.value==="add"?"添加失败":"更新失败"),console.error(i)}})},zt=g=>{E.value="add",Object.assign(X,{id:"",config:""}),_.value=!0},Mt=(g,i)=>{E.value="edit",S.value=g,Object.assign(X,{id:g.id,config:typeof g.config=="string"?g.config:JSON.stringify(g.config,null,2)}),_.value=!0},to=async(g,i)=>{try{let $;i==="inbound"&&($=await me.updateInboundProxy(g.id,g)),$?(x.success("状态更新成功"),i==="inbound"&&await We()):(g.enabled=!g.enabled,x.error("状态更新失败"))}catch($){g.enabled=!g.enabled,x.error("状态更新失败"),console.error($)}},Gt=async(g,i)=>{try{await je.confirm("确定要删除该代理吗？","提示",{type:"warning"});let $;i==="inbound"?$=await me.deleteInboundProxy(g.id):$=await me.deleteOutboundProxy(g.id),$?(x.success("删除成功"),i==="inbound"?await We():await rt()):x.error("删除失败")}catch{}},no=async g=>{try{g.testing=!0;const i=await me.testOutboundProxySpeed(g.id);g.latency=i.latency,x.success(`延迟测试完成：${i.latency}`)}catch(i){x.error("延迟测试失败"),console.error(i)}finally{g.testing=!1}},oo=async g=>{try{Te.value=g.linkConfig||"",st.value=!0}catch(i){x.error("获取连接配置失败"),console.error(i)}},so=()=>{navigator.clipboard.writeText(Te.value),x.success("连接配置已复制到剪贴板")},ro=g=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(g)}`,ao=async()=>{R.value&&await R.value.validate(async g=>{var i,$;if(g)try{JSON.parse(X.config);let U=X.config;if(E.value==="add"){let H;t.value==="inbound"?H=await me.createInboundProxy({id:X.id,enabled:!0,config:U}):H=await me.createOutboundProxy({id:X.id,enabled:!0,config:U}),H?(x.success("添加成功"),_.value=!1,await Promise.all([We(),rt()])):x.error("添加失败")}else{let H;t.value==="inbound"?H=await me.updateInboundProxy(X.id,{enabled:(i=S.value)==null?void 0:i.enabled,config:U}):H=await me.updateOutboundProxy(X.id,{enabled:($=S.value)==null?void 0:$.enabled,config:U}),H?(x.success("更新成功"),_.value=!1,await Promise.all([We(),rt()])):x.error("更新失败")}}catch(U){x.error("配置格式错误"),console.error(U)}})},lo=()=>{O.value="add",Object.assign(ie,{id:"",inboundProxyIds:[],routeSchemeId:""}),C.value=!0},io=g=>{O.value="edit",B.value=g,Object.assign(ie,{id:g.id,inboundProxyIds:g.inboundProxyIds,routeSchemeId:g.routeSchemeId}),C.value=!0},uo=async g=>{try{await je.confirm("确定要删除该用户组吗？","提示",{type:"warning"}),await ut.deleteUserGroup(g.id)?(x.success("删除成功"),await at()):x.error("删除失败")}catch{}},co=async()=>{w.value&&await w.value.validate(async g=>{if(g)try{O.value==="add"?await ut.createUserGroup(ie)?(x.success("添加成功"),C.value=!1,await at()):x.error("添加失败"):await ut.updateUserGroup(ie.id,ie)?(x.success("更新成功"),C.value=!1,await at()):x.error("更新失败")}catch(i){x.error(O.value==="add"?"添加失败":"更新失败"),console.error(i)}})},fo=()=>{K.value="add",Object.assign(he,{id:"",description:"",enabled:!0}),L.value=!0},po=g=>{K.value="edit",le.value=g,Object.assign(he,{id:g.id,description:g.description,enabled:g.enabled}),L.value=!0},mo=g=>{le.value=g,Se.id=`${g.id} 副本`,Se.description=`${g.description||""} (复制于 ${g.id})`,Je.value=!0},yo=async()=>{if(le.value)try{const g=await ue.createRouteScheme({id:Se.id,description:Se.description,enabled:!1}),i=await ue.getRules(le.value.id);if(i&&i.length>0)for(const $ of i)await ue.addRule(g.id,{name:$.name,type:$.type,pattern:$.pattern,priority:$.priority||0,outbounds:$.outbounds,enabled:$.enabled||!0});x.success("复制方案成功"),Je.value=!1,await Re()}catch(g){console.error("复制方案失败",g),x.error("复制方案失败")}},go=async g=>{try{await je.confirm("确定要删除该路由方案吗？","提示",{type:"warning"}),await ue.deleteRouteScheme(g.id),x.success("删除成功"),await Re()}catch(i){console.error("删除路由方案失败",i),x.error("删除路由方案失败")}},bo=async g=>{try{await ue.updateRouteScheme(g.id,{enabled:g.enabled}),x.success("更新成功"),await Re()}catch(i){g.enabled=!g.enabled,console.error("更新路由方案状态失败",i),x.error("更新路由方案状态失败")}},ho=async()=>{oe.value&&await oe.value.validate(async g=>{if(g)try{K.value==="add"?(await ue.createRouteScheme(he),x.success("添加成功")):(await ue.updateRouteScheme(he.id,he),x.success("更新成功")),L.value=!1,await Re()}catch(i){console.error("保存路由方案失败",i),x.error("保存路由方案失败")}})},wo=g=>{y.value=g,W.value=!0},vo=()=>{Ee.value="add",Object.assign(Q,{name:"",type:"domain",pattern:"",priority:0,outbounds:[],enabled:!0}),ge.value=!0},_o=g=>{Ee.value="edit",M.value=g,Object.assign(Q,{name:g.name,type:g.type,pattern:g.pattern,priority:g.priority,outbounds:g.outbounds,enabled:g.enabled}),ge.value=!0},Eo=async g=>{try{if(await je.confirm("确定要删除该规则吗？","提示",{type:"warning"}),!y.value)return;await ue.deleteRule(y.value.id,g.id),x.success("删除成功"),await Re(),y.value=b.value.find(i=>{var $;return i.id===(($=y.value)==null?void 0:$.id)})||null}catch(i){console.error("删除规则失败",i),x.error("删除规则失败")}},Ht=async(g,i)=>{if(!y.value)return;const $=y.value.rules,U=$.findIndex(H=>H.id===g.id);i==="up"&&U>0?[$[U],$[U-1]]=[$[U-1],$[U]]:i==="down"&&U<$.length-1&&([$[U],$[U+1]]=[$[U+1],$[U]]);try{const H=$.map(ce=>ce.id);await ue.updateRuleOrder(y.value.id,H),x.success("规则顺序更新成功"),await Re(),y.value=b.value.find(ce=>{var V;return ce.id===((V=y.value)==null?void 0:V.id)})||null}catch(H){console.error("更新规则顺序失败",H),x.error("更新规则顺序失败")}},So=async()=>{!be.value||!y.value||await be.value.validate(async g=>{if(g)try{Ee.value==="add"?(await ue.addRule(y.value.id,Q),x.success("添加成功")):M.value&&(await ue.updateRule(y.value.id,M.value.id,{id:M.value.id,name:Q.name,type:Q.type,pattern:Q.pattern,priority:Q.priority,outbounds:Q.outbounds,enabled:Q.enabled}),x.success("更新成功")),ge.value=!1,await Re(),y.value=b.value.find(i=>{var $;return i.id===(($=y.value)==null?void 0:$.id)})||null}catch(i){console.error("保存规则失败",i),x.error("保存规则失败")}})},Jt=g=>d.value.filter(i=>i.routeSchemeId===g),xo=g=>({domain:"success",ip:"warning",geosite:"info",any:"danger"})[g]||"info",Ro=g=>({domain:"域名",ip:"IP",geosite:"Geosite",any:"任何"})[g]||g,ko=g=>{const i=g.target,$=i.selectionStart,U=i.selectionEnd;X.config=X.config.substring(0,$)+"    "+X.config.substring(U),Ft(()=>{i.selectionStart=i.selectionEnd=$+4})},Co=g=>{const i=g.target,$=i.selectionStart;i.selectionEnd;const H=X.config.substring(0,$).split(`
`),ce=$-H[H.length-1].length;X.config.substring(ce,$).match(/^    /)&&(X.config=X.config.substring(0,ce)+X.config.substring($),Ft(()=>{i.selectionStart=i.selectionEnd=ce}))};return(g,i)=>{var Kt;const $=T("el-empty"),U=T("el-table-column"),H=T("el-tag"),ce=T("el-switch"),V=T("el-button"),Ne=T("el-button-group"),Le=T("el-table"),Fe=T("el-tab-pane"),Et=T("el-tabs"),se=T("el-input"),Y=T("el-form-item"),ke=T("el-option"),Xe=T("el-select"),qe=T("el-form"),Ce=T("el-dialog"),Po=T("el-image"),Ze=yt("loading");return F(),G("div",xa,[!o.routes&&!o.groups&&!o.inbound&&!o.outbound?(F(),G("div",Ra,[s(Sa,{"inbound-proxies":u.value,"outbound-proxies":l.value,"user-groups":d.value,"route-schemes":b.value},null,8,["inbound-proxies","outbound-proxies","user-groups","route-schemes"])])):(F(),G("div",ka,[s($,{description:"数据加载中，请稍候..."})])),h("div",Ca,[s(Et,{modelValue:t.value,"onUpdate:modelValue":i[3]||(i[3]=f=>t.value=f),class:"management-tabs"},{default:a(()=>[s(Fe,{label:"入站代理",name:"inbound"},{default:a(()=>[de((F(),J(Le,{data:u.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"代理名称"}),s(U,{prop:"scheme",label:"代理类型"}),s(U,{prop:"running",label:"运行状态"},{default:a(({row:f})=>[s(H,{type:f.running?"success":"danger"},{default:a(()=>[k(q(f.running?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),s(U,{prop:"enabled",label:"启用"},{default:a(({row:f})=>[s(ce,{modelValue:f.enabled,"onUpdate:modelValue":j=>f.enabled=j,onChange:j=>to(f,"inbound")},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),s(U,{label:"操作",width:"300"},{header:a(()=>[s(V,{type:"primary",onClick:i[0]||(i[0]=f=>zt("inbound")),style:{width:"70%"}},{default:a(()=>i[38]||(i[38]=[k(" 添加入站代理 ")])),_:1})]),default:a(({row:f})=>[s(Ne,null,{default:a(()=>[s(V,{size:"small",type:"success",onClick:j=>oo(f)},{default:a(()=>i[39]||(i[39]=[k(" 获取连接配置 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"primary",onClick:j=>Mt(f,"inbound")},{default:a(()=>i[40]||(i[40]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>Gt(f,"inbound")},{default:a(()=>i[41]||(i[41]=[k(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,o.inbound]])]),_:1}),s(Fe,{label:"用户管理",name:"user_manage"},{default:a(()=>[s(Et,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=f=>n.value=f)},{default:a(()=>[s(Fe,{label:"用户",name:"users"},{default:a(()=>[de((F(),J(Le,{data:r.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"用户名"}),s(U,{prop:"email",label:"邮箱"}),s(U,{prop:"userGroupId",label:"用户组"}),s(U,{prop:"enabled",label:"状态"},{default:a(({row:f})=>[s(H,{type:f.enabled?"success":"danger"},{default:a(()=>[k(q(f.enabled?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),s(U,{label:"操作",width:"300"},{header:a(()=>[s(V,{type:"primary",onClick:Wn,style:{width:"75%"}},{default:a(()=>i[42]||(i[42]=[k(" 添加用户 ")])),_:1})]),default:a(({row:f})=>[s(Ne,null,{default:a(()=>[s(V,{size:"small",type:f.enabled?"danger":"success",onClick:j=>Zn(f)},{default:a(()=>[k(q(f.enabled?"禁用":"启用"),1)]),_:2},1032,["type","onClick"]),s(V,{size:"small",type:"primary",onClick:j=>Xn(f)},{default:a(()=>i[43]||(i[43]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"warning",onClick:j=>Qn(f)},{default:a(()=>i[44]||(i[44]=[k(" 重置密码 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>Yn(f)},{default:a(()=>i[45]||(i[45]=[k(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,o.users]])]),_:1}),s(Fe,{label:"用户组",name:"groups"},{default:a(()=>[de((F(),J(Le,{data:d.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"名称"}),s(U,{label:"关联入站代理"},{default:a(({row:f})=>[(F(!0),G(ve,null,Oe(f.inboundProxyIds,j=>(F(),J(H,{key:j,class:"mx-1",type:"success",style:{"margin-right":"4px"}},{default:a(()=>[k(q(j),1)]),_:2},1024))),128)),!f.inboundProxyIds||f.inboundProxyIds.length===0?(F(),G("span",Pa,"无")):xe("",!0)]),_:1}),s(U,{label:"路由方案"},{default:a(({row:f})=>[s(H,{type:"info"},{default:a(()=>[k(q(f.routeSchemeId),1)]),_:2},1024)]),_:1}),s(U,{label:"用户数"},{default:a(({row:f})=>[s(H,{type:"warning"},{default:a(()=>[k(q(f.userCount||0)+"人",1)]),_:2},1024)]),_:1}),s(U,{label:"操作",width:"200"},{header:a(()=>[s(V,{type:"primary",onClick:lo},{default:a(()=>i[46]||(i[46]=[k("添加用户组")])),_:1})]),default:a(({row:f})=>[s(Ne,null,{default:a(()=>[s(V,{size:"small",onClick:j=>io(f)},{default:a(()=>i[47]||(i[47]=[k("编辑")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>uo(f)},{default:a(()=>i[48]||(i[48]=[k("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,o.groups]])]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(Fe,{label:"路由管理",name:"routes"},{default:a(()=>[de((F(),J(Le,{data:b.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"方案名称"}),s(U,{prop:"description",label:"描述"}),s(U,{prop:"enabled",label:"状态"},{default:a(({row:f})=>[s(ce,{modelValue:f.enabled,"onUpdate:modelValue":j=>f.enabled=j,onChange:j=>bo(f)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),s(U,{label:"关联用户组"},{default:a(({row:f})=>[(F(!0),G(ve,null,Oe(Jt(f.id),j=>(F(),J(H,{key:j.id,class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[k(q(j.id)+" ("+q(j.userCount||0)+") ",1)]),_:2},1024))),128)),Jt(f.id).length===0?(F(),G("span",Ta,"无")):xe("",!0)]),_:1}),s(U,{label:"操作",width:"300"},{header:a(()=>[s(V,{type:"primary",onClick:fo,style:{width:"75%"}},{default:a(()=>i[49]||(i[49]=[k(" 添加路由方案 ")])),_:1})]),default:a(({row:f})=>[s(Ne,null,{default:a(()=>[s(V,{size:"small",type:"primary",onClick:j=>wo(f)},{default:a(()=>i[50]||(i[50]=[k(" 查看规则 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"success",onClick:j=>po(f)},{default:a(()=>i[51]||(i[51]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"info",onClick:j=>mo(f)},{default:a(()=>i[52]||(i[52]=[k(" 复制 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>go(f)},{default:a(()=>i[53]||(i[53]=[k(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,o.routes]])]),_:1}),s(Fe,{label:"出站代理",name:"outbound"},{default:a(()=>[de((F(),J(Le,{data:l.value,style:{width:"100%"}},{default:a(()=>[s(U,{prop:"id",label:"代理名称"}),s(U,{prop:"scheme",label:"代理类型"}),s(U,{label:"延迟"},{default:a(({row:f})=>[f.latency!==void 0?(F(),G("span",Fa,q(f.latency),1)):(F(),G("span",Aa,"-"))]),_:1}),s(U,{label:"操作",width:"250"},{header:a(()=>[s(V,{type:"primary",onClick:i[2]||(i[2]=f=>zt("outbound")),style:{width:"75%"}},{default:a(()=>i[54]||(i[54]=[k(" 添加出站代理 ")])),_:1})]),default:a(({row:f})=>[s(Ne,null,{default:a(()=>[s(V,{size:"small",type:"warning",onClick:j=>no(f),loading:f.testing},{default:a(()=>i[55]||(i[55]=[k(" 测试延迟 ")])),_:2},1032,["onClick","loading"]),s(V,{size:"small",type:"primary",onClick:j=>Mt(f,"outbound")},{default:a(()=>i[56]||(i[56]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:j=>Gt(f,"outbound")},{default:a(()=>i[57]||(i[57]=[k(" 删除 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ze,o.outbound]])]),_:1})]),_:1},8,["modelValue"])]),s(Ce,{modelValue:m.value,"onUpdate:modelValue":i[10]||(i[10]=f=>m.value=f),title:v.value==="add"?"添加用户":"编辑用户",width:"500px"},{footer:a(()=>[h("span",Oa,[s(V,{onClick:i[9]||(i[9]=f=>m.value=!1)},{default:a(()=>i[58]||(i[58]=[k("取消")])),_:1}),s(V,{type:"primary",onClick:eo},{default:a(()=>i[59]||(i[59]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref_key:"userFormRef",ref:A,model:ee,rules:Gn,"label-width":"100px"},{default:a(()=>[s(Y,{label:"用户名",prop:"id"},{default:a(()=>[s(se,{modelValue:ee.id,"onUpdate:modelValue":i[4]||(i[4]=f=>ee.id=f),disabled:v.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(Y,{label:"邮箱",prop:"email"},{default:a(()=>[s(se,{modelValue:ee.email,"onUpdate:modelValue":i[5]||(i[5]=f=>ee.email=f)},null,8,["modelValue"])]),_:1}),s(Y,{label:"用户组",prop:"userGroupId"},{default:a(()=>[s(Xe,{modelValue:ee.userGroupId,"onUpdate:modelValue":i[6]||(i[6]=f=>ee.userGroupId=f),placeholder:"请选择用户组"},{default:a(()=>[(F(!0),G(ve,null,Oe(d.value,f=>(F(),J(ke,{key:f.id,label:f.id,value:f.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),v.value==="add"?(F(),J(Y,{key:0,label:"密码",prop:"password"},{default:a(()=>[s(se,{modelValue:ee.password,"onUpdate:modelValue":i[7]||(i[7]=f=>ee.password=f),type:"password","show-password":"",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1})):xe("",!0),s(Y,{label:"状态",prop:"enabled"},{default:a(()=>[s(ce,{modelValue:ee.enabled,"onUpdate:modelValue":i[8]||(i[8]=f=>ee.enabled=f),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:_.value,"onUpdate:modelValue":i[15]||(i[15]=f=>_.value=f),title:E.value==="add"?"添加代理":"编辑代理",width:"500px"},{footer:a(()=>[h("span",Da,[s(V,{onClick:i[14]||(i[14]=f=>_.value=!1)},{default:a(()=>i[60]||(i[60]=[k("取消")])),_:1}),s(V,{type:"primary",onClick:ao},{default:a(()=>i[61]||(i[61]=[k(" 确定 ")])),_:1})])]),default:a(()=>[E.value==="add"?(F(),J(Et,{key:0,modelValue:c.value,"onUpdate:modelValue":i[11]||(i[11]=f=>c.value=f)},{default:a(()=>[s(Fe,{label:"JSON导入",name:"json"})]),_:1},8,["modelValue"])):xe("",!0),c.value==="json"||E.value==="edit"?(F(),G("div",Ua,[s(qe,{ref_key:"proxyFormRef",ref:R,model:X,rules:Hn},{default:a(()=>[s(Y,{label:"名称",prop:"id"},{default:a(()=>[s(se,{modelValue:X.id,"onUpdate:modelValue":i[12]||(i[12]=f=>X.id=f),type:"textarea",rows:1,disabled:E.value==="edit",placeholder:"请输入代理名称"},null,8,["modelValue","disabled"])]),_:1}),s(Y,{label:"配置",prop:"config"},{default:a(()=>[s(se,{modelValue:X.config,"onUpdate:modelValue":i[13]||(i[13]=f=>X.config=f),type:"textarea",rows:10,placeholder:"请输入JSON配置",onKeydown:[Pt(Xt(ko,["prevent"]),["tab"]),Pt(Xt(Co,["shift","prevent"]),["tab"])]},null,8,["modelValue","onKeydown"])]),_:1})]),_:1},8,["model"])])):xe("",!0)]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:C.value,"onUpdate:modelValue":i[20]||(i[20]=f=>C.value=f),title:O.value==="add"?"添加用户组":"编辑用户组",width:"500px"},{footer:a(()=>[h("span",$a,[s(V,{onClick:i[19]||(i[19]=f=>C.value=!1)},{default:a(()=>i[62]||(i[62]=[k("取消")])),_:1}),s(V,{type:"primary",onClick:co},{default:a(()=>i[63]||(i[63]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref_key:"groupFormRef",ref:w,model:ie,rules:Jn,"label-width":"100px"},{default:a(()=>[s(Y,{label:"名称",prop:"id"},{default:a(()=>[s(se,{modelValue:ie.id,"onUpdate:modelValue":i[16]||(i[16]=f=>ie.id=f),disabled:O.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(Y,{label:"入站代理",prop:"inboundProxyIds"},{default:a(()=>[s(Xe,{modelValue:ie.inboundProxyIds,"onUpdate:modelValue":i[17]||(i[17]=f=>ie.inboundProxyIds=f),multiple:"",placeholder:"请选择入站代理"},{default:a(()=>[(F(!0),G(ve,null,Oe(u.value,f=>(F(),J(ke,{key:f.id,label:f.id,value:f.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(Y,{label:"路由方案",prop:"routeSchemeId"},{default:a(()=>[s(Xe,{modelValue:ie.routeSchemeId,"onUpdate:modelValue":i[18]||(i[18]=f=>ie.routeSchemeId=f),placeholder:"请选择路由方案"},{default:a(()=>[(F(!0),G(ve,null,Oe(b.value,f=>(F(),J(ke,{key:f.id,label:f.id,value:f.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:L.value,"onUpdate:modelValue":i[24]||(i[24]=f=>L.value=f),title:K.value==="add"?"添加方案":"编辑方案",width:"500px"},{footer:a(()=>[h("span",Va,[s(V,{onClick:i[23]||(i[23]=f=>L.value=!1)},{default:a(()=>i[64]||(i[64]=[k("取消")])),_:1}),s(V,{type:"primary",onClick:ho},{default:a(()=>i[65]||(i[65]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref_key:"schemeFormRef",ref:oe,model:he,rules:jt,"label-width":"100px"},{default:a(()=>[s(Y,{label:"方案名称",prop:"id"},{default:a(()=>[s(se,{modelValue:he.id,"onUpdate:modelValue":i[21]||(i[21]=f=>he.id=f),disabled:K.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),s(Y,{label:"描述",prop:"description"},{default:a(()=>[s(se,{modelValue:he.description,"onUpdate:modelValue":i[22]||(i[22]=f=>he.description=f),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:W.value,"onUpdate:modelValue":i[25]||(i[25]=f=>W.value=f),title:((Kt=y.value)==null?void 0:Kt.id)+" - 路由规则",width:"800px"},{default:a(()=>{var f,j;return[h("div",Ia,[s(V,{type:"primary",onClick:vo},{default:a(()=>i[66]||(i[66]=[k("添加规则")])),_:1})]),s(Le,{data:((j=(f=y.value)==null?void 0:f.rules)==null?void 0:j.sort((fe,Ae)=>(fe.priority||0)-(Ae.priority||0)))||[],style:{width:"100%"}},{default:a(()=>[s(U,{type:"index",label:"序号",width:"80"}),s(U,{prop:"name",label:"规则名称"}),s(U,{prop:"type",label:"目的类型"},{default:a(({row:fe})=>[s(H,{type:xo(fe.type)},{default:a(()=>[k(q(Ro(fe.type)),1)]),_:2},1032,["type"])]),_:1}),s(U,{prop:"pattern",label:"匹配模式"}),s(U,{prop:"outbounds",label:"出站代理"},{default:a(({row:fe})=>[(F(!0),G(ve,null,Oe(fe.outbounds,Ae=>(F(),J(H,{key:Ae,class:"mx-1",style:{"margin-right":"4px"}},{default:a(()=>[k(q(Ae),1)]),_:2},1024))),128))]),_:1}),s(U,{label:"操作",width:"150"},{default:a(({row:fe,$index:Ae})=>[s(Ne,null,{default:a(()=>{var Wt;return[s(V,{size:"small",type:"primary",onClick:St=>_o(fe)},{default:a(()=>i[67]||(i[67]=[k(" 编辑 ")])),_:2},1032,["onClick"]),s(V,{size:"small",type:"danger",onClick:St=>Eo(fe)},{default:a(()=>i[68]||(i[68]=[k(" 删除 ")])),_:2},1032,["onClick"]),s(V,{size:"small",disabled:Ae===0,onClick:St=>Ht(fe,"up")},{default:a(()=>i[69]||(i[69]=[k(" ↑ ")])),_:2},1032,["disabled","onClick"]),s(V,{size:"small",disabled:Ae===(((Wt=y.value)==null?void 0:Wt.rules.length)||0)-1,onClick:St=>Ht(fe,"down")},{default:a(()=>i[70]||(i[70]=[k(" ↓ ")])),_:2},1032,["disabled","onClick"])]}),_:2},1024)]),_:1})]),_:1},8,["data"])]}),_:1},8,["modelValue","title"]),s(Ce,{modelValue:ge.value,"onUpdate:modelValue":i[31]||(i[31]=f=>ge.value=f),title:Ee.value==="add"?"添加规则":"编辑规则",width:"500px"},{footer:a(()=>[h("span",Ba,[s(V,{onClick:i[30]||(i[30]=f=>ge.value=!1)},{default:a(()=>i[71]||(i[71]=[k("取消")])),_:1}),s(V,{type:"primary",onClick:So},{default:a(()=>i[72]||(i[72]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref_key:"ruleFormRef",ref:be,model:Q,rules:Kn,"label-width":"100px"},{default:a(()=>[s(Y,{label:"规则名称",prop:"name"},{default:a(()=>[s(se,{modelValue:Q.name,"onUpdate:modelValue":i[26]||(i[26]=f=>Q.name=f)},null,8,["modelValue"])]),_:1}),s(Y,{label:"目的类型",prop:"type"},{default:a(()=>[s(Xe,{modelValue:Q.type,"onUpdate:modelValue":i[27]||(i[27]=f=>Q.type=f),placeholder:"请选择目的类型"},{default:a(()=>[s(ke,{label:"域名",value:"domain"}),s(ke,{label:"IP",value:"ip"}),s(ke,{label:"Geosite",value:"geosite"}),s(ke,{label:"任何",value:"any"})]),_:1},8,["modelValue"])]),_:1}),s(Y,{label:"匹配模式",prop:"pattern"},{default:a(()=>[s(se,{modelValue:Q.pattern,"onUpdate:modelValue":i[28]||(i[28]=f=>Q.pattern=f)},null,8,["modelValue"])]),_:1}),s(Y,{label:"出站代理",prop:"outbounds"},{default:a(()=>[s(Xe,{modelValue:Q.outbounds,"onUpdate:modelValue":i[29]||(i[29]=f=>Q.outbounds=f),multiple:"",placeholder:"请选择出站代理"},{default:a(()=>[(F(!0),G(ve,null,Oe(l.value,f=>(F(),J(ke,{key:f.id,label:f.id,value:f.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Ce,{modelValue:st.value,"onUpdate:modelValue":i[33]||(i[33]=f=>st.value=f),title:"连接配置",width:"500px"},{default:a(()=>[Te.value?(F(),G("div",Na,[s(se,{readonly:"",rows:10,type:"textarea",modelValue:Te.value,"onUpdate:modelValue":i[32]||(i[32]=f=>Te.value=f)},null,8,["modelValue"]),s(V,{onClick:so,type:"primary",style:{width:"100%"}},{default:a(()=>i[73]||(i[73]=[k("复制")])),_:1}),Te.value?(F(),G("div",La,[s(Po,{src:ro(Te.value),fit:"contain",style:{width:"200px",height:"200px"}},null,8,["src"])])):xe("",!0)])):(F(),G("div",qa,[s($,{description:"获取链接失败"})]))]),_:1},8,["modelValue"]),s(Ce,{modelValue:Je.value,"onUpdate:modelValue":i[37]||(i[37]=f=>Je.value=f),title:"复制路由方案",width:"500px"},{footer:a(()=>[h("span",ja,[s(V,{onClick:i[36]||(i[36]=f=>Je.value=!1)},{default:a(()=>i[74]||(i[74]=[k("取消")])),_:1}),s(V,{type:"primary",onClick:yo},{default:a(()=>i[75]||(i[75]=[k(" 确定 ")])),_:1})])]),default:a(()=>[s(qe,{ref:"copySchemeFormRef",model:Se,rules:jt,"label-width":"100px"},{default:a(()=>[s(Y,{label:"方案名称",prop:"id"},{default:a(()=>[s(se,{modelValue:Se.id,"onUpdate:modelValue":i[34]||(i[34]=f=>Se.id=f)},null,8,["modelValue"])]),_:1}),s(Y,{label:"描述",prop:"description"},{default:a(()=>[s(se,{modelValue:Se.description,"onUpdate:modelValue":i[35]||(i[35]=f=>Se.description=f),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Ma=Be(za,[["__scopeId","data-v-56240122"]]),Ga=[{path:"/login",name:"Login",component:Lr,meta:{requiresAuth:!1}},{path:"/",component:$r,meta:{requiresAuth:!0},children:[{path:"",name:"Dashboard",component:Qr,meta:{adminOnly:!0}},{path:"system",name:"System",component:na,meta:{adminOnly:!0}},{path:"my-proxies",name:"UserProxies",component:va,meta:{adminOnly:!1}},{path:"/integrated",name:"IntegratedManagement",component:Ma,meta:{adminOnly:!0}}]}],Mn=Uo({history:Do(),routes:Ga});Mn.beforeEach(async(e,t,n)=>{const o=localStorage.getItem("userGroupId");console.log("userGroupId",o),console.log("to.meta.requiresAuth",e.path),e.matched.length<1&&n("/login"),e.meta.requiresAuth?o==null?n("/login"):e.meta.adminOnly?o=="管理员"?n():n("/my-proxies"):n():e.path=="/login"&&o!=null?n("/"):n()});/*! Element Plus v2.9.6 */var Ha={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const ot=$o(Ho);for(const[e,t]of Object.entries(qo))ot.component(e,t);ot.use(Vo());ot.use(Mn);ot.use(jo,{locale:Ha});const Ja=async()=>{try{const e=await Me.getSystemName();document.title=e.systemName||"ZIP管理面板"}catch(e){console.error("获取系统名称失败",e),document.title="ZIP管理面板"}};Ja();ot.mount("#app");
//# sourceMappingURL=index-DTltoj0_.js.map
